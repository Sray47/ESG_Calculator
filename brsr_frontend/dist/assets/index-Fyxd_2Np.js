var W0=Object.defineProperty;var ej=(r,t,s)=>t in r?W0(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var c_=(r,t,s)=>ej(r,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=s(c);fetch(c.href,o)}})();function fp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function tj(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var s=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var c=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return r[i]}})}),s}var u_={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function nj(){if(jy)return Sc;jy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,c,o){var d=null;if(o!==void 0&&(d=""+o),c.key!==void 0&&(d=""+c.key),"key"in c){o={};for(var h in c)h!=="key"&&(o[h]=c[h])}else o=c;return c=o.ref,{$$typeof:r,type:i,key:d,ref:c!==void 0?c:null,props:o}}return Sc.Fragment=t,Sc.jsx=s,Sc.jsxs=s,Sc}var wy;function rj(){return wy||(wy=1,u_.exports=nj()),u_.exports}var a=rj(),d_={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function aj(){if(Sy)return Ye;Sy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function A(O,J,ge){this.props=O,this.context=J,this.refs=R,this.updater=ge||E}A.prototype.isReactComponent={},A.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=A.prototype;function C(O,J,ge){this.props=O,this.context=J,this.refs=R,this.updater=ge||E}var b=C.prototype=new k;b.constructor=C,w(b,A.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function z(O,J,ge,_e,Ae,Se){return ge=Se.ref,{$$typeof:r,type:O,key:J,ref:ge!==void 0?ge:null,props:Se}}function X(O,J){return z(O.type,J,void 0,void 0,void 0,O.props)}function Q(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function ne(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return J[ge]})}var ce=/\/+/g;function M(O,J){return typeof O=="object"&&O!==null&&O.key!=null?ne(""+O.key):J.toString(36)}function B(){}function I(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(B,B):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function de(O,J,ge,_e,Ae){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var le=!1;if(O===null)le=!0;else switch(Se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(O.$$typeof){case r:case t:le=!0;break;case g:return le=O._init,de(le(O._payload),J,ge,_e,Ae)}}if(le)return Ae=Ae(O),le=_e===""?"."+M(O,0):_e,j(Ae)?(ge="",le!=null&&(ge=le.replace(ce,"$&/")+"/"),de(Ae,J,ge,"",function(Et){return Et})):Ae!=null&&(Q(Ae)&&(Ae=X(Ae,ge+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(ce,"$&/")+"/")+le)),J.push(Ae)),1;le=0;var ke=_e===""?".":_e+":";if(j(O))for(var we=0;we<O.length;we++)_e=O[we],Se=ke+M(_e,we),le+=de(_e,J,ge,Se,Ae);else if(we=y(O),typeof we=="function")for(O=we.call(O),we=0;!(_e=O.next()).done;)_e=_e.value,Se=ke+M(_e,we++),le+=de(_e,J,ge,Se,Ae);else if(Se==="object"){if(typeof O.then=="function")return de(I(O),J,ge,_e,Ae);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return le}function F(O,J,ge){if(O==null)return O;var _e=[],Ae=0;return de(O,_e,"","",function(Se){return J.call(ge,Se,Ae++)}),_e}function W(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ue(){}return Ye.Children={map:F,forEach:function(O,J,ge){F(O,function(){J.apply(this,arguments)},ge)},count:function(O){var J=0;return F(O,function(){J++}),J},toArray:function(O){return F(O,function(J){return J})||[]},only:function(O){if(!Q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ye.Component=A,Ye.Fragment=s,Ye.Profiler=c,Ye.PureComponent=C,Ye.StrictMode=i,Ye.Suspense=p,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ye.cache=function(O){return function(){return O.apply(null,arguments)}},Ye.cloneElement=function(O,J,ge){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var _e=w({},O.props),Ae=O.key,Se=void 0;if(J!=null)for(le in J.ref!==void 0&&(Se=void 0),J.key!==void 0&&(Ae=""+J.key),J)!T.call(J,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&J.ref===void 0||(_e[le]=J[le]);var le=arguments.length-2;if(le===1)_e.children=ge;else if(1<le){for(var ke=Array(le),we=0;we<le;we++)ke[we]=arguments[we+2];_e.children=ke}return z(O.type,Ae,void 0,void 0,Se,_e)},Ye.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Ye.createElement=function(O,J,ge){var _e,Ae={},Se=null;if(J!=null)for(_e in J.key!==void 0&&(Se=""+J.key),J)T.call(J,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ae[_e]=J[_e]);var le=arguments.length-2;if(le===1)Ae.children=ge;else if(1<le){for(var ke=Array(le),we=0;we<le;we++)ke[we]=arguments[we+2];Ae.children=ke}if(O&&O.defaultProps)for(_e in le=O.defaultProps,le)Ae[_e]===void 0&&(Ae[_e]=le[_e]);return z(O,Se,void 0,void 0,null,Ae)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(O){return{$$typeof:h,render:O}},Ye.isValidElement=Q,Ye.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:W}},Ye.memo=function(O,J){return{$$typeof:m,type:O,compare:J===void 0?null:J}},Ye.startTransition=function(O){var J=N.T,ge={};N.T=ge;try{var _e=O(),Ae=N.S;Ae!==null&&Ae(ge,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ue,me)}catch(Se){me(Se)}finally{N.T=J}},Ye.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ye.use=function(O){return N.H.use(O)},Ye.useActionState=function(O,J,ge){return N.H.useActionState(O,J,ge)},Ye.useCallback=function(O,J){return N.H.useCallback(O,J)},Ye.useContext=function(O){return N.H.useContext(O)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(O,J){return N.H.useDeferredValue(O,J)},Ye.useEffect=function(O,J,ge){var _e=N.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(O,J)},Ye.useId=function(){return N.H.useId()},Ye.useImperativeHandle=function(O,J,ge){return N.H.useImperativeHandle(O,J,ge)},Ye.useInsertionEffect=function(O,J){return N.H.useInsertionEffect(O,J)},Ye.useLayoutEffect=function(O,J){return N.H.useLayoutEffect(O,J)},Ye.useMemo=function(O,J){return N.H.useMemo(O,J)},Ye.useOptimistic=function(O,J){return N.H.useOptimistic(O,J)},Ye.useReducer=function(O,J,ge){return N.H.useReducer(O,J,ge)},Ye.useRef=function(O){return N.H.useRef(O)},Ye.useState=function(O){return N.H.useState(O)},Ye.useSyncExternalStore=function(O,J,ge){return N.H.useSyncExternalStore(O,J,ge)},Ye.useTransition=function(){return N.H.useTransition()},Ye.version="19.1.0",Ye}var Cy;function hp(){return Cy||(Cy=1,d_.exports=aj()),d_.exports}var D=hp();const ot=fp(D);var f_={exports:{}},Cc={},h_={exports:{}},__={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function sj(){return ky||(ky=1,function(r){function t(F,W){var me=F.length;F.push(W);e:for(;0<me;){var ue=me-1>>>1,O=F[ue];if(0<c(O,W))F[ue]=W,F[me]=O,me=ue;else break e}}function s(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var W=F[0],me=F.pop();if(me!==W){F[0]=me;e:for(var ue=0,O=F.length,J=O>>>1;ue<J;){var ge=2*(ue+1)-1,_e=F[ge],Ae=ge+1,Se=F[Ae];if(0>c(_e,me))Ae<O&&0>c(Se,_e)?(F[ue]=Se,F[Ae]=me,ue=Ae):(F[ue]=_e,F[ge]=me,ue=ge);else if(Ae<O&&0>c(Se,me))F[ue]=Se,F[Ae]=me,ue=Ae;else break e}}return W}function c(F,W){var me=F.sortIndex-W.sortIndex;return me!==0?me:F.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var p=[],m=[],g=1,v=null,y=3,E=!1,w=!1,R=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function j(F){for(var W=s(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=F)i(m),W.sortIndex=W.expirationTime,t(p,W);else break;W=s(m)}}function N(F){if(R=!1,j(F),!w)if(s(p)!==null)w=!0,T||(T=!0,M());else{var W=s(m);W!==null&&de(N,W.startTime-F)}}var T=!1,z=-1,X=5,Q=-1;function ne(){return A?!0:!(r.unstable_now()-Q<X)}function ce(){if(A=!1,T){var F=r.unstable_now();Q=F;var W=!0;try{e:{w=!1,R&&(R=!1,C(z),z=-1),E=!0;var me=y;try{t:{for(j(F),v=s(p);v!==null&&!(v.expirationTime>F&&ne());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,y=v.priorityLevel;var O=ue(v.expirationTime<=F);if(F=r.unstable_now(),typeof O=="function"){v.callback=O,j(F),W=!0;break t}v===s(p)&&i(p),j(F)}else i(p);v=s(p)}if(v!==null)W=!0;else{var J=s(m);J!==null&&de(N,J.startTime-F),W=!1}}break e}finally{v=null,y=me,E=!1}W=void 0}}finally{W?M():T=!1}}}var M;if(typeof b=="function")M=function(){b(ce)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=ce,M=function(){I.postMessage(null)}}else M=function(){k(ce,0)};function de(F,W){z=k(function(){F(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(F){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var me=y;y=W;try{return F()}finally{y=me}},r.unstable_requestPaint=function(){A=!0},r.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=y;y=F;try{return W()}finally{y=me}},r.unstable_scheduleCallback=function(F,W,me){var ue=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ue+me:ue):me=ue,F){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,F={id:g++,callback:W,priorityLevel:F,startTime:me,expirationTime:O,sortIndex:-1},me>ue?(F.sortIndex=me,t(m,F),s(p)===null&&F===s(m)&&(R?(C(z),z=-1):R=!0,de(N,me-ue))):(F.sortIndex=O,t(p,F),w||E||(w=!0,T||(T=!0,M()))),F},r.unstable_shouldYield=ne,r.unstable_wrapCallback=function(F){var W=y;return function(){var me=y;y=W;try{return F.apply(this,arguments)}finally{y=me}}}}(__)),__}var Ey;function ij(){return Ey||(Ey=1,h_.exports=sj()),h_.exports}var p_={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function lj(){if(Ay)return gn;Ay=1;var r=hp();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function o(p,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:p,containerInfo:m,implementation:g}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(p,m,null,g)},gn.flushSync=function(p){var m=d.T,g=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=m,i.p=g,i.d.f()}},gn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},gn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},gn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:E}):g==="script"&&i.d.X(p,{crossOrigin:v,integrity:y,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},gn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);i.d.L(p,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},gn.requestFormReset=function(p){i.d.r(p)},gn.unstable_batchedUpdates=function(p,m){return p(m)},gn.useFormState=function(p,m,g){return d.H.useFormState(p,m,g)},gn.useFormStatus=function(){return d.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var Ry;function oj(){if(Ry)return p_.exports;Ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),p_.exports=lj(),p_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function cj(){if(Ny)return Cc;Ny=1;var r=ij(),t=hp(),s=oj();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(i(188))}function p(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(i(188));return n!==e?null:e}for(var l=e,u=n;;){var f=l.return;if(f===null)break;var _=f.alternate;if(_===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===_.child){for(_=f.child;_;){if(_===l)return h(f),e;if(_===u)return h(f),n;_=_.sibling}throw Error(i(188))}if(l.return!==u.return)l=f,u=_;else{for(var x=!1,S=f.child;S;){if(S===l){x=!0,l=f,u=_;break}if(S===u){x=!0,u=f,l=_;break}S=S.sibling}if(!x){for(S=_.child;S;){if(S===l){x=!0,l=_,u=f;break}if(S===u){x=!0,u=_,l=f;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),b=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var B=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===B?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case b:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case j:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return n=e.displayName||null,n!==null?n:I(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return I(e(n))}catch{}}return null}var de=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ue=[],O=-1;function J(e){return{current:e}}function ge(e){0>O||(e.current=ue[O],ue[O]=null,O--)}function _e(e,n){O++,ue[O]=e.current,e.current=n}var Ae=J(null),Se=J(null),le=J(null),ke=J(null);function we(e,n){switch(_e(le,n),_e(Se,e),_e(Ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Kg(n),e=Xg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ge(Ae),_e(Ae,e)}function Et(){ge(Ae),ge(Se),ge(le)}function It(e){e.memoizedState!==null&&_e(ke,e);var n=Ae.current,l=Xg(n,e.type);n!==l&&(_e(Se,e),_e(Ae,l))}function oe(e){Se.current===e&&(ge(Ae),ge(Se)),ke.current===e&&(ge(ke),vc._currentValue=me)}var et=Object.prototype.hasOwnProperty,st=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,vt=r.unstable_shouldYield,_t=r.unstable_requestPaint,At=r.unstable_now,Dt=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,U=r.unstable_UserBlockingPriority,V=r.unstable_NormalPriority,ee=r.unstable_LowPriority,ye=r.unstable_IdlePriority,pe=r.log,fe=r.unstable_setDisableYieldValue,Ce=null,ze=null;function Qe(e){if(typeof pe=="function"&&fe(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ce,e)}catch{}}var pt=Math.clz32?Math.clz32:li,Zr=Math.log,Pn=Math.LN2;function li(e){return e>>>=0,e===0?32:31-(Zr(e)/Pn|0)|0}var ur=256,dr=4194304;function Gn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cr(e,n,l){var u=e.pendingLanes;if(u===0)return 0;var f=0,_=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=u&134217727;return S!==0?(u=S&~_,u!==0?f=Gn(u):(x&=S,x!==0?f=Gn(x):l||(l=S&~e,l!==0&&(f=Gn(l))))):(S=u&~_,S!==0?f=Gn(S):x!==0?f=Gn(x):l||(l=u&~e,l!==0&&(f=Gn(l)))),f===0?0:n!==0&&n!==f&&(n&_)===0&&(_=f&-f,l=n&-n,_>=l||_===32&&(l&4194048)!==0)?n:f}function kr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ss(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Il(){var e=ur;return ur<<=1,(ur&4194048)===0&&(ur=256),e}function Hl(){var e=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),e}function oi(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Aa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tu(e,n,l,u,f,_){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,P=e.expirationTimes,Y=e.hiddenUpdates;for(l=x&~l;0<l;){var te=31-pt(l),ie=1<<te;S[te]=0,P[te]=-1;var G=Y[te];if(G!==null)for(Y[te]=null,te=0;te<G.length;te++){var Z=G[te];Z!==null&&(Z.lane&=-536870913)}l&=~ie}u!==0&&Vl(e,u,0),_!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=_&~(x&~n))}function Vl(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-pt(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|l&4194090}function Yl(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var u=31-pt(l),f=1<<u;f&n|e[u]&n&&(e[u]|=n),l&=~f}}function ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:my(e.type))}function nu(e,n){var l=W.p;try{return W.p=e,n()}finally{W.p=l}}var fr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+fr,on="__reactProps$"+fr,Qr="__reactContainer$"+fr,di="__reactEvents$"+fr,ru="__reactListeners$"+fr,au="__reactHandles$"+fr,Zl="__reactResources$"+fr,Ra="__reactMarker$"+fr;function fi(e){delete e[Gt],delete e[on],delete e[di],delete e[ru],delete e[au]}function Kr(e){var n=e[Gt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Qr]||l[Gt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=ty(e);e!==null;){if(l=e[Gt])return l;e=ty(e)}return n}e=l,l=e.parentNode}return null}function Xr(e){if(e=e[Gt]||e[Qr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Na(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Jr(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(e){e[Ra]=!0}var Ql=new Set,Kl={};function Er(e,n){Wr(e,n),Wr(e+"Capture",n)}function Wr(e,n){for(Kl[e]=n,e=0;e<n.length;e++)Ql.add(n[e])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Jl={};function iu(e){return et.call(Jl,e)?!0:et.call(Xl,e)?!1:su.test(e)?Jl[e]=!0:(Xl[e]=!0,!1)}function Cs(e,n,l){if(iu(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function ks(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Zn(e,n,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+u)}}var hi,Wl;function ea(e){if(hi===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",Wl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+e+Wl}var _i=!1;function pi(e,n){if(!e||_i)return"";_i=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var G=Z}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(Z){G=Z}e.call(ie.prototype)}}else{try{throw Error()}catch(Z){G=Z}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&G&&typeof Z.stack=="string")return[Z.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),x=_[0],S=_[1];if(x&&S){var P=x.split(`
`),Y=S.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===Y.length)for(u=P.length-1,f=Y.length-1;1<=u&&0<=f&&P[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==Y[f]){var te=`
`+P[u].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=u&&0<=f);break}}}finally{_i=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ea(l):""}function lu(e){switch(e.tag){case 26:case 27:case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return pi(e.type,!1);case 11:return pi(e.type.render,!1);case 1:return pi(e.type,!0);case 31:return ea("Activity");default:return""}}function eo(e){try{var n="";do n+=lu(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function to(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ou(e){var n=to(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,_=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,_.call(this,x)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Es(e){e._valueTracker||(e._valueTracker=ou(e))}function no(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return e&&(u=to(e)?e.checked?"true":"false":e.value),e=u,e!==l?(n.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cu=/[\n"\\]/g;function bn(e){return e.replace(cu,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mi(e,n,l,u,f,_,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),n!=null?x==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vn(n)):e.value!==""+vn(n)&&(e.value=""+vn(n)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),n!=null?gi(e,x,vn(n)):l!=null?gi(e,x,vn(l)):u!=null&&e.removeAttribute("value"),f==null&&_!=null&&(e.defaultChecked=!!_),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+vn(S):e.removeAttribute("name")}function ro(e,n,l,u,f,_,x,S){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),n!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||n!=null))return;l=l!=null?""+vn(l):"",n=n!=null?""+vn(n):l,S||n===e.value||(e.value=n),e.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=S?e.checked:!!u,e.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function gi(e,n,l){n==="number"&&As(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ta(e,n,l,u){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&u&&(e[l].defaultSelected=!0)}else{for(l=""+vn(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ao(e,n,l){if(n!=null&&(n=""+vn(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+vn(l):""}function so(e,n,l,u){if(n==null){if(u!=null){if(l!=null)throw Error(i(92));if(de(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),n=l}l=vn(n),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u)}function na(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function io(e,n,l){var u=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,l):typeof l!="number"||l===0||uu.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function lo(e,n,l){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&l[f]!==u&&io(e,f,u)}else for(var _ in n)n.hasOwnProperty(_)&&io(e,_,n[_])}function yi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return fu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vi=null;function bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ra=null,aa=null;function oo(e){var n=Xr(e);if(n&&(e=n.stateNode)){var l=e[on]||null;e:switch(e=n.stateNode,n.type){case"input":if(mi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==e&&u.form===e.form){var f=u[on]||null;if(!f)throw Error(i(90));mi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)u=l[n],u.form===e.form&&no(u)}break e;case"textarea":ao(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&ta(e,!!l.multiple,n,!1)}}}var xi=!1;function co(e,n,l){if(xi)return e(n,l);xi=!0;try{var u=e(n);return u}finally{if(xi=!1,(ra!==null||aa!==null)&&(wd(),ra&&(n=ra,e=aa,aa=ra=null,oo(n),e)))for(n=0;n<e.length;n++)oo(e[n])}}function Ta(e,n){var l=e.stateNode;if(l===null)return null;var u=l[on]||null;if(u===null)return null;l=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(i(231,n,typeof l));return l}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ji=!1;if(Qn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){ji=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{ji=!1}var hr=null,wi=null,Ns=null;function uo(){if(Ns)return Ns;var e,n=wi,l=n.length,u,f="value"in hr?hr.value:hr.textContent,_=f.length;for(e=0;e<l&&n[e]===f[e];e++);var x=l-e;for(u=1;u<=x&&n[l-u]===f[_-u];u++);return Ns=f.slice(e,1<u?1-u:void 0)}function Ts(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function fo(){return!1}function cn(e){function n(l,u,f,_,x){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(_):_[S]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Os:fo,this.isPropagationStopped=fo,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),n}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=cn(Ar),Da=g({},Ar,{view:0,detail:0}),hu=cn(Da),Si,Ci,Ba,Bs=g({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ba&&(Ba&&e.type==="mousemove"?(Si=e.screenX-Ba.screenX,Ci=e.screenY-Ba.screenY):Ci=Si=0,Ba=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:Ci}}),ho=cn(Bs),_u=g({},Bs,{dataTransfer:0}),pu=cn(_u),mu=g({},Da,{relatedTarget:0}),ki=cn(mu),gu=g({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=cn(gu),vu=g({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bu=cn(vu),xu=g({},Ar,{data:0}),_o=cn(xu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Ei(){return Cu}var ku=g({},Da,{key:function(e){if(e.key){var n=ju[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=cn(ku),Au=g({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=cn(Au),Ru=g({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),Nu=cn(Ru),Tu=g({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=cn(Tu),Du=g({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bu=cn(Du),Pu=g({},Ar,{newState:0,oldState:0}),Uu=cn(Pu),Lu=[9,13,27,32],Ai=Qn&&"CompositionEvent"in window,Pa=null;Qn&&"documentMode"in document&&(Pa=document.documentMode);var Mu=Qn&&"TextEvent"in window&&!Pa,mo=Qn&&(!Ai||Pa&&8<Pa&&11>=Pa),go=" ",yo=!1;function vo(e,n){switch(e){case"keyup":return Lu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function zu(e,n){switch(e){case"compositionend":return bo(n);case"keypress":return n.which!==32?null:(yo=!0,go);case"textInput":return e=n.data,e===go&&yo?null:e;default:return null}}function $u(e,n){if(sa)return e==="compositionend"||!Ai&&vo(e,n)?(e=uo(),Ns=wi=hr=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mo&&n.locale!=="ko"?null:n.data;default:return null}}var qu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qu[e.type]:n==="textarea"}function jo(e,n,l,u){ra?aa?aa.push(u):aa=[u]:ra=u,n=Rd(n,"onChange"),0<n.length&&(l=new Ds("onChange","change",null,l,u),e.push({event:l,listeners:n}))}var Ua=null,La=null;function Fu(e){Vg(e,0)}function Ps(e){var n=Na(e);if(no(n))return e}function wo(e,n){if(e==="change")return n}var So=!1;if(Qn){var Ri;if(Qn){var Ni="oninput"in document;if(!Ni){var Co=document.createElement("div");Co.setAttribute("oninput","return;"),Ni=typeof Co.oninput=="function"}Ri=Ni}else Ri=!1;So=Ri&&(!document.documentMode||9<document.documentMode)}function ko(){Ua&&(Ua.detachEvent("onpropertychange",Eo),La=Ua=null)}function Eo(e){if(e.propertyName==="value"&&Ps(La)){var n=[];jo(n,La,e,bi(e)),co(Fu,n)}}function Iu(e,n,l){e==="focusin"?(ko(),Ua=n,La=l,Ua.attachEvent("onpropertychange",Eo)):e==="focusout"&&ko()}function Hu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(La)}function Vu(e,n){if(e==="click")return Ps(n)}function Yu(e,n){if(e==="input"||e==="change")return Ps(n)}function Gu(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:Gu;function Ma(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!et.call(n,f)||!_n(e[f],n[f]))return!1}return!0}function Ao(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ro(e,n){var l=Ao(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=n&&u>=n)return{node:l,offset:n-e};e=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ao(l)}}function No(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?No(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function To(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=As(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=As(e.document)}return n}function Ti(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Zu=Qn&&"documentMode"in document&&11>=document.documentMode,ia=null,Oi=null,za=null,Di=!1;function Oo(e,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Di||ia==null||ia!==As(u)||(u=ia,"selectionStart"in u&&Ti(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),za&&Ma(za,u)||(za=u,u=Rd(Oi,"onSelect"),0<u.length&&(n=new Ds("onSelect","select",null,n,l),e.push({event:n,listeners:u}),n.target=ia)))}function Rr(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var la={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Bi={},Do={};Qn&&(Do=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Nr(e){if(Bi[e])return Bi[e];if(!la[e])return e;var n=la[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Do)return Bi[e]=n[l];return e}var Bo=Nr("animationend"),Po=Nr("animationiteration"),Uo=Nr("animationstart"),Qu=Nr("transitionrun"),Ku=Nr("transitionstart"),Xu=Nr("transitioncancel"),Lo=Nr("transitionend"),Mo=new Map,Pi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pi.push("scrollEnd");function En(e,n){Mo.set(e,n),Er(n,[e])}var zo=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var l=zo.get(e);return l!==void 0?l:(n={value:e,source:n,stack:eo(n)},zo.set(e,n),n)}return{value:e,source:n,stack:eo(n)}}var jn=[],oa=0,Ui=0;function Us(){for(var e=oa,n=Ui=oa=0;n<e;){var l=jn[n];jn[n++]=null;var u=jn[n];jn[n++]=null;var f=jn[n];jn[n++]=null;var _=jn[n];if(jn[n++]=null,u!==null&&f!==null){var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}_!==0&&$o(l,f,_)}}function Ls(e,n,l,u){jn[oa++]=e,jn[oa++]=n,jn[oa++]=l,jn[oa++]=u,Ui|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Li(e,n,l,u){return Ls(e,n,l,u),Ms(e)}function ca(e,n){return Ls(e,null,null,n),Ms(e)}function $o(e,n,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var f=!1,_=e.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(f=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,f&&n!==null&&(f=31-pt(l),e=_.hiddenUpdates,u=e[f],u===null?e[f]=[n]:u.push(n),n.lane=l|536870912),_):null}function Ms(e){if(50<dc)throw dc=0,Dh=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function Ju(e,n,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,l,u){return new Ju(e,n,l,u)}function Mi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kn(e,n){var l=e.alternate;return l===null?(l=pn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function qo(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function zs(e,n,l,u,f,_){var x=0;if(u=e,typeof e=="function")Mi(e)&&(x=1);else if(typeof e=="string")x=$0(e,l,Ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=pn(31,l,n,f),e.elementType=Q,e.lanes=_,e;case w:return Tr(l.children,f,_,n);case R:x=8,f|=24;break;case A:return e=pn(12,l,n,f|2),e.elementType=A,e.lanes=_,e;case N:return e=pn(13,l,n,f),e.elementType=N,e.lanes=_,e;case T:return e=pn(19,l,n,f),e.elementType=T,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case b:x=10;break e;case C:x=9;break e;case j:x=11;break e;case z:x=14;break e;case X:x=16,u=null;break e}x=29,l=Error(i(130,e===null?"null":typeof e,"")),u=null}return n=pn(x,l,n,f),n.elementType=e,n.type=u,n.lanes=_,n}function Tr(e,n,l,u){return e=pn(7,e,u,n),e.lanes=l,e}function zi(e,n,l){return e=pn(6,e,null,n),e.lanes=l,e}function $i(e,n,l){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var da=[],fa=0,$s=null,qs=0,wn=[],Sn=0,Or=null,Xn=1,Jn="";function Dr(e,n){da[fa++]=qs,da[fa++]=$s,$s=e,qs=n}function Fo(e,n,l){wn[Sn++]=Xn,wn[Sn++]=Jn,wn[Sn++]=Or,Or=e;var u=Xn;e=Jn;var f=32-pt(u)-1;u&=~(1<<f),l+=1;var _=32-pt(n)+f;if(30<_){var x=f-f%5;_=(u&(1<<x)-1).toString(32),u>>=x,f-=x,Xn=1<<32-pt(n)+f|l<<f|u,Jn=_+e}else Xn=1<<_|l<<f|u,Jn=e}function qi(e){e.return!==null&&(Dr(e,1),Fo(e,1,0))}function Fi(e){for(;e===$s;)$s=da[--fa],da[fa]=null,qs=da[--fa],da[fa]=null;for(;e===Or;)Or=wn[--Sn],wn[Sn]=null,Jn=wn[--Sn],wn[Sn]=null,Xn=wn[--Sn],wn[Sn]=null}var Jt=null,Rt=null,it=!1,Br=null,Un=!1,Ii=Error(i(519));function Pr(e){var n=Error(i(418,""));throw Fa(xn(n,e)),Ii}function Io(e){var n=e.stateNode,l=e.type,u=e.memoizedProps;switch(n[Gt]=e,n[on]=u,l){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(l=0;l<hc.length;l++)nt(hc[l],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":nt("invalid",n),ro(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Es(n);break;case"select":nt("invalid",n);break;case"textarea":nt("invalid",n),so(n,u.value,u.defaultValue,u.children),Es(n)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||u.suppressHydrationWarning===!0||Qg(n.textContent,l)?(u.popover!=null&&(nt("beforetoggle",n),nt("toggle",n)),u.onScroll!=null&&nt("scroll",n),u.onScrollEnd!=null&&nt("scrollend",n),u.onClick!=null&&(n.onclick=Nd),n=!0):n=!1,n||Pr(e)}function Ho(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Jt=Jt.return}}function $a(e){if(e!==Jt)return!1;if(!it)return Ho(e),it=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Qh(e.type,e.memoizedProps)),l=!l),l&&Rt&&Pr(e),Ho(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){Rt=mr(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}Rt=null}}else n===27?(n=Rt,as(e.type)?(e=Wh,Wh=null,Rt=e):Rt=n):Rt=Jt?mr(e.stateNode.nextSibling):null;return!0}function qa(){Rt=Jt=null,it=!1}function Vo(){var e=Br;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),Br=null),e}function Fa(e){Br===null?Br=[e]:Br.push(e)}var Hi=J(null),Ur=null,Wn=null;function _r(e,n,l){_e(Hi,n._currentValue),n._currentValue=l}function er(e){e._currentValue=Hi.current,ge(Hi)}function Vi(e,n,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===l)break;e=e.return}}function Yi(e,n,l,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var _=f.dependencies;if(_!==null){var x=f.child;_=_.firstContext;e:for(;_!==null;){var S=_;_=f;for(var P=0;P<n.length;P++)if(S.context===n[P]){_.lanes|=l,S=_.alternate,S!==null&&(S.lanes|=l),Vi(_.return,l,e),u||(x=null);break e}_=S.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=l,_=x.alternate,_!==null&&(_.lanes|=l),Vi(x,l,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Ia(e,n,l,u){e=null;for(var f=n,_=!1;f!==null;){if(!_){if((f.flags&524288)!==0)_=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=f.type;_n(f.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(f===ke.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(vc):e=[vc])}f=f.return}e!==null&&Yi(n,e,l,u),n.flags|=262144}function Fs(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Lr(e){Ur=e,Wn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zt(e){return Yo(Ur,e)}function Is(e,n){return Ur===null&&Lr(e),Yo(e,n)}function Yo(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Wn===null){if(e===null)throw Error(i(308));Wn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wn=Wn.next=n;return l}var L=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},se=r.unstable_scheduleCallback,ve=r.unstable_NormalPriority,Oe={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ke(){return{controller:new L,data:new Map,refCount:0}}function Ie(e){e.refCount--,e.refCount===0&&se(ve,function(){e.controller.abort()})}var De=null,mt=0,at=0,Xe=null;function He(e,n){if(De===null){var l=De=[];mt=0,at=$h(),Xe={status:"pending",value:void 0,then:function(u){l.push(u)}}}return mt++,n.then(mn,mn),n}function mn(){if(--mt===0&&De!==null){Xe!==null&&(Xe.status="fulfilled");var e=De;De=null,at=0,Xe=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Wt(e,n){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var en=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&He(e,n),en!==null&&en(e,n)};var tn=J(null);function tr(){var e=tn.current;return e!==null?e:Ct.pooledCache}function Wu(e,n){n===null?_e(tn,tn.current):_e(tn,n.pool)}function Mp(){var e=tr();return e===null?null:{parent:Oe._currentValue,pool:e}}var Go=Error(i(460)),zp=Error(i(474)),ed=Error(i(542)),$f={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function td(){}function qp(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(td,td),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ip(e),e;default:if(typeof n.status=="string")n.then(td,td);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ip(e),e}throw Zo=n,Go}}var Zo=null;function Fp(){if(Zo===null)throw Error(i(459));var e=Zo;return Zo=null,e}function Ip(e){if(e===Go||e===ed)throw Error(i(483))}var Ha=!1;function qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,n,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=Ms(e),$o(e,null,l),n}return Ls(e,u,n,l),Ms(e)}function Qo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,l|=u,n.lanes=l,Yl(e,l)}}function If(e,n){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?f=_=x:_=_.next=x,l=l.next}while(l!==null);_===null?f=_=n:_=_.next=n}else f=_=n;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Hf=!1;function Ko(){if(Hf){var e=Xe;if(e!==null)throw e}}function Xo(e,n,l,u){Hf=!1;var f=e.updateQueue;Ha=!1;var _=f.firstBaseUpdate,x=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var P=S,Y=P.next;P.next=null,x===null?_=Y:x.next=Y,x=P;var te=e.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==x&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=P))}if(_!==null){var ie=f.baseState;x=0,te=Y=P=null,S=_;do{var G=S.lane&-536870913,Z=G!==S.lane;if(Z?(lt&G)===G:(u&G)===G){G!==0&&G===at&&(Hf=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Me=e,Pe=S;G=n;var jt=l;switch(Pe.tag){case 1:if(Me=Pe.payload,typeof Me=="function"){ie=Me.call(jt,ie,G);break e}ie=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Pe.payload,G=typeof Me=="function"?Me.call(jt,ie,G):Me,G==null)break e;ie=g({},ie,G);break e;case 2:Ha=!0}}G=S.callback,G!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[G]:Z.push(G))}else Z={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=Z,P=ie):te=te.next=Z,x|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(P=ie),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,_===null&&(f.shared.lanes=0),es|=x,e.lanes=x,e.memoizedState=ie}}function Hp(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Vp(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Hp(l[e],n)}var Gi=J(null),nd=J(0);function Yp(e,n){e=va,_e(nd,e),_e(Gi,n),va=e|n.baseLanes}function Vf(){_e(nd,va),_e(Gi,Gi.current)}function Yf(){va=nd.current,ge(Gi),ge(nd)}var Ga=0,Ze=null,bt=null,Ht=null,rd=!1,Zi=!1,Hs=!1,ad=0,Jo=0,Qi=null,Hx=0;function Mt(){throw Error(i(321))}function Gf(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!_n(e[l],n[l]))return!1;return!0}function Zf(e,n,l,u,f,_){return Ga=_,Ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Rm:Nm,Hs=!1,_=l(u,f),Hs=!1,Zi&&(_=Zp(n,l,u,f)),Gp(e),_}function Gp(e){F.H=ud;var n=bt!==null&&bt.next!==null;if(Ga=0,Ht=bt=Ze=null,rd=!1,Jo=0,Qi=null,n)throw Error(i(300));e===null||nn||(e=e.dependencies,e!==null&&Fs(e)&&(nn=!0))}function Zp(e,n,l,u){Ze=e;var f=0;do{if(Zi&&(Qi=null),Jo=0,Zi=!1,25<=f)throw Error(i(301));if(f+=1,Ht=bt=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=Xx,_=n(l,u)}while(Zi);return _}function Vx(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(Ze.flags|=1024),n}function Qf(){var e=ad!==0;return ad=0,e}function Kf(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Xf(e){if(rd){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}rd=!1}Ga=0,Ht=bt=Ze=null,Zi=!1,Jo=ad=0,Qi=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ze.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Vt(){if(bt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=Ht===null?Ze.memoizedState:Ht.next;if(n!==null)Ht=n,bt=e;else{if(e===null)throw Ze.alternate===null?Error(i(467)):Error(i(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ht===null?Ze.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Jo;return Jo+=1,Qi===null&&(Qi=[]),e=qp(Qi,e,n),n=Ze,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Rm:Nm),e}function sd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===b)return Zt(e)}throw Error(i(438,String(e)))}function Wf(e){var n=null,l=Ze.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Jf(),Ze.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),u=0;u<e;u++)l[u]=ne;return n.index++,l}function ha(e,n){return typeof n=="function"?n(e):n}function id(e){var n=Vt();return eh(n,bt,e)}function eh(e,n,l){var u=e.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var f=e.baseQueue,_=u.pending;if(_!==null){if(f!==null){var x=f.next;f.next=_.next,_.next=x}n.baseQueue=f=_,u.pending=null}if(_=e.baseState,f===null)e.memoizedState=_;else{n=f.next;var S=x=null,P=null,Y=n,te=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(lt&ie)===ie:(Ga&ie)===ie){var G=Y.revertLane;if(G===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===at&&(te=!0);else if((Ga&G)===G){Y=Y.next,G===at&&(te=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=ie,x=_):P=P.next=ie,Ze.lanes|=G,es|=G;ie=Y.action,Hs&&l(_,ie),_=Y.hasEagerState?Y.eagerState:l(_,ie)}else G={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(S=P=G,x=_):P=P.next=G,Ze.lanes|=ie,es|=ie;Y=Y.next}while(Y!==null&&Y!==n);if(P===null?x=_:P.next=S,!_n(_,e.memoizedState)&&(nn=!0,te&&(l=Xe,l!==null)))throw l;e.memoizedState=_,e.baseState=x,e.baseQueue=P,u.lastRenderedState=_}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function th(e){var n=Vt(),l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=e;var u=l.dispatch,f=l.pending,_=n.memoizedState;if(f!==null){l.pending=null;var x=f=f.next;do _=e(_,x.action),x=x.next;while(x!==f);_n(_,n.memoizedState)||(nn=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),l.lastRenderedState=_}return[_,u]}function Qp(e,n,l){var u=Ze,f=Vt(),_=it;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=n();var x=!_n((bt||f).memoizedState,l);x&&(f.memoizedState=l,nn=!0),f=f.queue;var S=Jp.bind(null,u,f,e);if(ec(2048,8,S,[e]),f.getSnapshot!==n||x||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Ki(9,ld(),Xp.bind(null,u,f,l,n),null),Ct===null)throw Error(i(349));_||(Ga&124)!==0||Kp(u,n,l)}return l}function Kp(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Ze.updateQueue,n===null?(n=Jf(),Ze.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Xp(e,n,l,u){n.value=l,n.getSnapshot=u,Wp(n)&&em(e)}function Jp(e,n,l){return l(function(){Wp(n)&&em(e)})}function Wp(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!_n(e,l)}catch{return!0}}function em(e){var n=ca(e,2);n!==null&&qn(n,e,2)}function nh(e){var n=An();if(typeof e=="function"){var l=e;if(e=l(),Hs){Qe(!0);try{l()}finally{Qe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},n}function tm(e,n,l,u){return e.baseState=l,eh(e,bt,typeof u=="function"?u:ha)}function Yx(e,n,l,u,f){if(cd(e))throw Error(i(485));if(e=n.action,e!==null){var _={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};F.T!==null?l(!0):_.isTransition=!1,u(_),l=n.pending,l===null?(_.next=n.pending=_,nm(n,_)):(_.next=l.next,n.pending=l.next=_)}}function nm(e,n){var l=n.action,u=n.payload,f=e.state;if(n.isTransition){var _=F.T,x={};F.T=x;try{var S=l(f,u),P=F.S;P!==null&&P(x,S),rm(e,n,S)}catch(Y){rh(e,n,Y)}finally{F.T=_}}else try{_=l(f,u),rm(e,n,_)}catch(Y){rh(e,n,Y)}}function rm(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){am(e,n,u)},function(u){return rh(e,n,u)}):am(e,n,l)}function am(e,n,l){n.status="fulfilled",n.value=l,sm(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,nm(e,l)))}function rh(e,n,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=l,sm(n),n=n.next;while(n!==u)}e.action=null}function sm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function im(e,n){return n}function lm(e,n){if(it){var l=Ct.formState;if(l!==null){e:{var u=Ze;if(it){if(Rt){t:{for(var f=Rt,_=Un;f.nodeType!==8;){if(!_){f=null;break t}if(f=mr(f.nextSibling),f===null){f=null;break t}}_=f.data,f=_==="F!"||_==="F"?f:null}if(f){Rt=mr(f.nextSibling),u=f.data==="F!";break e}}Pr(u)}u=!1}u&&(n=l[0])}}return l=An(),l.memoizedState=l.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:n},l.queue=u,l=km.bind(null,Ze,u),u.dispatch=l,u=nh(!1),_=oh.bind(null,Ze,!1,u.queue),u=An(),f={state:n,dispatch:null,action:e,pending:null},u.queue=f,l=Yx.bind(null,Ze,f,_,l),f.dispatch=l,u.memoizedState=e,[n,l,!1]}function om(e){var n=Vt();return cm(n,bt,e)}function cm(e,n,l){if(n=eh(e,n,im)[0],e=id(ha)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Wo(n)}catch(x){throw x===Go?ed:x}else u=n;n=Vt();var f=n.queue,_=f.dispatch;return l!==n.memoizedState&&(Ze.flags|=2048,Ki(9,ld(),Gx.bind(null,f,l),null)),[u,_,e]}function Gx(e,n){e.action=n}function um(e){var n=Vt(),l=bt;if(l!==null)return cm(n,l,e);Vt(),n=n.memoizedState,l=Vt();var u=l.queue.dispatch;return l.memoizedState=e,[n,u,!1]}function Ki(e,n,l,u){return e={tag:e,create:l,deps:u,inst:n,next:null},n=Ze.updateQueue,n===null&&(n=Jf(),Ze.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,n.lastEffect=e),e}function ld(){return{destroy:void 0,resource:void 0}}function dm(){return Vt().memoizedState}function od(e,n,l,u){var f=An();u=u===void 0?null:u,Ze.flags|=e,f.memoizedState=Ki(1|n,ld(),l,u)}function ec(e,n,l,u){var f=Vt();u=u===void 0?null:u;var _=f.memoizedState.inst;bt!==null&&u!==null&&Gf(u,bt.memoizedState.deps)?f.memoizedState=Ki(n,_,l,u):(Ze.flags|=e,f.memoizedState=Ki(1|n,_,l,u))}function fm(e,n){od(8390656,8,e,n)}function hm(e,n){ec(2048,8,e,n)}function _m(e,n){return ec(4,2,e,n)}function pm(e,n){return ec(4,4,e,n)}function mm(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gm(e,n,l){l=l!=null?l.concat([e]):null,ec(4,4,mm.bind(null,n,e),l)}function ah(){}function ym(e,n){var l=Vt();n=n===void 0?null:n;var u=l.memoizedState;return n!==null&&Gf(n,u[1])?u[0]:(l.memoizedState=[e,n],e)}function vm(e,n){var l=Vt();n=n===void 0?null:n;var u=l.memoizedState;if(n!==null&&Gf(n,u[1]))return u[0];if(u=e(),Hs){Qe(!0);try{e()}finally{Qe(!1)}}return l.memoizedState=[u,n],u}function sh(e,n,l){return l===void 0||(Ga&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=jg(),Ze.lanes|=e,es|=e,l)}function bm(e,n,l,u){return _n(l,n)?l:Gi.current!==null?(e=sh(e,l,u),_n(e,n)||(nn=!0),e):(Ga&42)===0?(nn=!0,e.memoizedState=l):(e=jg(),Ze.lanes|=e,es|=e,n)}function xm(e,n,l,u,f){var _=W.p;W.p=_!==0&&8>_?_:8;var x=F.T,S={};F.T=S,oh(e,!1,n,l);try{var P=f(),Y=F.S;if(Y!==null&&Y(S,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var te=Wt(P,u);tc(e,n,te,$n(e))}else tc(e,n,u,$n(e))}catch(ie){tc(e,n,{then:function(){},status:"rejected",reason:ie},$n())}finally{W.p=_,F.T=x}}function Zx(){}function ih(e,n,l,u){if(e.tag!==5)throw Error(i(476));var f=jm(e).queue;xm(e,f,n,me,l===null?Zx:function(){return wm(e),l(u)})}function jm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:me},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wm(e){var n=jm(e).next.queue;tc(e,n,{},$n())}function lh(){return Zt(vc)}function Sm(){return Vt().memoizedState}function Cm(){return Vt().memoizedState}function Qx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=$n();e=Va(l);var u=Ya(n,e,l);u!==null&&(qn(u,n,l),Qo(u,n,l)),n={cache:Ke()},e.payload=n;return}n=n.return}}function Kx(e,n,l){var u=$n();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},cd(e)?Em(n,l):(l=Li(e,n,l,u),l!==null&&(qn(l,e,u),Am(l,n,u)))}function km(e,n,l){var u=$n();tc(e,n,l,u)}function tc(e,n,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(cd(e))Em(n,f);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var x=n.lastRenderedState,S=_(x,l);if(f.hasEagerState=!0,f.eagerState=S,_n(S,x))return Ls(e,n,f,0),Ct===null&&Us(),!1}catch{}finally{}if(l=Li(e,n,f,u),l!==null)return qn(l,e,u),Am(l,n,u),!0}return!1}function oh(e,n,l,u){if(u={lane:2,revertLane:$h(),action:u,hasEagerState:!1,eagerState:null,next:null},cd(e)){if(n)throw Error(i(479))}else n=Li(e,l,u,2),n!==null&&qn(n,e,2)}function cd(e){var n=e.alternate;return e===Ze||n!==null&&n===Ze}function Em(e,n){Zi=rd=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Am(e,n,l){if((l&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,l|=u,n.lanes=l,Yl(e,l)}}var ud={readContext:Zt,use:sd,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},Rm={readContext:Zt,use:sd,useCallback:function(e,n){return An().memoizedState=[e,n===void 0?null:n],e},useContext:Zt,useEffect:fm,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,od(4194308,4,mm.bind(null,n,e),l)},useLayoutEffect:function(e,n){return od(4194308,4,e,n)},useInsertionEffect:function(e,n){od(4,2,e,n)},useMemo:function(e,n){var l=An();n=n===void 0?null:n;var u=e();if(Hs){Qe(!0);try{e()}finally{Qe(!1)}}return l.memoizedState=[u,n],u},useReducer:function(e,n,l){var u=An();if(l!==void 0){var f=l(n);if(Hs){Qe(!0);try{l(n)}finally{Qe(!1)}}}else f=n;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=Kx.bind(null,Ze,e),[u.memoizedState,e]},useRef:function(e){var n=An();return e={current:e},n.memoizedState=e},useState:function(e){e=nh(e);var n=e.queue,l=km.bind(null,Ze,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:ah,useDeferredValue:function(e,n){var l=An();return sh(l,e,n)},useTransition:function(){var e=nh(!1);return e=xm.bind(null,Ze,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var u=Ze,f=An();if(it){if(l===void 0)throw Error(i(407));l=l()}else{if(l=n(),Ct===null)throw Error(i(349));(lt&124)!==0||Kp(u,n,l)}f.memoizedState=l;var _={value:l,getSnapshot:n};return f.queue=_,fm(Jp.bind(null,u,_,e),[e]),u.flags|=2048,Ki(9,ld(),Xp.bind(null,u,_,l,n),null),l},useId:function(){var e=An(),n=Ct.identifierPrefix;if(it){var l=Jn,u=Xn;l=(u&~(1<<32-pt(u)-1)).toString(32)+l,n="«"+n+"R"+l,l=ad++,0<l&&(n+="H"+l.toString(32)),n+="»"}else l=Hx++,n="«"+n+"r"+l.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:lh,useFormState:lm,useActionState:lm,useOptimistic:function(e){var n=An();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=oh.bind(null,Ze,!0,l),l.dispatch=n,[e,n]},useMemoCache:Wf,useCacheRefresh:function(){return An().memoizedState=Qx.bind(null,Ze)}},Nm={readContext:Zt,use:sd,useCallback:ym,useContext:Zt,useEffect:hm,useImperativeHandle:gm,useInsertionEffect:_m,useLayoutEffect:pm,useMemo:vm,useReducer:id,useRef:dm,useState:function(){return id(ha)},useDebugValue:ah,useDeferredValue:function(e,n){var l=Vt();return bm(l,bt.memoizedState,e,n)},useTransition:function(){var e=id(ha)[0],n=Vt().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:Qp,useId:Sm,useHostTransitionStatus:lh,useFormState:om,useActionState:om,useOptimistic:function(e,n){var l=Vt();return tm(l,bt,e,n)},useMemoCache:Wf,useCacheRefresh:Cm},Xx={readContext:Zt,use:sd,useCallback:ym,useContext:Zt,useEffect:hm,useImperativeHandle:gm,useInsertionEffect:_m,useLayoutEffect:pm,useMemo:vm,useReducer:th,useRef:dm,useState:function(){return th(ha)},useDebugValue:ah,useDeferredValue:function(e,n){var l=Vt();return bt===null?sh(l,e,n):bm(l,bt.memoizedState,e,n)},useTransition:function(){var e=th(ha)[0],n=Vt().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:Qp,useId:Sm,useHostTransitionStatus:lh,useFormState:um,useActionState:um,useOptimistic:function(e,n){var l=Vt();return bt!==null?tm(l,bt,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Cm},Xi=null,nc=0;function dd(e){var n=nc;return nc+=1,Xi===null&&(Xi=[]),qp(Xi,e,n)}function rc(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fd(e,n){throw n.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Tm(e){var n=e._init;return n(e._payload)}function Om(e){function n(q,$){if(e){var H=q.deletions;H===null?(q.deletions=[$],q.flags|=16):H.push($)}}function l(q,$){if(!e)return null;for(;$!==null;)n(q,$),$=$.sibling;return null}function u(q){for(var $=new Map;q!==null;)q.key!==null?$.set(q.key,q):$.set(q.index,q),q=q.sibling;return $}function f(q,$){return q=Kn(q,$),q.index=0,q.sibling=null,q}function _(q,$,H){return q.index=H,e?(H=q.alternate,H!==null?(H=H.index,H<$?(q.flags|=67108866,$):H):(q.flags|=67108866,$)):(q.flags|=1048576,$)}function x(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function S(q,$,H,re){return $===null||$.tag!==6?($=zi(H,q.mode,re),$.return=q,$):($=f($,H),$.return=q,$)}function P(q,$,H,re){var Ee=H.type;return Ee===w?te(q,$,H.props.children,re,H.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===X&&Tm(Ee)===$.type)?($=f($,H.props),rc($,H),$.return=q,$):($=zs(H.type,H.key,H.props,null,q.mode,re),rc($,H),$.return=q,$)}function Y(q,$,H,re){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?($=$i(H,q.mode,re),$.return=q,$):($=f($,H.children||[]),$.return=q,$)}function te(q,$,H,re,Ee){return $===null||$.tag!==7?($=Tr(H,q.mode,re,Ee),$.return=q,$):($=f($,H),$.return=q,$)}function ie(q,$,H){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=zi(""+$,q.mode,H),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return H=zs($.type,$.key,$.props,null,q.mode,H),rc(H,$),H.return=q,H;case E:return $=$i($,q.mode,H),$.return=q,$;case X:var re=$._init;return $=re($._payload),ie(q,$,H)}if(de($)||M($))return $=Tr($,q.mode,H,null),$.return=q,$;if(typeof $.then=="function")return ie(q,dd($),H);if($.$$typeof===b)return ie(q,Is(q,$),H);fd(q,$)}return null}function G(q,$,H,re){var Ee=$!==null?$.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:S(q,$,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return H.key===Ee?P(q,$,H,re):null;case E:return H.key===Ee?Y(q,$,H,re):null;case X:return Ee=H._init,H=Ee(H._payload),G(q,$,H,re)}if(de(H)||M(H))return Ee!==null?null:te(q,$,H,re,null);if(typeof H.then=="function")return G(q,$,dd(H),re);if(H.$$typeof===b)return G(q,$,Is(q,H),re);fd(q,H)}return null}function Z(q,$,H,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(H)||null,S($,q,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return q=q.get(re.key===null?H:re.key)||null,P($,q,re,Ee);case E:return q=q.get(re.key===null?H:re.key)||null,Y($,q,re,Ee);case X:var Je=re._init;return re=Je(re._payload),Z(q,$,H,re,Ee)}if(de(re)||M(re))return q=q.get(H)||null,te($,q,re,Ee,null);if(typeof re.then=="function")return Z(q,$,H,dd(re),Ee);if(re.$$typeof===b)return Z(q,$,H,Is($,re),Ee);fd($,re)}return null}function Me(q,$,H,re){for(var Ee=null,Je=null,Te=$,Ue=$=0,an=null;Te!==null&&Ue<H.length;Ue++){Te.index>Ue?(an=Te,Te=null):an=Te.sibling;var dt=G(q,Te,H[Ue],re);if(dt===null){Te===null&&(Te=an);break}e&&Te&&dt.alternate===null&&n(q,Te),$=_(dt,$,Ue),Je===null?Ee=dt:Je.sibling=dt,Je=dt,Te=an}if(Ue===H.length)return l(q,Te),it&&Dr(q,Ue),Ee;if(Te===null){for(;Ue<H.length;Ue++)Te=ie(q,H[Ue],re),Te!==null&&($=_(Te,$,Ue),Je===null?Ee=Te:Je.sibling=Te,Je=Te);return it&&Dr(q,Ue),Ee}for(Te=u(Te);Ue<H.length;Ue++)an=Z(Te,q,Ue,H[Ue],re),an!==null&&(e&&an.alternate!==null&&Te.delete(an.key===null?Ue:an.key),$=_(an,$,Ue),Je===null?Ee=an:Je.sibling=an,Je=an);return e&&Te.forEach(function(cs){return n(q,cs)}),it&&Dr(q,Ue),Ee}function Pe(q,$,H,re){if(H==null)throw Error(i(151));for(var Ee=null,Je=null,Te=$,Ue=$=0,an=null,dt=H.next();Te!==null&&!dt.done;Ue++,dt=H.next()){Te.index>Ue?(an=Te,Te=null):an=Te.sibling;var cs=G(q,Te,dt.value,re);if(cs===null){Te===null&&(Te=an);break}e&&Te&&cs.alternate===null&&n(q,Te),$=_(cs,$,Ue),Je===null?Ee=cs:Je.sibling=cs,Je=cs,Te=an}if(dt.done)return l(q,Te),it&&Dr(q,Ue),Ee;if(Te===null){for(;!dt.done;Ue++,dt=H.next())dt=ie(q,dt.value,re),dt!==null&&($=_(dt,$,Ue),Je===null?Ee=dt:Je.sibling=dt,Je=dt);return it&&Dr(q,Ue),Ee}for(Te=u(Te);!dt.done;Ue++,dt=H.next())dt=Z(Te,q,Ue,dt.value,re),dt!==null&&(e&&dt.alternate!==null&&Te.delete(dt.key===null?Ue:dt.key),$=_(dt,$,Ue),Je===null?Ee=dt:Je.sibling=dt,Je=dt);return e&&Te.forEach(function(J0){return n(q,J0)}),it&&Dr(q,Ue),Ee}function jt(q,$,H,re){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case y:e:{for(var Ee=H.key;$!==null;){if($.key===Ee){if(Ee=H.type,Ee===w){if($.tag===7){l(q,$.sibling),re=f($,H.props.children),re.return=q,q=re;break e}}else if($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===X&&Tm(Ee)===$.type){l(q,$.sibling),re=f($,H.props),rc(re,H),re.return=q,q=re;break e}l(q,$);break}else n(q,$);$=$.sibling}H.type===w?(re=Tr(H.props.children,q.mode,re,H.key),re.return=q,q=re):(re=zs(H.type,H.key,H.props,null,q.mode,re),rc(re,H),re.return=q,q=re)}return x(q);case E:e:{for(Ee=H.key;$!==null;){if($.key===Ee)if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){l(q,$.sibling),re=f($,H.children||[]),re.return=q,q=re;break e}else{l(q,$);break}else n(q,$);$=$.sibling}re=$i(H,q.mode,re),re.return=q,q=re}return x(q);case X:return Ee=H._init,H=Ee(H._payload),jt(q,$,H,re)}if(de(H))return Me(q,$,H,re);if(M(H)){if(Ee=M(H),typeof Ee!="function")throw Error(i(150));return H=Ee.call(H),Pe(q,$,H,re)}if(typeof H.then=="function")return jt(q,$,dd(H),re);if(H.$$typeof===b)return jt(q,$,Is(q,H),re);fd(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,$!==null&&$.tag===6?(l(q,$.sibling),re=f($,H),re.return=q,q=re):(l(q,$),re=zi(H,q.mode,re),re.return=q,q=re),x(q)):l(q,$)}return function(q,$,H,re){try{nc=0;var Ee=jt(q,$,H,re);return Xi=null,Ee}catch(Te){if(Te===Go||Te===ed)throw Te;var Je=pn(29,Te,null,q.mode);return Je.lanes=re,Je.return=q,Je}finally{}}}var Ji=Om(!0),Dm=Om(!1),nr=J(null),Mr=null;function Za(e){var n=e.alternate;_e(Qt,Qt.current&1),_e(nr,e),Mr===null&&(n===null||Gi.current!==null||n.memoizedState!==null)&&(Mr=e)}function Bm(e){if(e.tag===22){if(_e(Qt,Qt.current),_e(nr,e),Mr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Mr=e)}}else Qa()}function Qa(){_e(Qt,Qt.current),_e(nr,nr.current)}function _a(e){ge(nr),Mr===e&&(Mr=null),ge(Qt)}var Qt=J(0);function hd(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Jh(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ch(e,n,l,u){n=e.memoizedState,l=l(u,n),l=l==null?n:g({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var uh={enqueueSetState:function(e,n,l){e=e._reactInternals;var u=$n(),f=Va(u);f.payload=n,l!=null&&(f.callback=l),n=Ya(e,f,u),n!==null&&(qn(n,e,u),Qo(n,e,u))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var u=$n(),f=Va(u);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Ya(e,f,u),n!==null&&(qn(n,e,u),Qo(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=$n(),u=Va(l);u.tag=2,n!=null&&(u.callback=n),n=Ya(e,u,l),n!==null&&(qn(n,e,l),Qo(n,e,l))}};function Pm(e,n,l,u,f,_,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,_,x):n.prototype&&n.prototype.isPureReactComponent?!Ma(l,u)||!Ma(f,_):!0}function Um(e,n,l,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==e&&uh.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var l=n;if("ref"in n){l={};for(var u in n)u!=="ref"&&(l[u]=n[u])}if(e=e.defaultProps){l===n&&(l=g({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var _d=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lm(e){_d(e)}function Mm(e){console.error(e)}function zm(e){_d(e)}function pd(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function $m(e,n,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dh(e,n,l){return l=Va(l),l.tag=3,l.payload={element:null},l.callback=function(){pd(e,n)},l}function qm(e){return e=Va(e),e.tag=3,e}function Fm(e,n,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var _=u.value;e.payload=function(){return f(_)},e.callback=function(){$m(n,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){$m(n,l,u),typeof f!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Jx(e,n,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=l.alternate,n!==null&&Ia(n,l,f,!0),l=nr.current,l!==null){switch(l.tag){case 13:return Mr===null?Ph():l.alternate===null&&Pt===0&&(Pt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===$f?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([u]):n.add(u),Lh(e,u,f)),!1;case 22:return l.flags|=65536,u===$f?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([u]):l.add(u)),Lh(e,u,f)),!1}throw Error(i(435,l.tag))}return Lh(e,u,f),Ph(),!1}if(it)return n=nr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Ii&&(e=Error(i(422),{cause:u}),Fa(xn(e,l)))):(u!==Ii&&(n=Error(i(423),{cause:u}),Fa(xn(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=xn(u,l),f=dh(e.stateNode,u,f),If(e,f),Pt!==4&&(Pt=2)),!1;var _=Error(i(520),{cause:u});if(_=xn(_,l),uc===null?uc=[_]:uc.push(_),Pt!==4&&(Pt=2),n===null)return!0;u=xn(u,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=dh(l.stateNode,u,e),If(l,e),!1;case 1:if(n=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ts===null||!ts.has(_))))return l.flags|=65536,f&=-f,l.lanes|=f,f=qm(f),Fm(f,e,l,u),If(l,f),!1}l=l.return}while(l!==null);return!1}var Im=Error(i(461)),nn=!1;function un(e,n,l,u){n.child=e===null?Dm(n,null,l,u):Ji(n,e.child,l,u)}function Hm(e,n,l,u,f){l=l.render;var _=n.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Lr(n),u=Zf(e,n,l,x,_,f),S=Qf(),e!==null&&!nn?(Kf(e,n,f),pa(e,n,f)):(it&&S&&qi(n),n.flags|=1,un(e,n,u,f),n.child)}function Vm(e,n,l,u,f){if(e===null){var _=l.type;return typeof _=="function"&&!Mi(_)&&_.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=_,Ym(e,n,_,u,f)):(e=zs(l.type,null,u,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(_=e.child,!vh(e,f)){var x=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ma,l(x,u)&&e.ref===n.ref)return pa(e,n,f)}return n.flags|=1,e=Kn(_,u),e.ref=n.ref,e.return=n,n.child=e}function Ym(e,n,l,u,f){if(e!==null){var _=e.memoizedProps;if(Ma(_,u)&&e.ref===n.ref)if(nn=!1,n.pendingProps=u=_,vh(e,f))(e.flags&131072)!==0&&(nn=!0);else return n.lanes=e.lanes,pa(e,n,f)}return fh(e,n,l,u,f)}function Gm(e,n,l){var u=n.pendingProps,f=u.children,_=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=_!==null?_.baseLanes|l:l,e!==null){for(f=n.child=e.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;n.childLanes=_&~u}else n.childLanes=0,n.child=null;return Zm(e,n,u,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wu(n,_!==null?_.cachePool:null),_!==null?Yp(n,_):Vf(),Bm(n);else return n.lanes=n.childLanes=536870912,Zm(e,n,_!==null?_.baseLanes|l:l,l)}else _!==null?(Wu(n,_.cachePool),Yp(n,_),Qa(),n.memoizedState=null):(e!==null&&Wu(n,null),Vf(),Qa());return un(e,n,f,l),n.child}function Zm(e,n,l,u){var f=tr();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:l,cachePool:f},e!==null&&Wu(n,null),Vf(),Bm(n),e!==null&&Ia(e,n,u,!0),null}function md(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function fh(e,n,l,u,f){return Lr(n),l=Zf(e,n,l,u,void 0,f),u=Qf(),e!==null&&!nn?(Kf(e,n,f),pa(e,n,f)):(it&&u&&qi(n),n.flags|=1,un(e,n,l,f),n.child)}function Qm(e,n,l,u,f,_){return Lr(n),n.updateQueue=null,l=Zp(n,u,l,f),Gp(e),u=Qf(),e!==null&&!nn?(Kf(e,n,_),pa(e,n,_)):(it&&u&&qi(n),n.flags|=1,un(e,n,l,_),n.child)}function Km(e,n,l,u,f){if(Lr(n),n.stateNode===null){var _=ua,x=l.contextType;typeof x=="object"&&x!==null&&(_=Zt(x)),_=new l(u,_),n.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=uh,n.stateNode=_,_._reactInternals=n,_=n.stateNode,_.props=u,_.state=n.memoizedState,_.refs={},qf(n),x=l.contextType,_.context=typeof x=="object"&&x!==null?Zt(x):ua,_.state=n.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(ch(n,l,x,u),_.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&uh.enqueueReplaceState(_,_.state,null),Xo(n,u,_,f),Ko(),_.state=n.memoizedState),typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){_=n.stateNode;var S=n.memoizedProps,P=Vs(l,S);_.props=P;var Y=_.context,te=l.contextType;x=ua,typeof te=="object"&&te!==null&&(x=Zt(te));var ie=l.getDerivedStateFromProps;te=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S||Y!==x)&&Um(n,_,u,x),Ha=!1;var G=n.memoizedState;_.state=G,Xo(n,u,_,f),Ko(),Y=n.memoizedState,S||G!==Y||Ha?(typeof ie=="function"&&(ch(n,l,ie,u),Y=n.memoizedState),(P=Ha||Pm(n,l,P,u,G,Y,x))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=Y),_.props=u,_.state=Y,_.context=x,u=P):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{_=n.stateNode,Ff(e,n),x=n.memoizedProps,te=Vs(l,x),_.props=te,ie=n.pendingProps,G=_.context,Y=l.contextType,P=ua,typeof Y=="object"&&Y!==null&&(P=Zt(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ie||G!==P)&&Um(n,_,u,P),Ha=!1,G=n.memoizedState,_.state=G,Xo(n,u,_,f),Ko();var Z=n.memoizedState;x!==ie||G!==Z||Ha||e!==null&&e.dependencies!==null&&Fs(e.dependencies)?(typeof S=="function"&&(ch(n,l,S,u),Z=n.memoizedState),(te=Ha||Pm(n,l,te,u,G,Z,P)||e!==null&&e.dependencies!==null&&Fs(e.dependencies))?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,Z,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,Z,P)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Z),_.props=u,_.state=Z,_.context=P,u=te):(typeof _.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),u=!1)}return _=u,md(e,n),u=(n.flags&128)!==0,_||u?(_=n.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),n.flags|=1,e!==null&&u?(n.child=Ji(n,e.child,null,f),n.child=Ji(n,null,l,f)):un(e,n,l,f),n.memoizedState=_.state,e=n.child):e=pa(e,n,f),e}function Xm(e,n,l,u){return qa(),n.flags|=256,un(e,n,l,u),n.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(e){return{baseLanes:e,cachePool:Mp()}}function ph(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=rr),e}function Jm(e,n,l){var u=n.pendingProps,f=!1,_=(n.flags&128)!==0,x;if((x=_)||(x=e!==null&&e.memoizedState===null?!1:(Qt.current&2)!==0),x&&(f=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,e===null){if(it){if(f?Za(n):Qa(),it){var S=Rt,P;if(P=S){e:{for(P=S,S=Un;P.nodeType!==8;){if(!S){S=null;break e}if(P=mr(P.nextSibling),P===null){S=null;break e}}S=P}S!==null?(n.memoizedState={dehydrated:S,treeContext:Or!==null?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},P=pn(18,null,null,0),P.stateNode=S,P.return=n,n.child=P,Jt=n,Rt=null,P=!0):P=!1}P||Pr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Jh(S)?n.lanes=32:n.lanes=536870912,null;_a(n)}return S=u.children,u=u.fallback,f?(Qa(),f=n.mode,S=gd({mode:"hidden",children:S},f),u=Tr(u,f,l,null),S.return=n,u.return=n,S.sibling=u,n.child=S,f=n.child,f.memoizedState=_h(l),f.childLanes=ph(e,x,l),n.memoizedState=hh,u):(Za(n),mh(n,S))}if(P=e.memoizedState,P!==null&&(S=P.dehydrated,S!==null)){if(_)n.flags&256?(Za(n),n.flags&=-257,n=gh(e,n,l)):n.memoizedState!==null?(Qa(),n.child=e.child,n.flags|=128,n=null):(Qa(),f=u.fallback,S=n.mode,u=gd({mode:"visible",children:u.children},S),f=Tr(f,S,l,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Ji(n,e.child,null,l),u=n.child,u.memoizedState=_h(l),u.childLanes=ph(e,x,l),n.memoizedState=hh,n=f);else if(Za(n),Jh(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(i(419)),u.stack="",u.digest=x,Fa({value:u,source:null,stack:null}),n=gh(e,n,l)}else if(nn||Ia(e,n,l,!1),x=(l&e.childLanes)!==0,nn||x){if(x=Ct,x!==null&&(u=l&-l,u=(u&42)!==0?1:ci(u),u=(u&(x.suspendedLanes|l))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,ca(e,u),qn(x,e,u),Im;S.data==="$?"||Ph(),n=gh(e,n,l)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,Rt=mr(S.nextSibling),Jt=n,it=!0,Br=null,Un=!1,e!==null&&(wn[Sn++]=Xn,wn[Sn++]=Jn,wn[Sn++]=Or,Xn=e.id,Jn=e.overflow,Or=n),n=mh(n,u.children),n.flags|=4096);return n}return f?(Qa(),f=u.fallback,S=n.mode,P=e.child,Y=P.sibling,u=Kn(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?f=Kn(Y,f):(f=Tr(f,S,l,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,S=e.child.memoizedState,S===null?S=_h(l):(P=S.cachePool,P!==null?(Y=Oe._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=Mp(),S={baseLanes:S.baseLanes|l,cachePool:P}),f.memoizedState=S,f.childLanes=ph(e,x,l),n.memoizedState=hh,u):(Za(n),l=e.child,e=l.sibling,l=Kn(l,{mode:"visible",children:u.children}),l.return=n,l.sibling=null,e!==null&&(x=n.deletions,x===null?(n.deletions=[e],n.flags|=16):x.push(e)),n.child=l,n.memoizedState=null,l)}function mh(e,n){return n=gd({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function gd(e,n){return e=pn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function gh(e,n,l){return Ji(n,e.child,null,l),e=mh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wm(e,n,l){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Vi(e.return,n,l)}function yh(e,n,l,u,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=f)}function eg(e,n,l){var u=n.pendingProps,f=u.revealOrder,_=u.tail;if(un(e,n,u.children,l),u=Qt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wm(e,l,n);else if(e.tag===19)Wm(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(_e(Qt,u),f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&hd(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),yh(n,!1,f,l,_);break;case"backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&hd(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}yh(n,!0,l,null,_);break;case"together":yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function pa(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),es|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ia(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,l=Kn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Kn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function vh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fs(e)))}function Wx(e,n,l){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),_r(n,Oe,e.memoizedState.cache),qa();break;case 27:case 5:It(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Za(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Jm(e,n,l):(Za(n),e=pa(e,n,l),e!==null?e.sibling:null);Za(n);break;case 19:var f=(e.flags&128)!==0;if(u=(l&n.childLanes)!==0,u||(Ia(e,n,l,!1),u=(l&n.childLanes)!==0),f){if(u)return eg(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_e(Qt,Qt.current),u)break;return null;case 22:case 23:return n.lanes=0,Gm(e,n,l);case 24:_r(n,Oe,e.memoizedState.cache)}return pa(e,n,l)}function tg(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)nn=!0;else{if(!vh(e,l)&&(n.flags&128)===0)return nn=!1,Wx(e,n,l);nn=(e.flags&131072)!==0}else nn=!1,it&&(n.flags&1048576)!==0&&Fo(n,qs,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Mi(u)?(e=Vs(u,e),n.tag=1,n=Km(null,n,u,e,l)):(n.tag=0,n=fh(null,n,u,e,l));else{if(u!=null){if(f=u.$$typeof,f===j){n.tag=11,n=Hm(null,n,u,e,l);break e}else if(f===z){n.tag=14,n=Vm(null,n,u,e,l);break e}}throw n=I(u)||u,Error(i(306,n,""))}}return n;case 0:return fh(e,n,n.type,n.pendingProps,l);case 1:return u=n.type,f=Vs(u,n.pendingProps),Km(e,n,u,f,l);case 3:e:{if(we(n,n.stateNode.containerInfo),e===null)throw Error(i(387));u=n.pendingProps;var _=n.memoizedState;f=_.element,Ff(e,n),Xo(n,u,null,l);var x=n.memoizedState;if(u=x.cache,_r(n,Oe,u),u!==_.cache&&Yi(n,[Oe],l,!0),Ko(),u=x.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){n=Xm(e,n,u,l);break e}else if(u!==f){f=xn(Error(i(424)),n),Fa(f),n=Xm(e,n,u,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=mr(e.firstChild),Jt=n,it=!0,Br=null,Un=!0,l=Dm(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qa(),u===f){n=pa(e,n,l);break e}un(e,n,u,l)}n=n.child}return n;case 26:return md(e,n),e===null?(l=sy(n.type,null,n.pendingProps,null))?n.memoizedState=l:it||(l=n.type,e=n.pendingProps,u=Td(le.current).createElement(l),u[Gt]=n,u[on]=e,fn(u,l,e),Lt(u),n.stateNode=u):n.memoizedState=sy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return It(n),e===null&&it&&(u=n.stateNode=ny(n.type,n.pendingProps,le.current),Jt=n,Un=!0,f=Rt,as(n.type)?(Wh=f,Rt=mr(u.firstChild)):Rt=f),un(e,n,n.pendingProps.children,l),md(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&it&&((f=u=Rt)&&(u=E0(u,n.type,n.pendingProps,Un),u!==null?(n.stateNode=u,Jt=n,Rt=mr(u.firstChild),Un=!1,f=!0):f=!1),f||Pr(n)),It(n),f=n.type,_=n.pendingProps,x=e!==null?e.memoizedProps:null,u=_.children,Qh(f,_)?u=null:x!==null&&Qh(f,x)&&(n.flags|=32),n.memoizedState!==null&&(f=Zf(e,n,Vx,null,null,l),vc._currentValue=f),md(e,n),un(e,n,u,l),n.child;case 6:return e===null&&it&&((e=l=Rt)&&(l=A0(l,n.pendingProps,Un),l!==null?(n.stateNode=l,Jt=n,Rt=null,e=!0):e=!1),e||Pr(n)),null;case 13:return Jm(e,n,l);case 4:return we(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Ji(n,null,u,l):un(e,n,u,l),n.child;case 11:return Hm(e,n,n.type,n.pendingProps,l);case 7:return un(e,n,n.pendingProps,l),n.child;case 8:return un(e,n,n.pendingProps.children,l),n.child;case 12:return un(e,n,n.pendingProps.children,l),n.child;case 10:return u=n.pendingProps,_r(n,n.type,u.value),un(e,n,u.children,l),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,Lr(n),f=Zt(f),u=u(f),n.flags|=1,un(e,n,u,l),n.child;case 14:return Vm(e,n,n.type,n.pendingProps,l);case 15:return Ym(e,n,n.type,n.pendingProps,l);case 19:return eg(e,n,l);case 31:return u=n.pendingProps,l=n.mode,u={mode:u.mode,children:u.children},e===null?(l=gd(u,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=Kn(e.child,u),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return Gm(e,n,l);case 24:return Lr(n),u=Zt(Oe),e===null?(f=tr(),f===null&&(f=Ct,_=Ke(),f.pooledCache=_,_.refCount++,_!==null&&(f.pooledCacheLanes|=l),f=_),n.memoizedState={parent:u,cache:f},qf(n),_r(n,Oe,f)):((e.lanes&l)!==0&&(Ff(e,n),Xo(n,null,null,l),Ko()),f=e.memoizedState,_=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),_r(n,Oe,u)):(u=_.cache,_r(n,Oe,u),u!==f.cache&&Yi(n,[Oe],l,!0))),un(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ma(e){e.flags|=4}function ng(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!uy(n)){if(n=nr.current,n!==null&&((lt&4194048)===lt?Mr!==null:(lt&62914560)!==lt&&(lt&536870912)===0||n!==Mr))throw Zo=$f,zp;e.flags|=8192}}function yd(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Hl():536870912,e.lanes|=n,nl|=n)}function ac(e,n){if(!it)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=l,n}function e0(e,n,l){var u=n.pendingProps;switch(Fi(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Bt(n),null;case 3:return l=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),er(Oe),Et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&($a(n)?ma(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vo())),Bt(n),null;case 26:return l=n.memoizedState,e===null?(ma(n),l!==null?(Bt(n),ng(n,l)):(Bt(n),n.flags&=-16777217)):l?l!==e.memoizedState?(ma(n),Bt(n),ng(n,l)):(Bt(n),n.flags&=-16777217):(e.memoizedProps!==u&&ma(n),Bt(n),n.flags&=-16777217),null;case 27:oe(n),l=le.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&ma(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Bt(n),null}e=Ae.current,$a(n)?Io(n):(e=ny(f,u,l),n.stateNode=e,ma(n))}return Bt(n),null;case 5:if(oe(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&ma(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Bt(n),null}if(e=Ae.current,$a(n))Io(n);else{switch(f=Td(le.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}e[Gt]=n,e[on]=u;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(fn(e,l,u),l){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ma(n)}}return Bt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&ma(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(e=le.current,$a(n)){if(e=n.stateNode,l=n.memoizedProps,u=null,f=Jt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Gt]=n,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Qg(e.nodeValue,l)),e||Pr(n)}else e=Td(e).createTextNode(u),e[Gt]=n,n.stateNode=e}return Bt(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=$a(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Gt]=n}else qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),f=!1}else f=Vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(_a(n),n):(_a(n),null)}if(_a(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=u!==null,e=e!==null&&e.memoizedState!==null,l){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==f&&(u.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),yd(n,n.updateQueue),Bt(n),null;case 4:return Et(),e===null&&Hh(n.stateNode.containerInfo),Bt(n),null;case 10:return er(n.type),Bt(n),null;case 19:if(ge(Qt),f=n.memoizedState,f===null)return Bt(n),null;if(u=(n.flags&128)!==0,_=f.rendering,_===null)if(u)ac(f,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(_=hd(e),_!==null){for(n.flags|=128,ac(f,!1),e=_.updateQueue,n.updateQueue=e,yd(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)qo(l,e),l=l.sibling;return _e(Qt,Qt.current&1|2),n.child}e=e.sibling}f.tail!==null&&At()>xd&&(n.flags|=128,u=!0,ac(f,!1),n.lanes=4194304)}else{if(!u)if(e=hd(_),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,yd(n,e),ac(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!it)return Bt(n),null}else 2*At()-f.renderingStartTime>xd&&l!==536870912&&(n.flags|=128,u=!0,ac(f,!1),n.lanes=4194304);f.isBackwards?(_.sibling=n.child,n.child=_):(e=f.last,e!==null?e.sibling=_:n.child=_,f.last=_)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=At(),n.sibling=null,e=Qt.current,_e(Qt,u?e&1|2:e&1),n):(Bt(n),null);case 22:case 23:return _a(n),Yf(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(l&536870912)!==0&&(n.flags&128)===0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),l=n.updateQueue,l!==null&&yd(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==l&&(n.flags|=2048),e!==null&&ge(tn),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),er(Oe),Bt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function t0(e,n){switch(Fi(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return er(Oe),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oe(n),null;case 13:if(_a(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ge(Qt),null;case 4:return Et(),null;case 10:return er(n.type),null;case 22:case 23:return _a(n),Yf(),e!==null&&ge(tn),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return er(Oe),null;case 25:return null;default:return null}}function rg(e,n){switch(Fi(n),n.tag){case 3:er(Oe),Et();break;case 26:case 27:case 5:oe(n);break;case 4:Et();break;case 13:_a(n);break;case 19:ge(Qt);break;case 10:er(n.type);break;case 22:case 23:_a(n),Yf(),e!==null&&ge(tn);break;case 24:er(Oe)}}function sc(e,n){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){u=void 0;var _=l.create,x=l.inst;u=_(),x.destroy=u}l=l.next}while(l!==f)}}catch(S){St(n,n.return,S)}}function Ka(e,n,l){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var _=f.next;u=_;do{if((u.tag&e)===e){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,f=n;var P=l,Y=S;try{Y()}catch(te){St(f,P,te)}}}u=u.next}while(u!==_)}}catch(te){St(n,n.return,te)}}function ag(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Vp(n,l)}catch(u){St(e,e.return,u)}}}function sg(e,n,l){l.props=Vs(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){St(e,n,u)}}function ic(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof l=="function"?e.refCleanup=l(u):l.current=u}}catch(f){St(e,n,f)}}function zr(e,n){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){St(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){St(e,n,f)}else l.current=null}function ig(e){var n=e.type,l=e.memoizedProps,u=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){St(e,e.return,f)}}function bh(e,n,l){try{var u=e.stateNode;j0(u,e.type,l,n),u[on]=n}catch(f){St(e,e.return,f)}}function lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&as(e.type)||e.tag===4}function xh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&as(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jh(e,n,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Nd));else if(u!==4&&(u===27&&as(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(jh(e,n,l),e=e.sibling;e!==null;)jh(e,n,l),e=e.sibling}function vd(e,n,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(u!==4&&(u===27&&as(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(vd(e,n,l),e=e.sibling;e!==null;)vd(e,n,l),e=e.sibling}function og(e){var n=e.stateNode,l=e.memoizedProps;try{for(var u=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);fn(n,u,l),n[Gt]=e,n[on]=l}catch(_){St(e,e.return,_)}}var ga=!1,zt=!1,wh=!1,cg=typeof WeakSet=="function"?WeakSet:Set,rn=null;function n0(e,n){if(e=e.containerInfo,Gh=Ld,e=To(e),Ti(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var x=0,S=-1,P=-1,Y=0,te=0,ie=e,G=null;t:for(;;){for(var Z;ie!==l||f!==0&&ie.nodeType!==3||(S=x+f),ie!==_||u!==0&&ie.nodeType!==3||(P=x+u),ie.nodeType===3&&(x+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)G=ie,ie=Z;for(;;){if(ie===e)break t;if(G===l&&++Y===f&&(S=x),G===_&&++te===u&&(P=x),(Z=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=Z}l=S===-1||P===-1?null:{start:S,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Zh={focusedElem:e,selectionRange:l},Ld=!1,rn=n;rn!==null;)if(n=rn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,rn=e;else for(;rn!==null;){switch(n=rn,_=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,l=n,f=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var Me=Vs(l.type,f,l.elementType===l.type);e=u.getSnapshotBeforeUpdate(Me,_),u.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){St(l,l.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Xh(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,rn=e;break}rn=n.return}}function ug(e,n,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Xa(e,l),u&4&&sc(5,l);break;case 1:if(Xa(e,l),u&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(x){St(l,l.return,x)}else{var f=Vs(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(x){St(l,l.return,x)}}u&64&&ag(l),u&512&&ic(l,l.return);break;case 3:if(Xa(e,l),u&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Vp(e,n)}catch(x){St(l,l.return,x)}}break;case 27:n===null&&u&4&&og(l);case 26:case 5:Xa(e,l),n===null&&u&4&&ig(l),u&512&&ic(l,l.return);break;case 12:Xa(e,l);break;case 13:Xa(e,l),u&4&&hg(e,l),u&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=d0.bind(null,l),R0(e,l))));break;case 22:if(u=l.memoizedState!==null||ga,!u){n=n!==null&&n.memoizedState!==null||zt,f=ga;var _=zt;ga=u,(zt=n)&&!_?Ja(e,l,(l.subtreeFlags&8772)!==0):Xa(e,l),ga=f,zt=_}break;case 30:break;default:Xa(e,l)}}function dg(e){var n=e.alternate;n!==null&&(e.alternate=null,dg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&fi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,Rn=!1;function ya(e,n,l){for(l=l.child;l!==null;)fg(e,n,l),l=l.sibling}function fg(e,n,l){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ce,l)}catch{}switch(l.tag){case 26:zt||zr(l,n),ya(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zt||zr(l,n);var u=Tt,f=Rn;as(l.type)&&(Tt=l.stateNode,Rn=!1),ya(e,n,l),pc(l.stateNode),Tt=u,Rn=f;break;case 5:zt||zr(l,n);case 6:if(u=Tt,f=Rn,Tt=null,ya(e,n,l),Tt=u,Rn=f,Tt!==null)if(Rn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(l.stateNode)}catch(_){St(l,n,_)}else try{Tt.removeChild(l.stateNode)}catch(_){St(l,n,_)}break;case 18:Tt!==null&&(Rn?(e=Tt,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),wc(e)):ey(Tt,l.stateNode));break;case 4:u=Tt,f=Rn,Tt=l.stateNode.containerInfo,Rn=!0,ya(e,n,l),Tt=u,Rn=f;break;case 0:case 11:case 14:case 15:zt||Ka(2,l,n),zt||Ka(4,l,n),ya(e,n,l);break;case 1:zt||(zr(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"&&sg(l,n,u)),ya(e,n,l);break;case 21:ya(e,n,l);break;case 22:zt=(u=zt)||l.memoizedState!==null,ya(e,n,l),zt=u;break;default:ya(e,n,l)}}function hg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wc(e)}catch(l){St(n,n.return,l)}}function r0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cg),n;default:throw Error(i(435,e.tag))}}function Sh(e,n){var l=r0(e);n.forEach(function(u){var f=f0.bind(null,e,u);l.has(u)||(l.add(u),u.then(f,f))})}function Ln(e,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],_=e,x=n,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(as(S.type)){Tt=S.stateNode,Rn=!1;break e}break;case 5:Tt=S.stateNode,Rn=!1;break e;case 3:case 4:Tt=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(Tt===null)throw Error(i(160));fg(_,x,f),Tt=null,Rn=!1,_=f.alternate,_!==null&&(_.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)_g(n,e),n=n.sibling}var pr=null;function _g(e,n){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(n,e),Mn(e),u&4&&(Ka(3,e,e.return),sc(3,e),Ka(5,e,e.return));break;case 1:Ln(n,e),Mn(e),u&512&&(zt||l===null||zr(l,l.return)),u&64&&ga&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=pr;if(Ln(n,e),Mn(e),u&512&&(zt||l===null||zr(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){e:{u=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":_=f.getElementsByTagName("title")[0],(!_||_[Ra]||_[Gt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=f.createElement(u),f.head.insertBefore(_,f.querySelector("head > title"))),fn(_,u,l),_[Gt]=e,Lt(_),u=_;break e;case"link":var x=oy("link","href",f).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(_=x[S],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}_=f.createElement(u),fn(_,u,l),f.head.appendChild(_);break;case"meta":if(x=oy("meta","content",f).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(_=x[S],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}_=f.createElement(u),fn(_,u,l),f.head.appendChild(_);break;default:throw Error(i(468,u))}_[Gt]=e,Lt(_),u=_}e.stateNode=u}else cy(f,e.type,e.stateNode);else e.stateNode=ly(f,u,e.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?cy(f,e.type,e.stateNode):ly(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&bh(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ln(n,e),Mn(e),u&512&&(zt||l===null||zr(l,l.return)),l!==null&&u&4&&bh(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ln(n,e),Mn(e),u&512&&(zt||l===null||zr(l,l.return)),e.flags&32){f=e.stateNode;try{na(f,"")}catch(Z){St(e,e.return,Z)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,bh(e,f,l!==null?l.memoizedProps:f)),u&1024&&(wh=!0);break;case 6:if(Ln(n,e),Mn(e),u&4){if(e.stateNode===null)throw Error(i(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(Z){St(e,e.return,Z)}}break;case 3:if(Bd=null,f=pr,pr=Od(n.containerInfo),Ln(n,e),pr=f,Mn(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{wc(n.containerInfo)}catch(Z){St(e,e.return,Z)}wh&&(wh=!1,pg(e));break;case 4:u=pr,pr=Od(e.stateNode.containerInfo),Ln(n,e),Mn(e),pr=u;break;case 12:Ln(n,e),Mn(e);break;case 13:Ln(n,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nh=At()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Sh(e,u)));break;case 22:f=e.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=ga,te=zt;if(ga=Y||f,zt=te||P,Ln(n,e),zt=te,ga=Y,Mn(e),u&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||P||ga||zt||Ys(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){P=l=n;try{if(_=P.stateNode,f)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=P.stateNode;var ie=P.memoizedProps.style,G=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Z){St(P,P.return,Z)}}}else if(n.tag===6){if(l===null){P=n;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Z){St(P,P.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sh(e,l))));break;case 19:Ln(n,e),Mn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Sh(e,u)));break;case 30:break;case 21:break;default:Ln(n,e),Mn(e)}}function Mn(e){var n=e.flags;if(n&2){try{for(var l,u=e.return;u!==null;){if(lg(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,_=xh(e);vd(e,_,f);break;case 5:var x=l.stateNode;l.flags&32&&(na(x,""),l.flags&=-33);var S=xh(e);vd(e,S,x);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=xh(e);jh(e,Y,P);break;default:throw Error(i(161))}}catch(te){St(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ug(e,n.alternate,n),n=n.sibling}function Ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ka(4,n,n.return),Ys(n);break;case 1:zr(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&sg(n,n.return,l),Ys(n);break;case 27:pc(n.stateNode);case 26:case 5:zr(n,n.return),Ys(n);break;case 22:n.memoizedState===null&&Ys(n);break;case 30:Ys(n);break;default:Ys(n)}e=e.sibling}}function Ja(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=e,_=n,x=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(f,_,l),sc(4,_);break;case 1:if(Ja(f,_,l),u=_,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){St(u,u.return,Y)}if(u=_,f=u.updateQueue,f!==null){var S=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)Hp(P[f],S)}catch(Y){St(u,u.return,Y)}}l&&x&64&&ag(_),ic(_,_.return);break;case 27:og(_);case 26:case 5:Ja(f,_,l),l&&u===null&&x&4&&ig(_),ic(_,_.return);break;case 12:Ja(f,_,l);break;case 13:Ja(f,_,l),l&&x&4&&hg(f,_);break;case 22:_.memoizedState===null&&Ja(f,_,l),ic(_,_.return);break;case 30:break;default:Ja(f,_,l)}n=n.sibling}}function Ch(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ie(l))}function kh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ie(e))}function $r(e,n,l,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mg(e,n,l,u),n=n.sibling}function mg(e,n,l,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:$r(e,n,l,u),f&2048&&sc(9,n);break;case 1:$r(e,n,l,u);break;case 3:$r(e,n,l,u),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ie(e)));break;case 12:if(f&2048){$r(e,n,l,u),e=n.stateNode;try{var _=n.memoizedProps,x=_.id,S=_.onPostCommit;typeof S=="function"&&S(x,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){St(n,n.return,P)}}else $r(e,n,l,u);break;case 13:$r(e,n,l,u);break;case 23:break;case 22:_=n.stateNode,x=n.alternate,n.memoizedState!==null?_._visibility&2?$r(e,n,l,u):lc(e,n):_._visibility&2?$r(e,n,l,u):(_._visibility|=2,Wi(e,n,l,u,(n.subtreeFlags&10256)!==0)),f&2048&&Ch(x,n);break;case 24:$r(e,n,l,u),f&2048&&kh(n.alternate,n);break;default:$r(e,n,l,u)}}function Wi(e,n,l,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var _=e,x=n,S=l,P=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:Wi(_,x,S,P,f),sc(8,x);break;case 23:break;case 22:var te=x.stateNode;x.memoizedState!==null?te._visibility&2?Wi(_,x,S,P,f):lc(_,x):(te._visibility|=2,Wi(_,x,S,P,f)),f&&Y&2048&&Ch(x.alternate,x);break;case 24:Wi(_,x,S,P,f),f&&Y&2048&&kh(x.alternate,x);break;default:Wi(_,x,S,P,f)}n=n.sibling}}function lc(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,u=n,f=u.flags;switch(u.tag){case 22:lc(l,u),f&2048&&Ch(u.alternate,u);break;case 24:lc(l,u),f&2048&&kh(u.alternate,u);break;default:lc(l,u)}n=n.sibling}}var oc=8192;function el(e){if(e.subtreeFlags&oc)for(e=e.child;e!==null;)gg(e),e=e.sibling}function gg(e){switch(e.tag){case 26:el(e),e.flags&oc&&e.memoizedState!==null&&F0(pr,e.memoizedState,e.memoizedProps);break;case 5:el(e);break;case 3:case 4:var n=pr;pr=Od(e.stateNode.containerInfo),el(e),pr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=oc,oc=16777216,el(e),oc=n):el(e));break;default:el(e)}}function yg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];rn=u,bg(u,e)}yg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vg(e),e=e.sibling}function vg(e){switch(e.tag){case 0:case 11:case 15:cc(e),e.flags&2048&&Ka(9,e,e.return);break;case 3:cc(e);break;case 12:cc(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,bd(e)):cc(e);break;default:cc(e)}}function bd(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];rn=u,bg(u,e)}yg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ka(8,n,n.return),bd(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,bd(n));break;default:bd(n)}e=e.sibling}}function bg(e,n){for(;rn!==null;){var l=rn;switch(l.tag){case 0:case 11:case 15:Ka(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ie(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,rn=u;else e:for(l=e;rn!==null;){u=rn;var f=u.sibling,_=u.return;if(dg(u),u===l){rn=null;break e}if(f!==null){f.return=_,rn=f;break e}rn=_}}}var a0={getCacheForType:function(e){var n=Zt(Oe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},s0=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ct=null,tt=null,lt=0,yt=0,zn=null,Wa=!1,tl=!1,Eh=!1,va=0,Pt=0,es=0,Gs=0,Ah=0,rr=0,nl=0,uc=null,Nn=null,Rh=!1,Nh=0,xd=1/0,jd=null,ts=null,dn=0,ns=null,rl=null,al=0,Th=0,Oh=null,xg=null,dc=0,Dh=null;function $n(){if((gt&2)!==0&&lt!==0)return lt&-lt;if(F.T!==null){var e=at;return e!==0?e:$h()}return Gl()}function jg(){rr===0&&(rr=(lt&536870912)===0||it?Il():536870912);var e=nr.current;return e!==null&&(e.flags|=32),rr}function qn(e,n,l){(e===Ct&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(sl(e,0),rs(e,lt,rr,!1)),Aa(e,l),((gt&2)===0||e!==Ct)&&(e===Ct&&((gt&2)===0&&(Gs|=l),Pt===4&&rs(e,lt,rr,!1)),qr(e))}function wg(e,n,l){if((gt&6)!==0)throw Error(i(327));var u=!l&&(n&124)===0&&(n&e.expiredLanes)===0||kr(e,n),f=u?o0(e,n):Uh(e,n,!0),_=u;do{if(f===0){tl&&!u&&rs(e,n,0,!1);break}else{if(l=e.current.alternate,_&&!i0(l)){f=Uh(e,n,!1),_=!1;continue}if(f===2){if(_=n,e.errorRecoveryDisabledLanes&_)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;e:{var S=e;f=uc;var P=S.current.memoizedState.isDehydrated;if(P&&(sl(S,x).flags|=256),x=Uh(S,x,!1),x!==2){if(Eh&&!P){S.errorRecoveryDisabledLanes|=_,Gs|=_,f=4;break e}_=Nn,Nn=f,_!==null&&(Nn===null?Nn=_:Nn.push.apply(Nn,_))}f=x}if(_=!1,f!==2)continue}}if(f===1){sl(e,0),rs(e,n,0,!0);break}e:{switch(u=e,_=f,_){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:rs(u,n,rr,!Wa);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=Nh+300-At(),10<f)){if(rs(u,n,rr,!Wa),Cr(u,0,!0)!==0)break e;u.timeoutHandle=Jg(Sg.bind(null,u,l,Nn,jd,Rh,n,rr,Gs,nl,Wa,_,2,-0,0),f);break e}Sg(u,l,Nn,jd,Rh,n,rr,Gs,nl,Wa,_,0,-0,0)}}break}while(!0);qr(e)}function Sg(e,n,l,u,f,_,x,S,P,Y,te,ie,G,Z){if(e.timeoutHandle=-1,ie=n.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:q0},gg(n),ie=I0(),ie!==null)){e.cancelPendingCommit=ie(Tg.bind(null,e,n,_,l,u,f,x,S,P,te,1,G,Z)),rs(e,_,x,!Y);return}Tg(e,n,_,l,u,f,x,S,P)}function i0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],_=f.getSnapshot;f=f.value;try{if(!_n(_(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rs(e,n,l,u){n&=~Ah,n&=~Gs,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var f=n;0<f;){var _=31-pt(f),x=1<<_;u[_]=-1,f&=~x}l!==0&&Vl(e,l,n)}function wd(){return(gt&6)===0?(fc(0),!1):!0}function Bh(){if(tt!==null){if(yt===0)var e=tt.return;else e=tt,Wn=Ur=null,Xf(e),Xi=null,nc=0,e=tt;for(;e!==null;)rg(e.alternate,e),e=e.return;tt=null}}function sl(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,S0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Bh(),Ct=e,tt=l=Kn(e.current,null),lt=n,yt=0,zn=null,Wa=!1,tl=kr(e,n),Eh=!1,nl=rr=Ah=Gs=es=Pt=0,Nn=uc=null,Rh=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var f=31-pt(u),_=1<<f;n|=e[f],u&=~_}return va=n,Us(),l}function Cg(e,n){Ze=null,F.H=ud,n===Go||n===ed?(n=Fp(),yt=3):n===zp?(n=Fp(),yt=4):yt=n===Im?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,tt===null&&(Pt=1,pd(e,xn(n,e.current)))}function kg(){var e=F.H;return F.H=ud,e===null?ud:e}function Eg(){var e=F.A;return F.A=a0,e}function Ph(){Pt=4,Wa||(lt&4194048)!==lt&&nr.current!==null||(tl=!0),(es&134217727)===0&&(Gs&134217727)===0||Ct===null||rs(Ct,lt,rr,!1)}function Uh(e,n,l){var u=gt;gt|=2;var f=kg(),_=Eg();(Ct!==e||lt!==n)&&(jd=null,sl(e,n)),n=!1;var x=Pt;e:do try{if(yt!==0&&tt!==null){var S=tt,P=zn;switch(yt){case 8:Bh(),x=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(n=!0);var Y=yt;if(yt=0,zn=null,il(e,S,P,Y),l&&tl){x=0;break e}break;default:Y=yt,yt=0,zn=null,il(e,S,P,Y)}}l0(),x=Pt;break}catch(te){Cg(e,te)}while(!0);return n&&e.shellSuspendCounter++,Wn=Ur=null,gt=u,F.H=f,F.A=_,tt===null&&(Ct=null,lt=0,Us()),x}function l0(){for(;tt!==null;)Ag(tt)}function o0(e,n){var l=gt;gt|=2;var u=kg(),f=Eg();Ct!==e||lt!==n?(jd=null,xd=At()+500,sl(e,n)):tl=kr(e,n);e:do try{if(yt!==0&&tt!==null){n=tt;var _=zn;t:switch(yt){case 1:yt=0,zn=null,il(e,n,_,1);break;case 2:case 9:if($p(_)){yt=0,zn=null,Rg(n);break}n=function(){yt!==2&&yt!==9||Ct!==e||(yt=7),qr(e)},_.then(n,n);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:$p(_)?(yt=0,zn=null,Rg(n)):(yt=0,zn=null,il(e,n,_,7));break;case 5:var x=null;switch(tt.tag){case 26:x=tt.memoizedState;case 5:case 27:var S=tt;if(!x||uy(x)){yt=0,zn=null;var P=S.sibling;if(P!==null)tt=P;else{var Y=S.return;Y!==null?(tt=Y,Sd(Y)):tt=null}break t}}yt=0,zn=null,il(e,n,_,5);break;case 6:yt=0,zn=null,il(e,n,_,6);break;case 8:Bh(),Pt=6;break e;default:throw Error(i(462))}}c0();break}catch(te){Cg(e,te)}while(!0);return Wn=Ur=null,F.H=u,F.A=f,gt=l,tt!==null?0:(Ct=null,lt=0,Us(),Pt)}function c0(){for(;tt!==null&&!vt();)Ag(tt)}function Ag(e){var n=tg(e.alternate,e,va);e.memoizedProps=e.pendingProps,n===null?Sd(e):tt=n}function Rg(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Qm(l,n,n.pendingProps,n.type,void 0,lt);break;case 11:n=Qm(l,n,n.pendingProps,n.type.render,n.ref,lt);break;case 5:Xf(n);default:rg(l,n),n=tt=qo(n,va),n=tg(l,n,va)}e.memoizedProps=e.pendingProps,n===null?Sd(e):tt=n}function il(e,n,l,u){Wn=Ur=null,Xf(n),Xi=null,nc=0;var f=n.return;try{if(Jx(e,f,n,l,lt)){Pt=1,pd(e,xn(l,e.current)),tt=null;return}}catch(_){if(f!==null)throw tt=f,_;Pt=1,pd(e,xn(l,e.current)),tt=null;return}n.flags&32768?(it||u===1?e=!0:tl||(lt&536870912)!==0?e=!1:(Wa=e=!0,(u===2||u===9||u===3||u===6)&&(u=nr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ng(n,e)):Sd(n)}function Sd(e){var n=e;do{if((n.flags&32768)!==0){Ng(n,Wa);return}e=n.return;var l=e0(n.alternate,n,va);if(l!==null){tt=l;return}if(n=n.sibling,n!==null){tt=n;return}tt=n=e}while(n!==null);Pt===0&&(Pt=5)}function Ng(e,n){do{var l=t0(e.alternate,e);if(l!==null){l.flags&=32767,tt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){tt=e;return}tt=e=l}while(e!==null);Pt=6,tt=null}function Tg(e,n,l,u,f,_,x,S,P){e.cancelPendingCommit=null;do Cd();while(dn!==0);if((gt&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(_=n.lanes|n.childLanes,_|=Ui,tu(e,l,_,x,S,P),e===Ct&&(tt=Ct=null,lt=0),rl=n,ns=e,al=l,Th=_,Oh=f,xg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,h0(V,function(){return Ug(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,f=W.p,W.p=2,x=gt,gt|=4;try{n0(e,n,l)}finally{gt=x,W.p=f,F.T=u}}dn=1,Og(),Dg(),Bg()}}function Og(){if(dn===1){dn=0;var e=ns,n=rl,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var u=W.p;W.p=2;var f=gt;gt|=4;try{_g(n,e);var _=Zh,x=To(e.containerInfo),S=_.focusedElem,P=_.selectionRange;if(x!==S&&S&&S.ownerDocument&&No(S.ownerDocument.documentElement,S)){if(P!==null&&Ti(S)){var Y=P.start,te=P.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var ie=S.ownerDocument||document,G=ie&&ie.defaultView||window;if(G.getSelection){var Z=G.getSelection(),Me=S.textContent.length,Pe=Math.min(P.start,Me),jt=P.end===void 0?Pe:Math.min(P.end,Me);!Z.extend&&Pe>jt&&(x=jt,jt=Pe,Pe=x);var q=Ro(S,Pe),$=Ro(S,jt);if(q&&$&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==$.node||Z.focusOffset!==$.offset)){var H=ie.createRange();H.setStart(q.node,q.offset),Z.removeAllRanges(),Pe>jt?(Z.addRange(H),Z.extend($.node,$.offset)):(H.setEnd($.node,$.offset),Z.addRange(H))}}}}for(ie=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var re=ie[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ld=!!Gh,Zh=Gh=null}finally{gt=f,W.p=u,F.T=l}}e.current=n,dn=2}}function Dg(){if(dn===2){dn=0;var e=ns,n=rl,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var u=W.p;W.p=2;var f=gt;gt|=4;try{ug(e,n.alternate,n)}finally{gt=f,W.p=u,F.T=l}}dn=3}}function Bg(){if(dn===4||dn===3){dn=0,_t();var e=ns,n=rl,l=al,u=xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?dn=5:(dn=0,rl=ns=null,Pg(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ts=null),ui(l),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ce,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=F.T,f=W.p,W.p=2,F.T=null;try{for(var _=e.onRecoverableError,x=0;x<u.length;x++){var S=u[x];_(S.value,{componentStack:S.stack})}}finally{F.T=n,W.p=f}}(al&3)!==0&&Cd(),qr(e),f=e.pendingLanes,(l&4194090)!==0&&(f&42)!==0?e===Dh?dc++:(dc=0,Dh=e):dc=0,fc(0)}}function Pg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ie(n)))}function Cd(e){return Og(),Dg(),Bg(),Ug()}function Ug(){if(dn!==5)return!1;var e=ns,n=Th;Th=0;var l=ui(al),u=F.T,f=W.p;try{W.p=32>l?32:l,F.T=null,l=Oh,Oh=null;var _=ns,x=al;if(dn=0,rl=ns=null,al=0,(gt&6)!==0)throw Error(i(331));var S=gt;if(gt|=4,vg(_.current),mg(_,_.current,x,l),gt=S,fc(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ce,_)}catch{}return!0}finally{W.p=f,F.T=u,Pg(e,n)}}function Lg(e,n,l){n=xn(l,n),n=dh(e.stateNode,n,2),e=Ya(e,n,2),e!==null&&(Aa(e,2),qr(e))}function St(e,n,l){if(e.tag===3)Lg(e,e,l);else for(;n!==null;){if(n.tag===3){Lg(n,e,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ts===null||!ts.has(u))){e=xn(l,e),l=qm(2),u=Ya(n,l,2),u!==null&&(Fm(l,u,n,e),Aa(u,2),qr(u));break}}n=n.return}}function Lh(e,n,l){var u=e.pingCache;if(u===null){u=e.pingCache=new s0;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(l)||(Eh=!0,f.add(l),e=u0.bind(null,e,n,l),n.then(e,e))}function u0(e,n,l){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ct===e&&(lt&l)===l&&(Pt===4||Pt===3&&(lt&62914560)===lt&&300>At()-Nh?(gt&2)===0&&sl(e,0):Ah|=l,nl===lt&&(nl=0)),qr(e)}function Mg(e,n){n===0&&(n=Hl()),e=ca(e,n),e!==null&&(Aa(e,n),qr(e))}function d0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Mg(e,l)}function f0(e,n){var l=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(n),Mg(e,l)}function h0(e,n){return st(e,n)}var kd=null,ll=null,Mh=!1,Ed=!1,zh=!1,Zs=0;function qr(e){e!==ll&&e.next===null&&(ll===null?kd=ll=e:ll=ll.next=e),Ed=!0,Mh||(Mh=!0,p0())}function fc(e,n){if(!zh&&Ed){zh=!0;do for(var l=!1,u=kd;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var _=0;else{var x=u.suspendedLanes,S=u.pingedLanes;_=(1<<31-pt(42|e)+1)-1,_&=f&~(x&~S),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Fg(u,_))}else _=lt,_=Cr(u,u===Ct?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||kr(u,_)||(l=!0,Fg(u,_));u=u.next}while(l);zh=!1}}function _0(){zg()}function zg(){Ed=Mh=!1;var e=0;Zs!==0&&(w0()&&(e=Zs),Zs=0);for(var n=At(),l=null,u=kd;u!==null;){var f=u.next,_=$g(u,n);_===0?(u.next=null,l===null?kd=f:l.next=f,f===null&&(ll=l)):(l=u,(e!==0||(_&3)!==0)&&(Ed=!0)),u=f}fc(e)}function $g(e,n){for(var l=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var x=31-pt(_),S=1<<x,P=f[x];P===-1?((S&l)===0||(S&u)!==0)&&(f[x]=Ss(S,n)):P<=n&&(e.expiredLanes|=S),_&=~S}if(n=Ct,l=lt,l=Cr(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,l===0||e===n&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&$e(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||kr(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(u!==null&&$e(u),ui(l)){case 2:case 8:l=U;break;case 32:l=V;break;case 268435456:l=ye;break;default:l=V}return u=qg.bind(null,e),l=st(l,u),e.callbackPriority=n,e.callbackNode=l,n}return u!==null&&u!==null&&$e(u),e.callbackPriority=2,e.callbackNode=null,2}function qg(e,n){if(dn!==0&&dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Cd()&&e.callbackNode!==l)return null;var u=lt;return u=Cr(e,e===Ct?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(wg(e,u,n),$g(e,At()),e.callbackNode!=null&&e.callbackNode===l?qg.bind(null,e):null)}function Fg(e,n){if(Cd())return null;wg(e,n,!0)}function p0(){C0(function(){(gt&6)!==0?st(wt,_0):zg()})}function $h(){return Zs===0&&(Zs=Il()),Zs}function Ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function Hg(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function m0(e,n,l,u,f){if(n==="submit"&&l&&l.stateNode===f){var _=Ig((f[on]||null).action),x=u.submitter;x&&(n=(n=x[on]||null)?Ig(n.formAction):x.getAttribute("formAction"),n!==null&&(_=n,x=null));var S=new Ds("action","action",null,u,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zs!==0){var P=x?Hg(f,x):new FormData(f);ih(l,{pending:!0,data:P,method:f.method,action:_},null,P)}}else typeof _=="function"&&(S.preventDefault(),P=x?Hg(f,x):new FormData(f),ih(l,{pending:!0,data:P,method:f.method,action:_},_,P))},currentTarget:f}]})}}for(var qh=0;qh<Pi.length;qh++){var Fh=Pi[qh],g0=Fh.toLowerCase(),y0=Fh[0].toUpperCase()+Fh.slice(1);En(g0,"on"+y0)}En(Bo,"onAnimationEnd"),En(Po,"onAnimationIteration"),En(Uo,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Qu,"onTransitionRun"),En(Ku,"onTransitionStart"),En(Xu,"onTransitionCancel"),En(Lo,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function Vg(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],f=u.event;u=u.listeners;e:{var _=void 0;if(n)for(var x=u.length-1;0<=x;x--){var S=u[x],P=S.instance,Y=S.currentTarget;if(S=S.listener,P!==_&&f.isPropagationStopped())break e;_=S,f.currentTarget=Y;try{_(f)}catch(te){_d(te)}f.currentTarget=null,_=P}else for(x=0;x<u.length;x++){if(S=u[x],P=S.instance,Y=S.currentTarget,S=S.listener,P!==_&&f.isPropagationStopped())break e;_=S,f.currentTarget=Y;try{_(f)}catch(te){_d(te)}f.currentTarget=null,_=P}}}}function nt(e,n){var l=n[di];l===void 0&&(l=n[di]=new Set);var u=e+"__bubble";l.has(u)||(Yg(n,e,2,!1),l.add(u))}function Ih(e,n,l){var u=0;n&&(u|=4),Yg(l,e,u,n)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Hh(e){if(!e[Ad]){e[Ad]=!0,Ql.forEach(function(l){l!=="selectionchange"&&(v0.has(l)||Ih(l,!1,e),Ih(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ad]||(n[Ad]=!0,Ih("selectionchange",!1,n))}}function Yg(e,n,l,u){switch(my(n)){case 2:var f=Y0;break;case 8:f=G0;break;default:f=a_}l=f.bind(null,n,l,e),f=void 0,!ji||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Vh(e,n,l,u,f){var _=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===f)break;if(x===4)for(x=u.return;x!==null;){var P=x.tag;if((P===3||P===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;S!==null;){if(x=Kr(S),x===null)return;if(P=x.tag,P===5||P===6||P===26||P===27){u=_=x;continue e}S=S.parentNode}}u=u.return}co(function(){var Y=_,te=bi(l),ie=[];e:{var G=Mo.get(e);if(G!==void 0){var Z=Ds,Me=e;switch(e){case"keypress":if(Ts(l)===0)break e;case"keydown":case"keyup":Z=Eu;break;case"focusin":Me="focus",Z=ki;break;case"focusout":Me="blur",Z=ki;break;case"beforeblur":case"afterblur":Z=ki;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Nu;break;case Bo:case Po:case Uo:Z=yu;break;case Lo:Z=Ou;break;case"scroll":case"scrollend":Z=hu;break;case"wheel":Z=Bu;break;case"copy":case"cut":case"paste":Z=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=po;break;case"toggle":case"beforetoggle":Z=Uu}var Pe=(n&4)!==0,jt=!Pe&&(e==="scroll"||e==="scrollend"),q=Pe?G!==null?G+"Capture":null:G;Pe=[];for(var $=Y,H;$!==null;){var re=$;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||q===null||(re=Ta($,q),re!=null&&Pe.push(_c($,re,H))),jt)break;$=$.return}0<Pe.length&&(G=new Z(G,Me,null,l,te),ie.push({event:G,listeners:Pe}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",G&&l!==vi&&(Me=l.relatedTarget||l.fromElement)&&(Kr(Me)||Me[Qr]))break e;if((Z||G)&&(G=te.window===te?te:(G=te.ownerDocument)?G.defaultView||G.parentWindow:window,Z?(Me=l.relatedTarget||l.toElement,Z=Y,Me=Me?Kr(Me):null,Me!==null&&(jt=o(Me),Pe=Me.tag,Me!==jt||Pe!==5&&Pe!==27&&Pe!==6)&&(Me=null)):(Z=null,Me=Y),Z!==Me)){if(Pe=ho,re="onMouseLeave",q="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=po,re="onPointerLeave",q="onPointerEnter",$="pointer"),jt=Z==null?G:Na(Z),H=Me==null?G:Na(Me),G=new Pe(re,$+"leave",Z,l,te),G.target=jt,G.relatedTarget=H,re=null,Kr(te)===Y&&(Pe=new Pe(q,$+"enter",Me,l,te),Pe.target=H,Pe.relatedTarget=jt,re=Pe),jt=re,Z&&Me)t:{for(Pe=Z,q=Me,$=0,H=Pe;H;H=ol(H))$++;for(H=0,re=q;re;re=ol(re))H++;for(;0<$-H;)Pe=ol(Pe),$--;for(;0<H-$;)q=ol(q),H--;for(;$--;){if(Pe===q||q!==null&&Pe===q.alternate)break t;Pe=ol(Pe),q=ol(q)}Pe=null}else Pe=null;Z!==null&&Gg(ie,G,Z,Pe,!1),Me!==null&&jt!==null&&Gg(ie,jt,Me,Pe,!0)}}e:{if(G=Y?Na(Y):window,Z=G.nodeName&&G.nodeName.toLowerCase(),Z==="select"||Z==="input"&&G.type==="file")var Ee=wo;else if(xo(G))if(So)Ee=Yu;else{Ee=Hu;var Je=Iu}else Z=G.nodeName,!Z||Z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?Y&&yi(Y.elementType)&&(Ee=wo):Ee=Vu;if(Ee&&(Ee=Ee(e,Y))){jo(ie,Ee,l,te);break e}Je&&Je(e,G,Y),e==="focusout"&&Y&&G.type==="number"&&Y.memoizedProps.value!=null&&gi(G,"number",G.value)}switch(Je=Y?Na(Y):window,e){case"focusin":(xo(Je)||Je.contentEditable==="true")&&(ia=Je,Oi=Y,za=null);break;case"focusout":za=Oi=ia=null;break;case"mousedown":Di=!0;break;case"contextmenu":case"mouseup":case"dragend":Di=!1,Oo(ie,l,te);break;case"selectionchange":if(Zu)break;case"keydown":case"keyup":Oo(ie,l,te)}var Te;if(Ai)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else sa?vo(e,l)&&(Ue="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(mo&&l.locale!=="ko"&&(sa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&sa&&(Te=uo()):(hr=te,wi="value"in hr?hr.value:hr.textContent,sa=!0)),Je=Rd(Y,Ue),0<Je.length&&(Ue=new _o(Ue,e,null,l,te),ie.push({event:Ue,listeners:Je}),Te?Ue.data=Te:(Te=bo(l),Te!==null&&(Ue.data=Te)))),(Te=Mu?zu(e,l):$u(e,l))&&(Ue=Rd(Y,"onBeforeInput"),0<Ue.length&&(Je=new _o("onBeforeInput","beforeinput",null,l,te),ie.push({event:Je,listeners:Ue}),Je.data=Te)),m0(ie,e,Y,l,te)}Vg(ie,n)})}function _c(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Rd(e,n){for(var l=n+"Capture",u=[];e!==null;){var f=e,_=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||_===null||(f=Ta(e,l),f!=null&&u.unshift(_c(e,f,_)),f=Ta(e,n),f!=null&&u.push(_c(e,f,_))),e.tag===3)return u;e=e.return}return[]}function ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gg(e,n,l,u,f){for(var _=n._reactName,x=[];l!==null&&l!==u;){var S=l,P=S.alternate,Y=S.stateNode;if(S=S.tag,P!==null&&P===u)break;S!==5&&S!==26&&S!==27||Y===null||(P=Y,f?(Y=Ta(l,_),Y!=null&&x.unshift(_c(l,Y,P))):f||(Y=Ta(l,_),Y!=null&&x.push(_c(l,Y,P)))),l=l.return}x.length!==0&&e.push({event:n,listeners:x})}var b0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Zg(e){return(typeof e=="string"?e:""+e).replace(b0,`
`).replace(x0,"")}function Qg(e,n){return n=Zg(n),Zg(e)===n}function Nd(){}function xt(e,n,l,u,f,_){switch(l){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||na(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&na(e,""+u);break;case"className":ks(e,"class",u);break;case"tabIndex":ks(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(e,l,u);break;case"style":lo(e,u,_);break;case"data":if(n!=="object"){ks(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=Rs(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(n!=="input"&&xt(e,n,"name",f.name,f,null),xt(e,n,"formEncType",f.formEncType,f,null),xt(e,n,"formMethod",f.formMethod,f,null),xt(e,n,"formTarget",f.formTarget,f,null)):(xt(e,n,"encType",f.encType,f,null),xt(e,n,"method",f.method,f,null),xt(e,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=Rs(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=Nd);break;case"onScroll":u!=null&&nt("scroll",e);break;case"onScrollEnd":u!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=Rs(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Cs(e,"popover",u);break;case"xlinkActuate":Zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cs(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=du.get(l)||l,Cs(e,l,u))}}function Yh(e,n,l,u,f,_){switch(l){case"style":lo(e,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"children":typeof u=="string"?na(e,u):(typeof u=="number"||typeof u=="bigint")&&na(e,""+u);break;case"onScroll":u!=null&&nt("scroll",e);break;case"onScrollEnd":u!=null&&nt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Nd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),_=e[on]||null,_=_!=null?_[l]:null,typeof _=="function"&&e.removeEventListener(n,_,f),typeof u=="function")){typeof _!="function"&&_!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,u,f);break e}l in e?e[l]=u:u===!0?e.setAttribute(l,""):Cs(e,l,u)}}}function fn(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var u=!1,f=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var x=l[_];if(x!=null)switch(_){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:xt(e,n,_,x,l,null)}}f&&xt(e,n,"srcSet",l.srcSet,l,null),u&&xt(e,n,"src",l.src,l,null);return;case"input":nt("invalid",e);var S=_=x=f=null,P=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var te=l[u];if(te!=null)switch(u){case"name":f=te;break;case"type":x=te;break;case"checked":P=te;break;case"defaultChecked":Y=te;break;case"value":_=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,n));break;default:xt(e,n,u,te,l,null)}}ro(e,_,S,P,Y,x,f,!1),Es(e);return;case"select":nt("invalid",e),u=x=_=null;for(f in l)if(l.hasOwnProperty(f)&&(S=l[f],S!=null))switch(f){case"value":_=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:xt(e,n,f,S,l,null)}n=_,l=x,e.multiple=!!u,n!=null?ta(e,!!u,n,!1):l!=null&&ta(e,!!u,l,!0);return;case"textarea":nt("invalid",e),_=f=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":f=S;break;case"children":_=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:xt(e,n,x,S,l,null)}so(e,u,f,_),Es(e);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:xt(e,n,P,u,l,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(u=0;u<hc.length;u++)nt(hc[u],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:xt(e,n,Y,u,l,null)}return;default:if(yi(n)){for(te in l)l.hasOwnProperty(te)&&(u=l[te],u!==void 0&&Yh(e,n,te,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&xt(e,n,S,u,l,null))}function j0(e,n,l,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,_=null,x=null,S=null,P=null,Y=null,te=null;for(Z in l){var ie=l[Z];if(l.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(Z)||xt(e,n,Z,null,u,ie)}}for(var G in u){var Z=u[G];if(ie=l[G],u.hasOwnProperty(G)&&(Z!=null||ie!=null))switch(G){case"type":_=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,n));break;default:Z!==ie&&xt(e,n,G,Z,u,ie)}}mi(e,x,S,P,Y,te,_,f);return;case"select":Z=x=S=G=null;for(_ in l)if(P=l[_],l.hasOwnProperty(_)&&P!=null)switch(_){case"value":break;case"multiple":Z=P;default:u.hasOwnProperty(_)||xt(e,n,_,null,u,P)}for(f in u)if(_=u[f],P=l[f],u.hasOwnProperty(f)&&(_!=null||P!=null))switch(f){case"value":G=_;break;case"defaultValue":S=_;break;case"multiple":x=_;default:_!==P&&xt(e,n,f,_,u,P)}n=S,l=x,u=Z,G!=null?ta(e,!!l,G,!1):!!u!=!!l&&(n!=null?ta(e,!!l,n,!0):ta(e,!!l,l?[]:"",!1));return;case"textarea":Z=G=null;for(S in l)if(f=l[S],l.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:xt(e,n,S,null,u,f)}for(x in u)if(f=u[x],_=l[x],u.hasOwnProperty(x)&&(f!=null||_!=null))switch(x){case"value":G=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==_&&xt(e,n,x,f,u,_)}ao(e,G,Z);return;case"option":for(var Me in l)if(G=l[Me],l.hasOwnProperty(Me)&&G!=null&&!u.hasOwnProperty(Me))switch(Me){case"selected":e.selected=!1;break;default:xt(e,n,Me,null,u,G)}for(P in u)if(G=u[P],Z=l[P],u.hasOwnProperty(P)&&G!==Z&&(G!=null||Z!=null))switch(P){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:xt(e,n,P,G,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)G=l[Pe],l.hasOwnProperty(Pe)&&G!=null&&!u.hasOwnProperty(Pe)&&xt(e,n,Pe,null,u,G);for(Y in u)if(G=u[Y],Z=l[Y],u.hasOwnProperty(Y)&&G!==Z&&(G!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,n));break;default:xt(e,n,Y,G,u,Z)}return;default:if(yi(n)){for(var jt in l)G=l[jt],l.hasOwnProperty(jt)&&G!==void 0&&!u.hasOwnProperty(jt)&&Yh(e,n,jt,void 0,u,G);for(te in u)G=u[te],Z=l[te],!u.hasOwnProperty(te)||G===Z||G===void 0&&Z===void 0||Yh(e,n,te,G,u,Z);return}}for(var q in l)G=l[q],l.hasOwnProperty(q)&&G!=null&&!u.hasOwnProperty(q)&&xt(e,n,q,null,u,G);for(ie in u)G=u[ie],Z=l[ie],!u.hasOwnProperty(ie)||G===Z||G==null&&Z==null||xt(e,n,ie,G,u,Z)}var Gh=null,Zh=null;function Td(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kh=null;function w0(){var e=window.event;return e&&e.type==="popstate"?e===Kh?!1:(Kh=e,!0):(Kh=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(e){return Wg.resolve(null).then(e).catch(k0)}:Jg;function k0(e){setTimeout(function(){throw e})}function as(e){return e==="head"}function ey(e,n){var l=n,u=0,f=0;do{var _=l.nextSibling;if(e.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<u&&8>u){l=u;var x=e.ownerDocument;if(l&1&&pc(x.documentElement),l&2&&pc(x.body),l&4)for(l=x.head,pc(l),x=l.firstChild;x;){var S=x.nextSibling,P=x.nodeName;x[Ra]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=S}}if(f===0){e.removeChild(_),wc(n);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=_}while(l);wc(n)}function Xh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xh(l),fi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function E0(e,n,l,u){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ra])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var _=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=mr(e.nextSibling),e===null)break}return null}function A0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=mr(e.nextSibling),e===null))return null;return e}function Jh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function R0(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var u=function(){n(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function mr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Wh=null;function ty(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function ny(e,n,l){switch(n=Td(l),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function pc(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);fi(e)}var ar=new Map,ry=new Set;function Od(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=W.d;W.d={f:N0,r:T0,D:O0,C:D0,L:B0,m:P0,X:L0,S:U0,M:M0};function N0(){var e=ba.f(),n=wd();return e||n}function T0(e){var n=Xr(e);n!==null&&n.tag===5&&n.type==="form"?wm(n):ba.r(e)}var cl=typeof document>"u"?null:document;function ay(e,n,l){var u=cl;if(u&&typeof n=="string"&&n){var f=bn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ry.has(f)||(ry.add(f),e={rel:e,crossOrigin:l,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),fn(n,"link",e),Lt(n),u.head.appendChild(n)))}}function O0(e){ba.D(e),ay("dns-prefetch",e,null)}function D0(e,n){ba.C(e,n),ay("preconnect",e,n)}function B0(e,n,l){ba.L(e,n,l);var u=cl;if(u&&e&&n){var f='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+bn(l.imageSizes)+'"]')):f+='[href="'+bn(e)+'"]';var _=f;switch(n){case"style":_=ul(e);break;case"script":_=dl(e)}ar.has(_)||(e=g({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),ar.set(_,e),u.querySelector(f)!==null||n==="style"&&u.querySelector(mc(_))||n==="script"&&u.querySelector(gc(_))||(n=u.createElement("link"),fn(n,"link",e),Lt(n),u.head.appendChild(n)))}}function P0(e,n){ba.m(e,n);var l=cl;if(l&&e){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+bn(u)+'"][href="'+bn(e)+'"]',_=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=dl(e)}if(!ar.has(_)&&(e=g({rel:"modulepreload",href:e},n),ar.set(_,e),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gc(_)))return}u=l.createElement("link"),fn(u,"link",e),Lt(u),l.head.appendChild(u)}}}function U0(e,n,l){ba.S(e,n,l);var u=cl;if(u&&e){var f=Jr(u).hoistableStyles,_=ul(e);n=n||"default";var x=f.get(_);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(mc(_)))S.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},l),(l=ar.get(_))&&e_(e,l);var P=x=u.createElement("link");Lt(P),fn(P,"link",e),P._p=new Promise(function(Y,te){P.onload=Y,P.onerror=te}),P.addEventListener("load",function(){S.loading|=1}),P.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dd(x,n,u)}x={type:"stylesheet",instance:x,count:1,state:S},f.set(_,x)}}}function L0(e,n){ba.X(e,n);var l=cl;if(l&&e){var u=Jr(l).hoistableScripts,f=dl(e),_=u.get(f);_||(_=l.querySelector(gc(f)),_||(e=g({src:e,async:!0},n),(n=ar.get(f))&&t_(e,n),_=l.createElement("script"),Lt(_),fn(_,"link",e),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function M0(e,n){ba.M(e,n);var l=cl;if(l&&e){var u=Jr(l).hoistableScripts,f=dl(e),_=u.get(f);_||(_=l.querySelector(gc(f)),_||(e=g({src:e,async:!0,type:"module"},n),(n=ar.get(f))&&t_(e,n),_=l.createElement("script"),Lt(_),fn(_,"link",e),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(f,_))}}function sy(e,n,l,u){var f=(f=le.current)?Od(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ul(l.href),l=Jr(f).hoistableStyles,u=l.get(n),u||(u={type:"style",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ul(l.href);var _=Jr(f).hoistableStyles,x=_.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,x),(_=f.querySelector(mc(e)))&&!_._p&&(x.instance=_,x.state.loading=5),ar.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ar.set(e,l),_||z0(f,e,l,x.state))),n&&u===null)throw Error(i(528,""));return x}if(n&&u!==null)throw Error(i(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dl(l),l=Jr(f).hoistableScripts,u=l.get(n),u||(u={type:"script",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ul(e){return'href="'+bn(e)+'"'}function mc(e){return'link[rel="stylesheet"]['+e+"]"}function iy(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,n,l,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),fn(n,"link",l),Lt(n),e.head.appendChild(n))}function dl(e){return'[src="'+bn(e)+'"]'}function gc(e){return"script[async]"+e}function ly(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+bn(l.href)+'"]');if(u)return n.instance=u,Lt(u),u;var f=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Lt(u),fn(u,"style",f),Dd(u,l.precedence,e),n.instance=u;case"stylesheet":f=ul(l.href);var _=e.querySelector(mc(f));if(_)return n.state.loading|=4,n.instance=_,Lt(_),_;u=iy(l),(f=ar.get(f))&&e_(u,f),_=(e.ownerDocument||e).createElement("link"),Lt(_);var x=_;return x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),fn(_,"link",u),n.state.loading|=4,Dd(_,l.precedence,e),n.instance=_;case"script":return _=dl(l.src),(f=e.querySelector(gc(_)))?(n.instance=f,Lt(f),f):(u=l,(f=ar.get(_))&&(u=g({},l),t_(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),Lt(f),fn(f,"link",u),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Dd(u,l.precedence,e));return n.instance}function Dd(e,n,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,_=f,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===n)_=S;else if(_!==f)break}_?_.parentNode.insertBefore(e,_.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function e_(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function t_(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bd=null;function oy(e,n,l){if(Bd===null){var u=new Map,f=Bd=new Map;f.set(l,u)}else f=Bd,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var _=l[f];if(!(_[Ra]||_[Gt]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(n)||"";x=e+x;var S=u.get(x);S?S.push(_):u.set(x,[_])}}return u}function cy(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function $0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var yc=null;function q0(){}function F0(e,n,l){if(yc===null)throw Error(i(475));var u=yc;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ul(l.href),_=e.querySelector(mc(f));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Pd.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=_,Lt(_);return}_=e.ownerDocument||e,l=iy(l),(f=ar.get(f))&&e_(l,f),_=_.createElement("link"),Lt(_);var x=_;x._p=new Promise(function(S,P){x.onload=S,x.onerror=P}),fn(_,"link",l),n.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Pd.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function I0(){if(yc===null)throw Error(i(475));var e=yc;return e.stylesheets&&e.count===0&&n_(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&n_(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Pd(){if(this.count--,this.count===0){if(this.stylesheets)n_(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ud=null;function n_(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ud=new Map,n.forEach(H0,e),Ud=null,Pd.call(e))}function H0(e,n){if(!(n.state.loading&4)){var l=Ud.get(e);if(l)var u=l.get(null);else{l=new Map,Ud.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<f.length;_++){var x=f[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}f=n.instance,x=f.getAttribute("data-precedence"),_=l.get(x)||u,_===u&&l.set(null,f),l.set(x,f),this.count++,u=Pd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),_?_.parentNode.insertBefore(f,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var vc={$$typeof:b,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function V0(e,n,l,u,f,_,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function dy(e,n,l,u,f,_,x,S,P,Y,te,ie){return e=new V0(e,n,l,x,S,P,Y,ie),n=1,_===!0&&(n|=24),_=pn(3,null,null,n),e.current=_,_.stateNode=e,n=Ke(),n.refCount++,e.pooledCache=n,n.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:n},qf(_),e}function fy(e){return e?(e=ua,e):ua}function hy(e,n,l,u,f,_){f=fy(f),u.context===null?u.context=f:u.pendingContext=f,u=Va(n),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Ya(e,u,n),l!==null&&(qn(l,e,n),Qo(l,e,n))}function _y(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function r_(e,n){_y(e,n),(e=e.alternate)&&_y(e,n)}function py(e){if(e.tag===13){var n=ca(e,67108864);n!==null&&qn(n,e,67108864),r_(e,67108864)}}var Ld=!0;function Y0(e,n,l,u){var f=F.T;F.T=null;var _=W.p;try{W.p=2,a_(e,n,l,u)}finally{W.p=_,F.T=f}}function G0(e,n,l,u){var f=F.T;F.T=null;var _=W.p;try{W.p=8,a_(e,n,l,u)}finally{W.p=_,F.T=f}}function a_(e,n,l,u){if(Ld){var f=s_(u);if(f===null)Vh(e,n,u,Md,l),gy(e,u);else if(Q0(f,e,n,l,u))u.stopPropagation();else if(gy(e,u),n&4&&-1<Z0.indexOf(e)){for(;f!==null;){var _=Xr(f);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=Gn(_.pendingLanes);if(x!==0){var S=_;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var P=1<<31-pt(x);S.entanglements[1]|=P,x&=~P}qr(_),(gt&6)===0&&(xd=At()+500,fc(0))}}break;case 13:S=ca(_,2),S!==null&&qn(S,_,2),wd(),r_(_,2)}if(_=s_(u),_===null&&Vh(e,n,u,Md,l),_===f)break;f=_}f!==null&&u.stopPropagation()}else Vh(e,n,u,null,l)}}function s_(e){return e=bi(e),i_(e)}var Md=null;function i_(e){if(Md=null,e=Kr(e),e!==null){var n=o(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=d(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Md=e,null}function my(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case wt:return 2;case U:return 8;case V:case ee:return 32;case ye:return 268435456;default:return 32}default:return 32}}var l_=!1,ss=null,is=null,ls=null,bc=new Map,xc=new Map,os=[],Z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(e,n){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":bc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(n.pointerId)}}function jc(e,n,l,u,f,_){return e===null||e.nativeEvent!==_?(e={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[f]},n!==null&&(n=Xr(n),n!==null&&py(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Q0(e,n,l,u,f){switch(n){case"focusin":return ss=jc(ss,e,n,l,u,f),!0;case"dragenter":return is=jc(is,e,n,l,u,f),!0;case"mouseover":return ls=jc(ls,e,n,l,u,f),!0;case"pointerover":var _=f.pointerId;return bc.set(_,jc(bc.get(_)||null,e,n,l,u,f)),!0;case"gotpointercapture":return _=f.pointerId,xc.set(_,jc(xc.get(_)||null,e,n,l,u,f)),!0}return!1}function yy(e){var n=Kr(e.target);if(n!==null){var l=o(n);if(l!==null){if(n=l.tag,n===13){if(n=d(l),n!==null){e.blockedOn=n,nu(e.priority,function(){if(l.tag===13){var u=$n();u=ci(u);var f=ca(l,u);f!==null&&qn(f,l,u),r_(l,u)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=s_(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);vi=u,l.target.dispatchEvent(u),vi=null}else return n=Xr(l),n!==null&&py(n),e.blockedOn=l,!1;n.shift()}return!0}function vy(e,n,l){zd(e)&&l.delete(n)}function K0(){l_=!1,ss!==null&&zd(ss)&&(ss=null),is!==null&&zd(is)&&(is=null),ls!==null&&zd(ls)&&(ls=null),bc.forEach(vy),xc.forEach(vy)}function $d(e,n){e.blockedOn===n&&(e.blockedOn=null,l_||(l_=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K0)))}var qd=null;function by(e){qd!==e&&(qd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qd===e&&(qd=null);for(var n=0;n<e.length;n+=3){var l=e[n],u=e[n+1],f=e[n+2];if(typeof u!="function"){if(i_(u||l)===null)continue;break}var _=Xr(l);_!==null&&(e.splice(n,3),n-=3,ih(_,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function wc(e){function n(P){return $d(P,e)}ss!==null&&$d(ss,e),is!==null&&$d(is,e),ls!==null&&$d(ls,e),bc.forEach(n),xc.forEach(n);for(var l=0;l<os.length;l++){var u=os[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<os.length&&(l=os[0],l.blockedOn===null);)yy(l),l.blockedOn===null&&os.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],_=l[u+1],x=f[on]||null;if(typeof _=="function")x||by(l);else if(x){var S=null;if(_&&_.hasAttribute("formAction")){if(f=_,x=_[on]||null)S=x.formAction;else if(i_(f)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),by(l)}}}function o_(e){this._internalRoot=e}Fd.prototype.render=o_.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var l=n.current,u=$n();hy(l,u,e,n,null,null)},Fd.prototype.unmount=o_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;hy(e.current,2,null,e,null,null),wd(),n[Qr]=null}};function Fd(e){this._internalRoot=e}Fd.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gl();e={blockedOn:null,target:e,priority:n};for(var l=0;l<os.length&&n!==0&&n<os[l].priority;l++);os.splice(l,0,e),l===0&&yy(e)}};var xy=t.version;if(xy!=="19.1.0")throw Error(i(527,xy,"19.1.0"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var X0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Ce=Id.inject(X0),ze=Id}catch{}}return Cc.createRoot=function(e,n){if(!c(e))throw Error(i(299));var l=!1,u="",f=Lm,_=Mm,x=zm,S=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=dy(e,1,!1,null,null,l,u,f,_,x,S,null),e[Qr]=n.current,Hh(e),new o_(n)},Cc.hydrateRoot=function(e,n,l){if(!c(e))throw Error(i(299));var u=!1,f="",_=Lm,x=Mm,S=zm,P=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),n=dy(e,1,!0,n,l??null,u,f,_,x,S,P,Y),n.context=fy(null),l=n.current,u=$n(),u=ci(u),f=Va(u),f.callback=null,Ya(l,f,u),l=u,n.current.lanes=l,Aa(n,l),qr(n),e[Qr]=n.current,Hh(e),new Fd(n)},Cc.version="19.1.0",Cc}var Ty;function uj(){if(Ty)return f_.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),f_.exports=cj(),f_.exports}var dj=uj();const fj=fp(dj);var kc={},Oy;function hj(){if(Oy)return kc;Oy=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.parse=d,kc.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function d(y,E){const w=new o,R=y.length;if(R<2)return w;const A=(E==null?void 0:E.decode)||g;let k=0;do{const C=y.indexOf("=",k);if(C===-1)break;const b=y.indexOf(";",k),j=b===-1?R:b;if(C>j){k=y.lastIndexOf(";",C-1)+1;continue}const N=h(y,k,C),T=p(y,C,N),z=y.slice(N,T);if(w[z]===void 0){let X=h(y,C+1,j),Q=p(y,j,X);const ne=A(y.slice(X,Q));w[z]=ne}k=j+1}while(k<R);return w}function h(y,E,w){do{const R=y.charCodeAt(E);if(R!==32&&R!==9)return E}while(++E<w);return w}function p(y,E,w){for(;E>w;){const R=y.charCodeAt(--E);if(R!==32&&R!==9)return E+1}return w}function m(y,E,w){const R=(w==null?void 0:w.encode)||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=R(E);if(!t.test(A))throw new TypeError(`argument val is invalid: ${E}`);let k=y+"="+A;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!s.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return c.call(y)==="[object Date]"}return kc}hj();var Dy="popstate";function _j(r={}){function t(i,c){let{pathname:o,search:d,hash:h}=i.location;return M_("",{pathname:o,search:d,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:Fc(c)}return mj(t,s,null,r)}function Ot(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pj(){return Math.random().toString(36).substring(2,10)}function By(r,t){return{usr:r.state,key:r.key,idx:t}}function M_(r,t,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Pl(t):t,state:s,key:t&&t.key||i||pj()}}function Fc({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Pl(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function mj(r,t,s,i={}){let{window:c=document.defaultView,v5Compat:o=!1}=i,d=c.history,h="POP",p=null,m=g();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function g(){return(d.state||{idx:null}).idx}function v(){h="POP";let A=g(),k=A==null?null:A-m;m=A,p&&p({action:h,location:R.location,delta:k})}function y(A,k){h="PUSH";let C=M_(R.location,A,k);m=g()+1;let b=By(C,m),j=R.createHref(C);try{d.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;c.location.assign(j)}o&&p&&p({action:h,location:R.location,delta:1})}function E(A,k){h="REPLACE";let C=M_(R.location,A,k);m=g();let b=By(C,m),j=R.createHref(C);d.replaceState(b,"",j),o&&p&&p({action:h,location:R.location,delta:0})}function w(A){return gj(A)}let R={get action(){return h},get location(){return r(c,d)},listen(A){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(Dy,v),p=A,()=>{c.removeEventListener(Dy,v),p=null}},createHref(A){return t(c,A)},createURL:w,encodeLocation(A){let k=w(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:E,go(A){return d.go(A)}};return R}function gj(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(s,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Fc(r);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function ab(r,t,s="/"){return yj(r,t,s,!1)}function yj(r,t,s,i){let c=typeof t=="string"?Pl(t):t,o=ka(c.pathname||"/",s);if(o==null)return null;let d=sb(r);vj(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let m=Nj(o);h=Aj(d[p],m,i)}return h}function sb(r,t=[],s=[],i=""){let c=(o,d,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};p.relativePath.startsWith("/")&&(Ot(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Ca([i,p.relativePath]),g=s.concat(p);o.children&&o.children.length>0&&(Ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),sb(o.children,t,g,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:kj(m,o.index),routesMeta:g})};return r.forEach((o,d)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))c(o,d);else for(let p of ib(o.path))c(o,d,p)}),t}function ib(r){let t=r.split("/");if(t.length===0)return[];let[s,...i]=t,c=s.endsWith("?"),o=s.replace(/\?$/,"");if(i.length===0)return c?[o,""]:[o];let d=ib(i.join("/")),h=[];return h.push(...d.map(p=>p===""?o:[o,p].join("/"))),c&&h.push(...d),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function vj(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:Ej(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var bj=/^:[\w-]+$/,xj=3,jj=2,wj=1,Sj=10,Cj=-2,Py=r=>r==="*";function kj(r,t){let s=r.split("/"),i=s.length;return s.some(Py)&&(i+=Cj),t&&(i+=jj),s.filter(c=>!Py(c)).reduce((c,o)=>c+(bj.test(o)?xj:o===""?wj:Sj),i)}function Ej(r,t){return r.length===t.length&&r.slice(0,-1).every((i,c)=>i===t[c])?r[r.length-1]-t[t.length-1]:0}function Aj(r,t,s=!1){let{routesMeta:i}=r,c={},o="/",d=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",v=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),y=p.route;if(!v&&m&&s&&!i[i.length-1].route.index&&(v=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!v)return null;Object.assign(c,v.params),d.push({params:c,pathname:Ca([o,v.pathname]),pathnameBase:Bj(Ca([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=Ca([o,v.pathnameBase]))}return d}function uf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=Rj(r.path,r.caseSensitive,r.end),c=t.match(s);if(!c)return null;let o=c[0],d=o.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},y)=>{if(g==="*"){let w=h[y]||"";d=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=h[y];return v&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:d,pattern:r}}function Rj(r,t=!1,s=!0){xr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),i]}function Nj(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ka(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}function Tj(r,t="/"){let{pathname:s,search:i="",hash:c=""}=typeof r=="string"?Pl(r):r;return{pathname:s?s.startsWith("/")?s:Oj(s,t):t,search:Pj(i),hash:Uj(c)}}function Oj(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function m_(r,t,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dj(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function _p(r){let t=Dj(r);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function pp(r,t,s,i=!1){let c;typeof r=="string"?c=Pl(r):(c={...r},Ot(!c.pathname||!c.pathname.includes("?"),m_("?","pathname","search",c)),Ot(!c.pathname||!c.pathname.includes("#"),m_("#","pathname","hash",c)),Ot(!c.search||!c.search.includes("#"),m_("#","search","hash",c)));let o=r===""||c.pathname==="",d=o?"/":c.pathname,h;if(d==null)h=s;else{let v=t.length-1;if(!i&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),v-=1;c.pathname=y.join("/")}h=v>=0?t[v]:"/"}let p=Tj(c,h),m=d&&d!=="/"&&d.endsWith("/"),g=(o||d===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Ca=r=>r.join("/").replace(/\/\/+/g,"/"),Bj=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Uj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Lj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var lb=["POST","PUT","PATCH","DELETE"];new Set(lb);var Mj=["GET",...lb];new Set(Mj);var Ul=D.createContext(null);Ul.displayName="DataRouter";var wf=D.createContext(null);wf.displayName="DataRouterState";var ob=D.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var zj=D.createContext(new Map);zj.displayName="Fetchers";var $j=D.createContext(null);$j.displayName="Await";var jr=D.createContext(null);jr.displayName="Navigation";var Zc=D.createContext(null);Zc.displayName="Location";var lr=D.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var mp=D.createContext(null);mp.displayName="RouteError";function qj(r,{relative:t}={}){Ot(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=D.useContext(jr),{hash:c,pathname:o,search:d}=Qc(r,{relative:t}),h=o;return s!=="/"&&(h=o==="/"?s:Ca([s,o])),i.createHref({pathname:h,search:d,hash:c})}function Ll(){return D.useContext(Zc)!=null}function Yn(){return Ot(Ll(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Zc).location}var cb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ub(r){D.useContext(jr).static||D.useLayoutEffect(r)}function wr(){let{isDataRoute:r}=D.useContext(lr);return r?nw():Fj()}function Fj(){Ot(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let r=D.useContext(Ul),{basename:t,navigator:s}=D.useContext(jr),{matches:i}=D.useContext(lr),{pathname:c}=Yn(),o=JSON.stringify(_p(i)),d=D.useRef(!1);return ub(()=>{d.current=!0}),D.useCallback((p,m={})=>{if(xr(d.current,cb),!d.current)return;if(typeof p=="number"){s.go(p);return}let g=pp(p,JSON.parse(o),c,m.relative==="path");r==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ca([t,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[t,s,o,c,r])}var db=D.createContext(null);function or(){return D.useContext(db)}function Ij(r){let t=D.useContext(lr).outlet;return t&&D.createElement(db.Provider,{value:r},t)}function Hj(){let{matches:r}=D.useContext(lr),t=r[r.length-1];return t?t.params:{}}function Qc(r,{relative:t}={}){let{matches:s}=D.useContext(lr),{pathname:i}=Yn(),c=JSON.stringify(_p(s));return D.useMemo(()=>pp(r,JSON.parse(c),i,t==="path"),[r,c,i,t])}function Vj(r,t){return fb(r,t)}function fb(r,t,s,i){var C;Ot(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c,static:o}=D.useContext(jr),{matches:d}=D.useContext(lr),h=d[d.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let b=v&&v.path||"";hb(m,!v||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let y=Yn(),E;if(t){let b=typeof t=="string"?Pl(t):t;Ot(g==="/"||((C=b.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${b.pathname}" was given in the \`location\` prop.`),E=b}else E=y;let w=E.pathname||"/",R=w;if(g!=="/"){let b=g.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(b.length).join("/")}let A=!o&&s&&s.matches&&s.matches.length>0?s.matches:ab(r,{pathname:R});xr(v||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),xr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Kj(A&&A.map(b=>Object.assign({},b,{params:Object.assign({},p,b.params),pathname:Ca([g,c.encodeLocation?c.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?g:Ca([g,c.encodeLocation?c.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),d,s,i);return t&&k?D.createElement(Zc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function Yj(){let r=tw(),t=Lj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),s?D.createElement("pre",{style:c},s):null,d)}var Gj=D.createElement(Yj,null),Zj=class extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?D.createElement(lr.Provider,{value:this.props.routeContext},D.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qj({routeContext:r,match:t,children:s}){let i=D.useContext(Ul);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(lr.Provider,{value:r},s)}function Kj(r,t=[],s=null,i=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let c=r,o=s==null?void 0:s.errors;if(o!=null){let p=c.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let d=!1,h=-1;if(s)for(let p=0;p<c.length;p++){let m=c[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:v}=s,y=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){d=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,m,g)=>{let v,y=!1,E=null,w=null;s&&(v=o&&m.route.id?o[m.route.id]:void 0,E=m.route.errorElement||Gj,d&&(h<0&&g===0?(hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):h===g&&(y=!0,w=m.route.hydrateFallbackElement||null)));let R=t.concat(c.slice(0,g+1)),A=()=>{let k;return v?k=E:y?k=w:m.route.Component?k=D.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,D.createElement(Qj,{match:m,routeContext:{outlet:p,matches:R,isDataRoute:s!=null},children:k})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?D.createElement(Zj,{location:s.location,revalidation:s.revalidation,component:E,error:v,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xj(r){let t=D.useContext(Ul);return Ot(t,gp(r)),t}function Jj(r){let t=D.useContext(wf);return Ot(t,gp(r)),t}function Wj(r){let t=D.useContext(lr);return Ot(t,gp(r)),t}function yp(r){let t=Wj(r),s=t.matches[t.matches.length-1];return Ot(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function ew(){return yp("useRouteId")}function tw(){var i;let r=D.useContext(mp),t=Jj("useRouteError"),s=yp("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[s]}function nw(){let{router:r}=Xj("useNavigate"),t=yp("useNavigate"),s=D.useRef(!1);return ub(()=>{s.current=!0}),D.useCallback(async(c,o={})=>{xr(s.current,cb),s.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:t,...o}))},[r,t])}var Uy={};function hb(r,t,s){!t&&!Uy[r]&&(Uy[r]=!0,xr(!1,s))}D.memo(rw);function rw({routes:r,future:t,state:s}){return fb(r,void 0,s,t)}function wl({to:r,replace:t,state:s,relative:i}){Ot(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=D.useContext(jr);xr(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(lr),{pathname:d}=Yn(),h=wr(),p=pp(r,_p(o),d,i==="path"),m=JSON.stringify(p);return D.useEffect(()=>{h(JSON.parse(m),{replace:t,state:s,relative:i})},[h,m,i,t,s]),null}function vp(r){return Ij(r.context)}function Nt(r){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:r="/",children:t=null,location:s,navigationType:i="POP",navigator:c,static:o=!1}){Ot(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:d,navigator:c,static:o,future:{}}),[d,c,o]);typeof s=="string"&&(s=Pl(s));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,E=D.useMemo(()=>{let w=ka(p,d);return w==null?null:{location:{pathname:w,search:m,hash:g,state:v,key:y},navigationType:i}},[d,p,m,g,v,y,i]);return xr(E!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:D.createElement(jr.Provider,{value:h},D.createElement(Zc.Provider,{children:t,value:E}))}function sw({children:r,location:t}){return Vj(z_(r),t)}function z_(r,t=[]){let s=[];return D.Children.forEach(r,(i,c)=>{if(!D.isValidElement(i))return;let o=[...t,c];if(i.type===D.Fragment){s.push.apply(s,z_(i.props.children,o));return}Ot(i.type===Nt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=z_(i.props.children,o)),s.push(d)}),s}var nf="get",rf="application/x-www-form-urlencoded";function Sf(r){return r!=null&&typeof r.tagName=="string"}function iw(r){return Sf(r)&&r.tagName.toLowerCase()==="button"}function lw(r){return Sf(r)&&r.tagName.toLowerCase()==="form"}function ow(r){return Sf(r)&&r.tagName.toLowerCase()==="input"}function cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uw(r,t){return r.button===0&&(!t||t==="_self")&&!cw(r)}var Hd=null;function dw(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g_(r){return r!=null&&!fw.has(r)?(xr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):r}function hw(r,t){let s,i,c,o,d;if(lw(r)){let h=r.getAttribute("action");i=h?ka(h,t):null,s=r.getAttribute("method")||nf,c=g_(r.getAttribute("enctype"))||rf,o=new FormData(r)}else if(iw(r)||ow(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(i=p?ka(p,t):null,s=r.getAttribute("formmethod")||h.getAttribute("method")||nf,c=g_(r.getAttribute("formenctype"))||g_(h.getAttribute("enctype"))||rf,o=new FormData(h,r),!dw()){let{name:m,type:g,value:v}=r;if(g==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,v)}}else{if(Sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=nf,i=null,c=rf,d=r}return o&&c==="text/plain"&&(d=o,o=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:o,body:d}}function bp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function _w(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mw(r,t,s){let i=await Promise.all(r.map(async c=>{let o=t.routes[c.route.id];if(o){let d=await _w(o,s);return d.links?d.links():[]}return[]}));return bw(i.flat(1).filter(pw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Ly(r,t,s,i,c,o){let d=(p,m)=>s[m]?p.route.id!==s[m].route.id:!0,h=(p,m)=>{var g;return s[m].pathname!==p.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==p.params["*"]};return o==="assets"?t.filter((p,m)=>d(p,m)||h(p,m)):o==="data"?t.filter((p,m)=>{var v;let g=i.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(d(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function gw(r,t,{includeHydrateFallback:s}={}){return yw(r.map(i=>{let c=t.routes[i.route.id];if(!c)return[];let o=[c.module];return c.clientActionModule&&(o=o.concat(c.clientActionModule)),c.clientLoaderModule&&(o=o.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(o=o.concat(c.hydrateFallbackModule)),c.imports&&(o=o.concat(c.imports)),o}).flat(1))}function yw(r){return[...new Set(r)]}function vw(r){let t={},s=Object.keys(r).sort();for(let i of s)t[i]=r[i];return t}function bw(r,t){let s=new Set;return new Set(t),r.reduce((i,c)=>{let o=JSON.stringify(vw(c));return s.has(o)||(s.add(o),i.push({key:o,link:c})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xw=new Set([100,101,204,205]);function jw(r,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname="_root.data":t&&ka(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function _b(){let r=D.useContext(Ul);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ww(){let r=D.useContext(wf);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xp=D.createContext(void 0);xp.displayName="FrameworkContext";function pb(){let r=D.useContext(xp);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function Sw(r,t){let s=D.useContext(xp),[i,c]=D.useState(!1),[o,d]=D.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,y=D.useRef(null);D.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let R=k=>{k.forEach(C=>{d(C.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[r]),D.useEffect(()=>{if(i){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[i]);let E=()=>{c(!0)},w=()=>{c(!1),d(!1)};return s?r!=="intent"?[o,y,{}]:[o,y,{onFocus:Ec(h,E),onBlur:Ec(p,w),onMouseEnter:Ec(m,E),onMouseLeave:Ec(g,w),onTouchStart:Ec(v,E)}]:[!1,y,{}]}function Ec(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function Cw({page:r,...t}){let{router:s}=_b(),i=D.useMemo(()=>ab(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?D.createElement(Ew,{page:r,matches:i,...t}):null}function kw(r){let{manifest:t,routeModules:s}=pb(),[i,c]=D.useState([]);return D.useEffect(()=>{let o=!1;return mw(r,t,s).then(d=>{o||c(d)}),()=>{o=!0}},[r,t,s]),i}function Ew({page:r,matches:t,...s}){let i=Yn(),{manifest:c,routeModules:o}=pb(),{basename:d}=_b(),{loaderData:h,matches:p}=ww(),m=D.useMemo(()=>Ly(r,t,p,c,i,"data"),[r,t,p,c,i]),g=D.useMemo(()=>Ly(r,t,p,c,i,"assets"),[r,t,p,c,i]),v=D.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let w=new Set,R=!1;if(t.forEach(k=>{var b;let C=c.routes[k.route.id];!C||!C.hasLoader||(!m.some(j=>j.route.id===k.route.id)&&k.route.id in h&&((b=o[k.route.id])!=null&&b.shouldRevalidate)||C.hasClientLoader?R=!0:w.add(k.route.id))}),w.size===0)return[];let A=jw(r,d);return R&&w.size>0&&A.searchParams.set("_routes",t.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[d,h,i,c,m,t,r,o]),y=D.useMemo(()=>gw(g,c),[g,c]),E=kw(g);return D.createElement(D.Fragment,null,v.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),y.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),E.map(({key:w,link:R})=>D.createElement("link",{key:w,...R})))}function Aw(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mb&&(window.__reactRouterVersion="7.6.0")}catch{}function Rw({basename:r,children:t,window:s}){let i=D.useRef();i.current==null&&(i.current=_j({window:s,v5Compat:!0}));let c=i.current,[o,d]=D.useState({action:c.action,location:c.location}),h=D.useCallback(p=>{D.startTransition(()=>d(p))},[d]);return D.useLayoutEffect(()=>c.listen(h),[c,h]),D.createElement(aw,{basename:r,children:t,location:o.location,navigationType:o.action,navigator:c})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=D.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:c,reloadDocument:o,replace:d,state:h,target:p,to:m,preventScrollReset:g,viewTransition:v,...y},E){let{basename:w}=D.useContext(jr),R=typeof m=="string"&&gb.test(m),A,k=!1;if(typeof m=="string"&&R&&(A=m,mb))try{let Q=new URL(window.location.href),ne=m.startsWith("//")?new URL(Q.protocol+m):new URL(m),ce=ka(ne.pathname,w);ne.origin===Q.origin&&ce!=null?m=ce+ne.search+ne.hash:k=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=qj(m,{relative:c}),[b,j,N]=Sw(i,y),T=Dw(m,{replace:d,state:h,target:p,preventScrollReset:g,relative:c,viewTransition:v});function z(Q){t&&t(Q),Q.defaultPrevented||T(Q)}let X=D.createElement("a",{...y,...N,href:A||C,onClick:k||o?t:z,ref:Aw(E,j),target:p,"data-discover":!R&&s==="render"?"true":void 0});return b&&!R?D.createElement(D.Fragment,null,X,D.createElement(Cw,{page:C})):X});kn.displayName="Link";var Nw=D.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:c=!1,style:o,to:d,viewTransition:h,children:p,...m},g){let v=Qc(d,{relative:m.relative}),y=Yn(),E=D.useContext(wf),{navigator:w,basename:R}=D.useContext(jr),A=E!=null&&Mw(v)&&h===!0,k=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,C=y.pathname,b=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(C=C.toLowerCase(),b=b?b.toLowerCase():null,k=k.toLowerCase()),b&&R&&(b=ka(b,R)||b);const j=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let N=C===k||!c&&C.startsWith(k)&&C.charAt(j)==="/",T=b!=null&&(b===k||!c&&b.startsWith(k)&&b.charAt(k.length)==="/"),z={isActive:N,isPending:T,isTransitioning:A},X=N?t:void 0,Q;typeof i=="function"?Q=i(z):Q=[i,N?"active":null,T?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ne=typeof o=="function"?o(z):o;return D.createElement(kn,{...m,"aria-current":X,className:Q,ref:g,style:ne,to:d,viewTransition:h},typeof p=="function"?p(z):p)});Nw.displayName="NavLink";var Tw=D.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:c,state:o,method:d=nf,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v,...y},E)=>{let w=Uw(),R=Lw(h,{relative:m}),A=d.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&gb.test(h),C=b=>{if(p&&p(b),b.defaultPrevented)return;b.preventDefault();let j=b.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||d;w(j||b.currentTarget,{fetcherKey:t,method:N,navigate:s,replace:c,state:o,relative:m,preventScrollReset:g,viewTransition:v})};return D.createElement("form",{ref:E,method:A,action:R,onSubmit:i?p:C,...y,"data-discover":!k&&r==="render"?"true":void 0})});Tw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(r){let t=D.useContext(Ul);return Ot(t,Ow(r)),t}function Dw(r,{target:t,replace:s,state:i,preventScrollReset:c,relative:o,viewTransition:d}={}){let h=wr(),p=Yn(),m=Qc(r,{relative:o});return D.useCallback(g=>{if(uw(g,t)){g.preventDefault();let v=s!==void 0?s:Fc(p)===Fc(m);h(r,{replace:v,state:i,preventScrollReset:c,relative:o,viewTransition:d})}},[p,h,m,s,i,t,r,c,o,d])}var Bw=0,Pw=()=>`__${String(++Bw)}__`;function Uw(){let{router:r}=yb("useSubmit"),{basename:t}=D.useContext(jr),s=ew();return D.useCallback(async(i,c={})=>{let{action:o,method:d,encType:h,formData:p,body:m}=hw(i,t);if(c.navigate===!1){let g=c.fetcherKey||Pw();await r.fetch(g,s,c.action||o,{preventScrollReset:c.preventScrollReset,formData:p,body:m,formMethod:c.method||d,formEncType:c.encType||h,flushSync:c.flushSync})}else await r.navigate(c.action||o,{preventScrollReset:c.preventScrollReset,formData:p,body:m,formMethod:c.method||d,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,t,s])}function Lw(r,{relative:t}={}){let{basename:s}=D.useContext(jr),i=D.useContext(lr);Ot(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),o={...Qc(r||".",{relative:t})},d=Yn();if(r==null){o.search=d.search;let h=new URLSearchParams(o.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&c.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:Ca([s,o.pathname])),Fc(o)}function Mw(r,t={}){let s=D.useContext(ob);Ot(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yb("useViewTransitionState"),c=Qc(r,{relative:t.relative});if(!s.isTransitioning)return!1;let o=ka(s.currentLocation.pathname,i)||s.currentLocation.pathname,d=ka(s.nextLocation.pathname,i)||s.nextLocation.pathname;return uf(c.pathname,d)!=null||uf(c.pathname,o)!=null}[...xw];function zw(){const r=Yn();return a.jsxs("div",{className:"app-container",children:[a.jsx("header",{children:a.jsx("h1",{children:"BRSR Sustainability Hub"})}),a.jsxs("main",{children:[r.state&&r.state.message&&a.jsx("p",{className:"success-message",children:r.state.message}),a.jsx(vp,{})," "]}),a.jsx("footer",{children:a.jsxs("p",{children:["© ",new Date().getFullYear()," ESG Calculator"]})})]})}function vb(r,t){return function(){return r.apply(t,arguments)}}const{toString:$w}=Object.prototype,{getPrototypeOf:jp}=Object,{iterator:Cf,toStringTag:bb}=Symbol,kf=(r=>t=>{const s=$w.call(t);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=r=>(r=r.toLowerCase(),t=>kf(t)===r),Ef=r=>t=>typeof t===r,{isArray:Ml}=Array,Ic=Ef("undefined");function qw(r){return r!==null&&!Ic(r)&&r.constructor!==null&&!Ic(r.constructor)&&Dn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const xb=Sr("ArrayBuffer");function Fw(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&xb(r.buffer),t}const Iw=Ef("string"),Dn=Ef("function"),jb=Ef("number"),Af=r=>r!==null&&typeof r=="object",Hw=r=>r===!0||r===!1,af=r=>{if(kf(r)!=="object")return!1;const t=jp(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bb in r)&&!(Cf in r)},Vw=Sr("Date"),Yw=Sr("File"),Gw=Sr("Blob"),Zw=Sr("FileList"),Qw=r=>Af(r)&&Dn(r.pipe),Kw=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||Dn(r.append)&&((t=kf(r))==="formdata"||t==="object"&&Dn(r.toString)&&r.toString()==="[object FormData]"))},Xw=Sr("URLSearchParams"),[Jw,Ww,eS,tS]=["ReadableStream","Request","Response","Headers"].map(Sr),nS=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kc(r,t,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let i,c;if(typeof r!="object"&&(r=[r]),Ml(r))for(i=0,c=r.length;i<c;i++)t.call(null,r[i],i,r);else{const o=s?Object.getOwnPropertyNames(r):Object.keys(r),d=o.length;let h;for(i=0;i<d;i++)h=o[i],t.call(null,r[h],h,r)}}function wb(r,t){t=t.toLowerCase();const s=Object.keys(r);let i=s.length,c;for(;i-- >0;)if(c=s[i],t===c.toLowerCase())return c;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sb=r=>!Ic(r)&&r!==Js;function $_(){const{caseless:r}=Sb(this)&&this||{},t={},s=(i,c)=>{const o=r&&wb(t,c)||c;af(t[o])&&af(i)?t[o]=$_(t[o],i):af(i)?t[o]=$_({},i):Ml(i)?t[o]=i.slice():t[o]=i};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&Kc(arguments[i],s);return t}const rS=(r,t,s,{allOwnKeys:i}={})=>(Kc(t,(c,o)=>{s&&Dn(c)?r[o]=vb(c,s):r[o]=c},{allOwnKeys:i}),r),aS=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),sS=(r,t,s,i)=>{r.prototype=Object.create(t.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),s&&Object.assign(r.prototype,s)},iS=(r,t,s,i)=>{let c,o,d;const h={};if(t=t||{},r==null)return t;do{for(c=Object.getOwnPropertyNames(r),o=c.length;o-- >0;)d=c[o],(!i||i(d,r,t))&&!h[d]&&(t[d]=r[d],h[d]=!0);r=s!==!1&&jp(r)}while(r&&(!s||s(r,t))&&r!==Object.prototype);return t},lS=(r,t,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=t.length;const i=r.indexOf(t,s);return i!==-1&&i===s},oS=r=>{if(!r)return null;if(Ml(r))return r;let t=r.length;if(!jb(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=r[t];return s},cS=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&jp(Uint8Array)),uS=(r,t)=>{const i=(r&&r[Cf]).call(r);let c;for(;(c=i.next())&&!c.done;){const o=c.value;t.call(r,o[0],o[1])}},dS=(r,t)=>{let s;const i=[];for(;(s=r.exec(t))!==null;)i.push(s);return i},fS=Sr("HTMLFormElement"),hS=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,c){return i.toUpperCase()+c}),My=(({hasOwnProperty:r})=>(t,s)=>r.call(t,s))(Object.prototype),_S=Sr("RegExp"),Cb=(r,t)=>{const s=Object.getOwnPropertyDescriptors(r),i={};Kc(s,(c,o)=>{let d;(d=t(c,o,r))!==!1&&(i[o]=d||c)}),Object.defineProperties(r,i)},pS=r=>{Cb(r,(t,s)=>{if(Dn(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=r[s];if(Dn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},mS=(r,t)=>{const s={},i=c=>{c.forEach(o=>{s[o]=!0})};return Ml(r)?i(r):i(String(r).split(t)),s},gS=()=>{},yS=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function vS(r){return!!(r&&Dn(r.append)&&r[bb]==="FormData"&&r[Cf])}const bS=r=>{const t=new Array(10),s=(i,c)=>{if(Af(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[c]=i;const o=Ml(i)?[]:{};return Kc(i,(d,h)=>{const p=s(d,c+1);!Ic(p)&&(o[h]=p)}),t[c]=void 0,o}}return i};return s(r,0)},xS=Sr("AsyncFunction"),jS=r=>r&&(Af(r)||Dn(r))&&Dn(r.then)&&Dn(r.catch),kb=((r,t)=>r?setImmediate:t?((s,i)=>(Js.addEventListener("message",({source:c,data:o})=>{c===Js&&o===s&&i.length&&i.shift()()},!1),c=>{i.push(c),Js.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Dn(Js.postMessage)),wS=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||kb,SS=r=>r!=null&&Dn(r[Cf]),K={isArray:Ml,isArrayBuffer:xb,isBuffer:qw,isFormData:Kw,isArrayBufferView:Fw,isString:Iw,isNumber:jb,isBoolean:Hw,isObject:Af,isPlainObject:af,isReadableStream:Jw,isRequest:Ww,isResponse:eS,isHeaders:tS,isUndefined:Ic,isDate:Vw,isFile:Yw,isBlob:Gw,isRegExp:_S,isFunction:Dn,isStream:Qw,isURLSearchParams:Xw,isTypedArray:cS,isFileList:Zw,forEach:Kc,merge:$_,extend:rS,trim:nS,stripBOM:aS,inherits:sS,toFlatObject:iS,kindOf:kf,kindOfTest:Sr,endsWith:lS,toArray:oS,forEachEntry:uS,matchAll:dS,isHTMLForm:fS,hasOwnProperty:My,hasOwnProp:My,reduceDescriptors:Cb,freezeMethods:pS,toObjectSet:mS,toCamelCase:hS,noop:gS,toFiniteNumber:yS,findKey:wb,global:Js,isContextDefined:Sb,isSpecCompliantForm:vS,toJSONObject:bS,isAsyncFn:xS,isThenable:jS,setImmediate:kb,asap:wS,isIterable:SS};function Ve(r,t,s,i,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),c&&(this.response=c,this.status=c.status?c.status:null)}K.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const Eb=Ve.prototype,Ab={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Ab[r]={value:r}});Object.defineProperties(Ve,Ab);Object.defineProperty(Eb,"isAxiosError",{value:!0});Ve.from=(r,t,s,i,c,o)=>{const d=Object.create(Eb);return K.toFlatObject(r,d,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),Ve.call(d,r.message,t,s,i,c),d.cause=r,d.name=r.name,o&&Object.assign(d,o),d};const CS=null;function q_(r){return K.isPlainObject(r)||K.isArray(r)}function Rb(r){return K.endsWith(r,"[]")?r.slice(0,-2):r}function zy(r,t,s){return r?r.concat(t).map(function(c,o){return c=Rb(c),!s&&o?"["+c+"]":c}).join(s?".":""):t}function kS(r){return K.isArray(r)&&!r.some(q_)}const ES=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function Rf(r,t,s){if(!K.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,s=K.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,A){return!K.isUndefined(A[R])});const i=s.metaTokens,c=s.visitor||g,o=s.dots,d=s.indexes,p=(s.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(c))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(K.isDate(w))return w.toISOString();if(!p&&K.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(w)||K.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,R,A){let k=w;if(w&&!A&&typeof w=="object"){if(K.endsWith(R,"{}"))R=i?R:R.slice(0,-2),w=JSON.stringify(w);else if(K.isArray(w)&&kS(w)||(K.isFileList(w)||K.endsWith(R,"[]"))&&(k=K.toArray(w)))return R=Rb(R),k.forEach(function(b,j){!(K.isUndefined(b)||b===null)&&t.append(d===!0?zy([R],j,o):d===null?R:R+"[]",m(b))}),!1}return q_(w)?!0:(t.append(zy(A,R,o),m(w)),!1)}const v=[],y=Object.assign(ES,{defaultVisitor:g,convertValue:m,isVisitable:q_});function E(w,R){if(!K.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(w),K.forEach(w,function(k,C){(!(K.isUndefined(k)||k===null)&&c.call(t,k,K.isString(C)?C.trim():C,R,y))===!0&&E(k,R?R.concat(C):[C])}),v.pop()}}if(!K.isObject(r))throw new TypeError("data must be an object");return E(r),t}function $y(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function wp(r,t){this._pairs=[],r&&Rf(r,this,t)}const Nb=wp.prototype;Nb.append=function(t,s){this._pairs.push([t,s])};Nb.toString=function(t){const s=t?function(i){return t.call(this,i,$y)}:$y;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function AS(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tb(r,t,s){if(!t)return r;const i=s&&s.encode||AS;K.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let o;if(c?o=c(t,s):o=K.isURLSearchParams(t)?t.toString():new wp(t,s).toString(i),o){const d=r.indexOf("#");d!==-1&&(r=r.slice(0,d)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class qy{constructor(){this.handlers=[]}use(t,s,i){return this.handlers.push({fulfilled:t,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Ob={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RS=typeof URLSearchParams<"u"?URLSearchParams:wp,NS=typeof FormData<"u"?FormData:null,TS=typeof Blob<"u"?Blob:null,OS={isBrowser:!0,classes:{URLSearchParams:RS,FormData:NS,Blob:TS},protocols:["http","https","file","blob","url","data"]},Sp=typeof window<"u"&&typeof document<"u",F_=typeof navigator=="object"&&navigator||void 0,DS=Sp&&(!F_||["ReactNative","NativeScript","NS"].indexOf(F_.product)<0),BS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PS=Sp&&window.location.href||"http://localhost",US=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sp,hasStandardBrowserEnv:DS,hasStandardBrowserWebWorkerEnv:BS,navigator:F_,origin:PS},Symbol.toStringTag,{value:"Module"})),yn={...US,...OS};function LS(r,t){return Rf(r,new yn.classes.URLSearchParams,Object.assign({visitor:function(s,i,c,o){return yn.isNode&&K.isBuffer(s)?(this.append(i,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function MS(r){return K.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zS(r){const t={},s=Object.keys(r);let i;const c=s.length;let o;for(i=0;i<c;i++)o=s[i],t[o]=r[o];return t}function Db(r){function t(s,i,c,o){let d=s[o++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=o>=s.length;return d=!d&&K.isArray(c)?c.length:d,p?(K.hasOwnProp(c,d)?c[d]=[c[d],i]:c[d]=i,!h):((!c[d]||!K.isObject(c[d]))&&(c[d]=[]),t(s,i,c[d],o)&&K.isArray(c[d])&&(c[d]=zS(c[d])),!h)}if(K.isFormData(r)&&K.isFunction(r.entries)){const s={};return K.forEachEntry(r,(i,c)=>{t(MS(i),c,s,0)}),s}return null}function $S(r,t,s){if(K.isString(r))try{return(t||JSON.parse)(r),K.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(r)}const Xc={transitional:Ob,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const i=s.getContentType()||"",c=i.indexOf("application/json")>-1,o=K.isObject(t);if(o&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return c?JSON.stringify(Db(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return LS(t,this.formSerializer).toString();if((h=K.isFileList(t))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Rf(h?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||c?(s.setContentType("application/json",!1),$S(t)):t}],transformResponse:[function(t){const s=this.transitional||Xc.transitional,i=s&&s.forcedJSONParsing,c=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(i&&!this.responseType||c)){const d=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(h){if(d)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],r=>{Xc.headers[r]={}});const qS=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FS=r=>{const t={};let s,i,c;return r&&r.split(`
`).forEach(function(d){c=d.indexOf(":"),s=d.substring(0,c).trim().toLowerCase(),i=d.substring(c+1).trim(),!(!s||t[s]&&qS[s])&&(s==="set-cookie"?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t},Fy=Symbol("internals");function Ac(r){return r&&String(r).trim().toLowerCase()}function sf(r){return r===!1||r==null?r:K.isArray(r)?r.map(sf):String(r)}function IS(r){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(r);)t[i[1]]=i[2];return t}const HS=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function y_(r,t,s,i,c){if(K.isFunction(i))return i.call(this,t,s);if(c&&(t=s),!!K.isString(t)){if(K.isString(i))return t.indexOf(i)!==-1;if(K.isRegExp(i))return i.test(t)}}function VS(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,i)=>s.toUpperCase()+i)}function YS(r,t){const s=K.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+s,{value:function(c,o,d){return this[i].call(this,t,c,o,d)},configurable:!0})})}let Bn=class{constructor(t){t&&this.set(t)}set(t,s,i){const c=this;function o(h,p,m){const g=Ac(p);if(!g)throw new Error("header name must be a non-empty string");const v=K.findKey(c,g);(!v||c[v]===void 0||m===!0||m===void 0&&c[v]!==!1)&&(c[v||p]=sf(h))}const d=(h,p)=>K.forEach(h,(m,g)=>o(m,g,p));if(K.isPlainObject(t)||t instanceof this.constructor)d(t,s);else if(K.isString(t)&&(t=t.trim())&&!HS(t))d(FS(t),s);else if(K.isObject(t)&&K.isIterable(t)){let h={},p,m;for(const g of t){if(!K.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[m=g[0]]=(p=h[m])?K.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}d(h,s)}else t!=null&&o(s,t,i);return this}get(t,s){if(t=Ac(t),t){const i=K.findKey(this,t);if(i){const c=this[i];if(!s)return c;if(s===!0)return IS(c);if(K.isFunction(s))return s.call(this,c,i);if(K.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ac(t),t){const i=K.findKey(this,t);return!!(i&&this[i]!==void 0&&(!s||y_(this,this[i],i,s)))}return!1}delete(t,s){const i=this;let c=!1;function o(d){if(d=Ac(d),d){const h=K.findKey(i,d);h&&(!s||y_(i,i[h],h,s))&&(delete i[h],c=!0)}}return K.isArray(t)?t.forEach(o):o(t),c}clear(t){const s=Object.keys(this);let i=s.length,c=!1;for(;i--;){const o=s[i];(!t||y_(this,this[o],o,t,!0))&&(delete this[o],c=!0)}return c}normalize(t){const s=this,i={};return K.forEach(this,(c,o)=>{const d=K.findKey(i,o);if(d){s[d]=sf(c),delete s[o];return}const h=t?VS(o):String(o).trim();h!==o&&delete s[o],s[h]=sf(c),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return K.forEach(this,(i,c)=>{i!=null&&i!==!1&&(s[c]=t&&K.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const i=new this(t);return s.forEach(c=>i.set(c)),i}static accessor(t){const i=(this[Fy]=this[Fy]={accessors:{}}).accessors,c=this.prototype;function o(d){const h=Ac(d);i[h]||(YS(c,d),i[h]=!0)}return K.isArray(t)?t.forEach(o):o(t),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Bn.prototype,({value:r},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(i){this[s]=i}}});K.freezeMethods(Bn);function v_(r,t){const s=this||Xc,i=t||s,c=Bn.from(i.headers);let o=i.data;return K.forEach(r,function(h){o=h.call(s,o,c.normalize(),t?t.status:void 0)}),c.normalize(),o}function Bb(r){return!!(r&&r.__CANCEL__)}function zl(r,t,s){Ve.call(this,r??"canceled",Ve.ERR_CANCELED,t,s),this.name="CanceledError"}K.inherits(zl,Ve,{__CANCEL__:!0});function Pb(r,t,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?r(s):t(new Ve("Request failed with status code "+s.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function GS(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function ZS(r,t){r=r||10;const s=new Array(r),i=new Array(r);let c=0,o=0,d;return t=t!==void 0?t:1e3,function(p){const m=Date.now(),g=i[o];d||(d=m),s[c]=p,i[c]=m;let v=o,y=0;for(;v!==c;)y+=s[v++],v=v%r;if(c=(c+1)%r,c===o&&(o=(o+1)%r),m-d<t)return;const E=g&&m-g;return E?Math.round(y*1e3/E):void 0}}function QS(r,t){let s=0,i=1e3/t,c,o;const d=(m,g=Date.now())=>{s=g,c=null,o&&(clearTimeout(o),o=null),r.apply(null,m)};return[(...m)=>{const g=Date.now(),v=g-s;v>=i?d(m,g):(c=m,o||(o=setTimeout(()=>{o=null,d(c)},i-v)))},()=>c&&d(c)]}const df=(r,t,s=3)=>{let i=0;const c=ZS(50,250);return QS(o=>{const d=o.loaded,h=o.lengthComputable?o.total:void 0,p=d-i,m=c(p),g=d<=h;i=d;const v={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&g?(h-d)/m:void 0,event:o,lengthComputable:h!=null,[t?"download":"upload"]:!0};r(v)},s)},Iy=(r,t)=>{const s=r!=null;return[i=>t[0]({lengthComputable:s,total:r,loaded:i}),t[1]]},Hy=r=>(...t)=>K.asap(()=>r(...t)),KS=yn.hasStandardBrowserEnv?((r,t)=>s=>(s=new URL(s,yn.origin),r.protocol===s.protocol&&r.host===s.host&&(t||r.port===s.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,XS=yn.hasStandardBrowserEnv?{write(r,t,s,i,c,o){const d=[r+"="+encodeURIComponent(t)];K.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),K.isString(i)&&d.push("path="+i),K.isString(c)&&d.push("domain="+c),o===!0&&d.push("secure"),document.cookie=d.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JS(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function WS(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function Ub(r,t,s){let i=!JS(t);return r&&(i||s==!1)?WS(r,t):t}const Vy=r=>r instanceof Bn?{...r}:r;function ti(r,t){t=t||{};const s={};function i(m,g,v,y){return K.isPlainObject(m)&&K.isPlainObject(g)?K.merge.call({caseless:y},m,g):K.isPlainObject(g)?K.merge({},g):K.isArray(g)?g.slice():g}function c(m,g,v,y){if(K.isUndefined(g)){if(!K.isUndefined(m))return i(void 0,m,v,y)}else return i(m,g,v,y)}function o(m,g){if(!K.isUndefined(g))return i(void 0,g)}function d(m,g){if(K.isUndefined(g)){if(!K.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function h(m,g,v){if(v in t)return i(m,g);if(v in r)return i(void 0,m)}const p={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(m,g,v)=>c(Vy(m),Vy(g),v,!0)};return K.forEach(Object.keys(Object.assign({},r,t)),function(g){const v=p[g]||c,y=v(r[g],t[g],g);K.isUndefined(y)&&v!==h||(s[g]=y)}),s}const Lb=r=>{const t=ti({},r);let{data:s,withXSRFToken:i,xsrfHeaderName:c,xsrfCookieName:o,headers:d,auth:h}=t;t.headers=d=Bn.from(d),t.url=Tb(Ub(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(K.isFormData(s)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[m,...g]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([m||"multipart/form-data",...g].join("; "))}}if(yn.hasStandardBrowserEnv&&(i&&K.isFunction(i)&&(i=i(t)),i||i!==!1&&KS(t.url))){const m=c&&o&&XS.read(o);m&&d.set(c,m)}return t},e1=typeof XMLHttpRequest<"u",t1=e1&&function(r){return new Promise(function(s,i){const c=Lb(r);let o=c.data;const d=Bn.from(c.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=c,g,v,y,E,w;function R(){E&&E(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(g),c.signal&&c.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(c.method.toUpperCase(),c.url,!0),A.timeout=c.timeout;function k(){if(!A)return;const b=Bn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),N={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:b,config:r,request:A};Pb(function(z){s(z),R()},function(z){i(z),R()},N),A=null}"onloadend"in A?A.onloadend=k:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(k)},A.onabort=function(){A&&(i(new Ve("Request aborted",Ve.ECONNABORTED,r,A)),A=null)},A.onerror=function(){i(new Ve("Network Error",Ve.ERR_NETWORK,r,A)),A=null},A.ontimeout=function(){let j=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const N=c.transitional||Ob;c.timeoutErrorMessage&&(j=c.timeoutErrorMessage),i(new Ve(j,N.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,r,A)),A=null},o===void 0&&d.setContentType(null),"setRequestHeader"in A&&K.forEach(d.toJSON(),function(j,N){A.setRequestHeader(N,j)}),K.isUndefined(c.withCredentials)||(A.withCredentials=!!c.withCredentials),h&&h!=="json"&&(A.responseType=c.responseType),m&&([y,w]=df(m,!0),A.addEventListener("progress",y)),p&&A.upload&&([v,E]=df(p),A.upload.addEventListener("progress",v),A.upload.addEventListener("loadend",E)),(c.cancelToken||c.signal)&&(g=b=>{A&&(i(!b||b.type?new zl(null,r,A):b),A.abort(),A=null)},c.cancelToken&&c.cancelToken.subscribe(g),c.signal&&(c.signal.aborted?g():c.signal.addEventListener("abort",g)));const C=GS(c.url);if(C&&yn.protocols.indexOf(C)===-1){i(new Ve("Unsupported protocol "+C+":",Ve.ERR_BAD_REQUEST,r));return}A.send(o||null)})},n1=(r,t)=>{const{length:s}=r=r?r.filter(Boolean):[];if(t||s){let i=new AbortController,c;const o=function(m){if(!c){c=!0,h();const g=m instanceof Error?m:this.reason;i.abort(g instanceof Ve?g:new zl(g instanceof Error?g.message:g))}};let d=t&&setTimeout(()=>{d=null,o(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const h=()=>{r&&(d&&clearTimeout(d),d=null,r.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),r=null)};r.forEach(m=>m.addEventListener("abort",o));const{signal:p}=i;return p.unsubscribe=()=>K.asap(h),p}},r1=function*(r,t){let s=r.byteLength;if(s<t){yield r;return}let i=0,c;for(;i<s;)c=i+t,yield r.slice(i,c),i=c},a1=async function*(r,t){for await(const s of s1(r))yield*r1(s,t)},s1=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)break;yield i}}finally{await t.cancel()}},Yy=(r,t,s,i)=>{const c=a1(r,t);let o=0,d,h=p=>{d||(d=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:g}=await c.next();if(m){h(),p.close();return}let v=g.byteLength;if(s){let y=o+=v;s(y)}p.enqueue(new Uint8Array(g))}catch(m){throw h(m),m}},cancel(p){return h(p),c.return()}},{highWaterMark:2})},Nf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mb=Nf&&typeof ReadableStream=="function",i1=Nf&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),zb=(r,...t)=>{try{return!!r(...t)}catch{return!1}},l1=Mb&&zb(()=>{let r=!1;const t=new Request(yn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),Gy=64*1024,I_=Mb&&zb(()=>K.isReadableStream(new Response("").body)),ff={stream:I_&&(r=>r.body)};Nf&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ff[t]&&(ff[t]=K.isFunction(r[t])?s=>s[t]():(s,i)=>{throw new Ve(`Response type '${t}' is not supported`,Ve.ERR_NOT_SUPPORT,i)})})})(new Response);const o1=async r=>{if(r==null)return 0;if(K.isBlob(r))return r.size;if(K.isSpecCompliantForm(r))return(await new Request(yn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(K.isArrayBufferView(r)||K.isArrayBuffer(r))return r.byteLength;if(K.isURLSearchParams(r)&&(r=r+""),K.isString(r))return(await i1(r)).byteLength},c1=async(r,t)=>{const s=K.toFiniteNumber(r.getContentLength());return s??o1(t)},u1=Nf&&(async r=>{let{url:t,method:s,data:i,signal:c,cancelToken:o,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:g,withCredentials:v="same-origin",fetchOptions:y}=Lb(r);m=m?(m+"").toLowerCase():"text";let E=n1([c,o&&o.toAbortSignal()],d),w;const R=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let A;try{if(p&&l1&&s!=="get"&&s!=="head"&&(A=await c1(g,i))!==0){let N=new Request(t,{method:"POST",body:i,duplex:"half"}),T;if(K.isFormData(i)&&(T=N.headers.get("content-type"))&&g.setContentType(T),N.body){const[z,X]=Iy(A,df(Hy(p)));i=Yy(N.body,Gy,z,X)}}K.isString(v)||(v=v?"include":"omit");const k="credentials"in Request.prototype;w=new Request(t,{...y,signal:E,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:k?v:void 0});let C=await fetch(w);const b=I_&&(m==="stream"||m==="response");if(I_&&(h||b&&R)){const N={};["status","statusText","headers"].forEach(Q=>{N[Q]=C[Q]});const T=K.toFiniteNumber(C.headers.get("content-length")),[z,X]=h&&Iy(T,df(Hy(h),!0))||[];C=new Response(Yy(C.body,Gy,z,()=>{X&&X(),R&&R()}),N)}m=m||"text";let j=await ff[K.findKey(ff,m)||"text"](C,r);return!b&&R&&R(),await new Promise((N,T)=>{Pb(N,T,{data:j,headers:Bn.from(C.headers),status:C.status,statusText:C.statusText,config:r,request:w})})}catch(k){throw R&&R(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,r,w),{cause:k.cause||k}):Ve.from(k,k&&k.code,r,w)}}),H_={http:CS,xhr:t1,fetch:u1};K.forEach(H_,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const Zy=r=>`- ${r}`,d1=r=>K.isFunction(r)||r===null||r===!1,$b={getAdapter:r=>{r=K.isArray(r)?r:[r];const{length:t}=r;let s,i;const c={};for(let o=0;o<t;o++){s=r[o];let d;if(i=s,!d1(s)&&(i=H_[(d=String(s)).toLowerCase()],i===void 0))throw new Ve(`Unknown adapter '${d}'`);if(i)break;c[d||"#"+o]=i}if(!i){const o=Object.entries(c).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=t?o.length>1?`since :
`+o.map(Zy).join(`
`):" "+Zy(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:H_};function b_(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new zl(null,r)}function Qy(r){return b_(r),r.headers=Bn.from(r.headers),r.data=v_.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),$b.getAdapter(r.adapter||Xc.adapter)(r).then(function(i){return b_(r),i.data=v_.call(r,r.transformResponse,i),i.headers=Bn.from(i.headers),i},function(i){return Bb(i)||(b_(r),i&&i.response&&(i.response.data=v_.call(r,r.transformResponse,i.response),i.response.headers=Bn.from(i.response.headers))),Promise.reject(i)})}const qb="1.9.0",Tf={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{Tf[r]=function(i){return typeof i===r||"a"+(t<1?"n ":" ")+r}});const Ky={};Tf.transitional=function(t,s,i){function c(o,d){return"[Axios v"+qb+"] Transitional option '"+o+"'"+d+(i?". "+i:"")}return(o,d,h)=>{if(t===!1)throw new Ve(c(d," has been removed"+(s?" in "+s:"")),Ve.ERR_DEPRECATED);return s&&!Ky[d]&&(Ky[d]=!0,console.warn(c(d," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,d,h):!0}};Tf.spelling=function(t){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function f1(r,t,s){if(typeof r!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let c=i.length;for(;c-- >0;){const o=i[c],d=t[o];if(d){const h=r[o],p=h===void 0||d(h,o,r);if(p!==!0)throw new Ve("option "+o+" must be "+p,Ve.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const lf={assertOptions:f1,validators:Tf},Fr=lf.validators;let ei=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qy,response:new qy}}async request(t,s){try{return await this._request(t,s)}catch(i){if(i instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const o=c.stack?c.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ti(this.defaults,s);const{transitional:i,paramsSerializer:c,headers:o}=s;i!==void 0&&lf.assertOptions(i,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),c!=null&&(K.isFunction(c)?s.paramsSerializer={serialize:c}:lf.assertOptions(c,{encode:Fr.function,serialize:Fr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),lf.assertOptions(s,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=o&&K.merge(o.common,o[s.method]);o&&K.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),s.headers=Bn.concat(d,o);const h=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(p=p&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let g,v=0,y;if(!p){const w=[Qy.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,m),y=w.length,g=Promise.resolve(s);v<y;)g=g.then(w[v++],w[v++]);return g}y=h.length;let E=s;for(v=0;v<y;){const w=h[v++],R=h[v++];try{E=w(E)}catch(A){R.call(this,A);break}}try{g=Qy.call(this,E)}catch(w){return Promise.reject(w)}for(v=0,y=m.length;v<y;)g=g.then(m[v++],m[v++]);return g}getUri(t){t=ti(this.defaults,t);const s=Ub(t.baseURL,t.url,t.allowAbsoluteUrls);return Tb(s,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){ei.prototype[t]=function(s,i){return this.request(ti(i||{},{method:t,url:s,data:(i||{}).data}))}});K.forEach(["post","put","patch"],function(t){function s(i){return function(o,d,h){return this.request(ti(h||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}ei.prototype[t]=s(),ei.prototype[t+"Form"]=s(!0)});let h1=class Fb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const i=this;this.promise.then(c=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](c);i._listeners=null}),this.promise.then=c=>{let o;const d=new Promise(h=>{i.subscribe(h),o=h}).then(c);return d.cancel=function(){i.unsubscribe(o)},d},t(function(o,d,h){i.reason||(i.reason=new zl(o,d,h),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=i=>{t.abort(i)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Fb(function(c){t=c}),cancel:t}}};function _1(r){return function(s){return r.apply(null,s)}}function p1(r){return K.isObject(r)&&r.isAxiosError===!0}const V_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V_).forEach(([r,t])=>{V_[t]=r});function Ib(r){const t=new ei(r),s=vb(ei.prototype.request,t);return K.extend(s,ei.prototype,t,{allOwnKeys:!0}),K.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return Ib(ti(r,c))},s}const Ut=Ib(Xc);Ut.Axios=ei;Ut.CanceledError=zl;Ut.CancelToken=h1;Ut.isCancel=Bb;Ut.VERSION=qb;Ut.toFormData=Rf;Ut.AxiosError=Ve;Ut.Cancel=Ut.CanceledError;Ut.all=function(t){return Promise.all(t)};Ut.spread=_1;Ut.isAxiosError=p1;Ut.mergeConfig=ti;Ut.AxiosHeaders=Bn;Ut.formToJSON=r=>Db(K.isHTMLForm(r)?new FormData(r):r);Ut.getAdapter=$b.getAdapter;Ut.HttpStatusCode=V_;Ut.default=Ut;const{Axios:yR,AxiosError:vR,CanceledError:bR,isCancel:xR,CancelToken:jR,VERSION:wR,all:SR,Cancel:CR,isAxiosError:kR,spread:ER,toFormData:AR,AxiosHeaders:RR,HttpStatusCode:NR,formToJSON:TR,getAdapter:OR,mergeConfig:DR}=Ut,m1="modulepreload",g1=function(r){return"/"+r},Xy={},Al=function(t,s,i){let c=Promise.resolve();if(s&&s.length>0){let d=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=d(s.map(m=>{if(m=g1(m),m in Xy)return;Xy[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":m1,g||(y.as="script"),y.crossOrigin="",y.href=m,p&&y.setAttribute("nonce",p),document.head.appendChild(y),g)return new Promise((E,w)=>{y.addEventListener("load",E),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return c.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},y1=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>Al(async()=>{const{default:i}=await Promise.resolve().then(()=>$l);return{default:i}},[]).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)};class Cp extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class v1 extends Cp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class b1 extends Cp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class x1 extends Cp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Y_;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Y_||(Y_={}));var j1=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};class w1{constructor(t,{headers:s={},customFetch:i,region:c=Y_.Any}={}){this.url=t,this.headers=s,this.region=c,this.fetch=y1(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var i;return j1(this,void 0,void 0,function*(){try{const{headers:c,method:o,body:d}=s;let h={},{region:p}=s;p||(p=this.region),p&&p!=="any"&&(h["x-region"]=p);let m;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(h["Content-Type"]="text/plain",m=d):typeof FormData<"u"&&d instanceof FormData?m=d:(h["Content-Type"]="application/json",m=JSON.stringify(d)));const g=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),c),body:m}).catch(w=>{throw new v1(w)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new b1(g);if(!g.ok)throw new x1(g);let y=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return y==="application/json"?E=yield g.json():y==="application/octet-stream"?E=yield g.blob():y==="text/event-stream"?E=g:y==="multipart/form-data"?E=yield g.formData():E=yield g.text(),{data:E,error:null}}catch(c){return{data:null,error:c}}})}}var sn={},fl={},hl={},_l={},pl={},ml={},S1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rl=S1();const C1=Rl.fetch,Hb=Rl.fetch.bind(Rl),Vb=Rl.Headers,k1=Rl.Request,E1=Rl.Response,$l=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vb,Request:k1,Response:E1,default:Hb,fetch:C1},Symbol.toStringTag,{value:"Module"})),A1=tj($l);var Vd={},Jy;function Yb(){if(Jy)return Vd;Jy=1,Object.defineProperty(Vd,"__esModule",{value:!0});class r extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Vd.default=r,Vd}var Wy;function Gb(){if(Wy)return ml;Wy=1;var r=ml&&ml.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ml,"__esModule",{value:!0});const t=r(A1),s=r(Yb());class i{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,d){return this.headers=Object.assign({},this.headers),this.headers[o]=d,this}then(o,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,y;let E=null,w=null,R=null,A=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const N=await m.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=N:w=JSON.parse(N))}const b=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),j=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&j&&j.length>1&&(R=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(E={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,R=null,A=406,k="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const b=await m.text();try{E=JSON.parse(b),Array.isArray(E)&&m.status===404&&(w=[],E=null,A=200,k="OK")}catch{m.status===404&&b===""?(A=204,k="No Content"):E={message:b}}if(E&&this.isMaybeSingle&&(!((y=E==null?void 0:E.details)===null||y===void 0)&&y.includes("0 rows"))&&(E=null,A=200,k="OK"),E&&this.shouldThrowOnError)throw new s.default(E)}return{error:E,data:w,count:R,status:A,statusText:k}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,v,y;return{error:{message:`${(g=m==null?void 0:m.name)!==null&&g!==void 0?g:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(v=m==null?void 0:m.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(y=m==null?void 0:m.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),p.then(o,d)}returns(){return this}overrideTypes(){return this}}return ml.default=i,ml}var ev;function Zb(){if(ev)return pl;ev=1;var r=pl&&pl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pl,"__esModule",{value:!0});const t=r(Gb());class s extends t.default{select(c){let o=!1;const d=(c??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:o=!0,nullsFirst:d,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${c}.${o?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:o,referencedTable:d=o}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${c}`),this}range(c,o,{foreignTable:d,referencedTable:h=d}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(m,`${o-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:o=!1,settings:d=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var g;const v=[c?"analyze":null,o?"verbose":null,d?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${y}"; options=${v};`,m==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return pl.default=s,pl}var tv;function kp(){if(tv)return _l;tv=1;var r=_l&&_l.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_l,"__esModule",{value:!0});const t=r(Zb());class s extends t.default{eq(c,o){return this.url.searchParams.append(c,`eq.${o}`),this}neq(c,o){return this.url.searchParams.append(c,`neq.${o}`),this}gt(c,o){return this.url.searchParams.append(c,`gt.${o}`),this}gte(c,o){return this.url.searchParams.append(c,`gte.${o}`),this}lt(c,o){return this.url.searchParams.append(c,`lt.${o}`),this}lte(c,o){return this.url.searchParams.append(c,`lte.${o}`),this}like(c,o){return this.url.searchParams.append(c,`like.${o}`),this}likeAllOf(c,o){return this.url.searchParams.append(c,`like(all).{${o.join(",")}}`),this}likeAnyOf(c,o){return this.url.searchParams.append(c,`like(any).{${o.join(",")}}`),this}ilike(c,o){return this.url.searchParams.append(c,`ilike.${o}`),this}ilikeAllOf(c,o){return this.url.searchParams.append(c,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(c,o){return this.url.searchParams.append(c,`ilike(any).{${o.join(",")}}`),this}is(c,o){return this.url.searchParams.append(c,`is.${o}`),this}in(c,o){const d=Array.from(new Set(o)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(c,`in.(${d})`),this}contains(c,o){return typeof o=="string"?this.url.searchParams.append(c,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(c,`cs.{${o.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(o)}`),this}containedBy(c,o){return typeof o=="string"?this.url.searchParams.append(c,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(c,`cd.{${o.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(o)}`),this}rangeGt(c,o){return this.url.searchParams.append(c,`sr.${o}`),this}rangeGte(c,o){return this.url.searchParams.append(c,`nxl.${o}`),this}rangeLt(c,o){return this.url.searchParams.append(c,`sl.${o}`),this}rangeLte(c,o){return this.url.searchParams.append(c,`nxr.${o}`),this}rangeAdjacent(c,o){return this.url.searchParams.append(c,`adj.${o}`),this}overlaps(c,o){return typeof o=="string"?this.url.searchParams.append(c,`ov.${o}`):this.url.searchParams.append(c,`ov.{${o.join(",")}}`),this}textSearch(c,o,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(c,`${p}fts${m}.${o}`),this}match(c){return Object.entries(c).forEach(([o,d])=>{this.url.searchParams.append(o,`eq.${d}`)}),this}not(c,o,d){return this.url.searchParams.append(c,`not.${o}.${d}`),this}or(c,{foreignTable:o,referencedTable:d=o}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${c})`),this}filter(c,o,d){return this.url.searchParams.append(c,`${o}.${d}`),this}}return _l.default=s,_l}var nv;function Qb(){if(nv)return hl;nv=1;var r=hl&&hl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hl,"__esModule",{value:!0});const t=r(kp());class s{constructor(c,{headers:o={},schema:d,fetch:h}){this.url=c,this.headers=o,this.schema=d,this.fetch=h}select(c,{head:o=!1,count:d}={}){const h=o?"HEAD":"GET";let p=!1;const m=(c??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",m),d&&(this.headers.Prefer=`count=${d}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:o,defaultToNull:d=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),o&&p.push(`count=${o}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(c)){const m=c.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:o,ignoreDuplicates:d=!1,count:h,defaultToNull:p=!0}={}){const m="POST",g=[`resolution=${d?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),p||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(c)){const v=c.reduce((y,E)=>y.concat(Object.keys(E)),[]);if(v.length>0){const y=[...new Set(v)].map(E=>`"${E}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:o}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),this.headers.Prefer=h.join(","),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const o="DELETE",d=[];return c&&d.push(`count=${c}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return hl.default=s,hl}var Rc={},Nc={},rv;function R1(){return rv||(rv=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.version=void 0,Nc.version="0.0.0-automated"),Nc}var av;function N1(){if(av)return Rc;av=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.DEFAULT_HEADERS=void 0;const r=R1();return Rc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},Rc}var sv;function T1(){if(sv)return fl;sv=1;var r=fl&&fl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(fl,"__esModule",{value:!0});const t=r(Qb()),s=r(kp()),i=N1();class c{constructor(d,{headers:h={},schema:p,fetch:m}={}){this.url=d,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=m}from(d){const h=new URL(`${this.url}/${d}`);return new t.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new c(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:p=!1,get:m=!1,count:g}={}){let v;const y=new URL(`${this.url}/rpc/${d}`);let E;p||m?(v=p?"HEAD":"GET",Object.entries(h).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{y.searchParams.append(R,A)})):(v="POST",E=h);const w=Object.assign({},this.headers);return g&&(w.Prefer=`count=${g}`),new s.default({method:v,url:y,headers:w,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return fl.default=c,fl}var iv;function O1(){if(iv)return sn;iv=1;var r=sn&&sn.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(sn,"__esModule",{value:!0}),sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const t=r(T1());sn.PostgrestClient=t.default;const s=r(Qb());sn.PostgrestQueryBuilder=s.default;const i=r(kp());sn.PostgrestFilterBuilder=i.default;const c=r(Zb());sn.PostgrestTransformBuilder=c.default;const o=r(Gb());sn.PostgrestBuilder=o.default;const d=r(Yb());return sn.PostgrestError=d.default,sn.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:o.default,PostgrestError:d.default},sn}var D1=O1();const B1=fp(D1),{PostgrestClient:P1,PostgrestQueryBuilder:BR,PostgrestFilterBuilder:PR,PostgrestTransformBuilder:UR,PostgrestBuilder:LR,PostgrestError:MR}=B1,U1="2.11.2",L1={"X-Client-Info":`realtime-js/${U1}`},M1="1.0.0",Kb=1e4,z1=1e3;var kl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(kl||(kl={}));var Fn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Fn||(Fn={}));var yr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(yr||(yr={}));var G_;(function(r){r.websocket="websocket"})(G_||(G_={}));var Xs;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Xs||(Xs={}));class $1{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,s,i)}_decodeBroadcast(t,s,i){const c=s.getUint8(1),o=s.getUint8(2);let d=this.HEADER_LENGTH+2;const h=i.decode(t.slice(d,d+c));d=d+c;const p=i.decode(t.slice(d,d+o));d=d+o;const m=JSON.parse(i.decode(t.slice(d,t.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class Xb{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(kt||(kt={}));const lv=(r,t,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((o,d)=>(o[d]=q1(d,r,t,c),o),{})},q1=(r,t,s,i)=>{const c=t.find(h=>h.name===r),o=c==null?void 0:c.type,d=s[r];return o&&!i.includes(o)?Jb(o,d):Z_(d)},Jb=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return V1(t,s)}switch(r){case kt.bool:return F1(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return I1(t);case kt.json:case kt.jsonb:return H1(t);case kt.timestamp:return Y1(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return Z_(t);default:return Z_(t)}},Z_=r=>r,F1=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},I1=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},H1=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},V1=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let o;const d=r.slice(1,s);try{o=JSON.parse("["+d+"]")}catch{o=d?d.split(","):[]}return o.map(h=>Jb(t,h))}return r},Y1=r=>typeof r=="string"?r.replace(" ","T"):r,Wb=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class x_{constructor(t,s,i={},c=Kb){this.channel=t,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ov;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ov||(ov={}));class Lc{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:o,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lc.syncState(this.state,c,o,d),this.pendingDiffs.forEach(p=>{this.state=Lc.syncDiff(this.state,p,o,d)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},c=>{const{onJoin:o,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Lc.syncDiff(this.state,c,o,d),h())}),this.onJoin((c,o,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:o,newPresences:d})}),this.onLeave((c,o,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:o,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,c){const o=this.cloneDeep(t),d=this.transformState(s),h={},p={};return this.map(o,(m,g)=>{d[m]||(p[m]=g)}),this.map(d,(m,g)=>{const v=o[m];if(v){const y=g.map(A=>A.presence_ref),E=v.map(A=>A.presence_ref),w=g.filter(A=>E.indexOf(A.presence_ref)<0),R=v.filter(A=>y.indexOf(A.presence_ref)<0);w.length>0&&(h[m]=w),R.length>0&&(p[m]=R)}else h[m]=g}),this.syncDiff(o,{joins:h,leaves:p},i,c)}static syncDiff(t,s,i,c){const{joins:o,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(o,(h,p)=>{var m;const g=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(p),g.length>0){const v=t[h].map(E=>E.presence_ref),y=g.filter(E=>v.indexOf(E.presence_ref)<0);t[h].unshift(...y)}i(h,g,p)}),this.map(d,(h,p)=>{let m=t[h];if(!m)return;const g=p.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),t[h]=m,c(h,m,p),m.length===0&&delete t[h]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const c=t[i];return"metas"in c?s[i]=c.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[i]=c,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(cv||(cv={}));var uv;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(uv||(uv={}));var wa;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class Ep{constructor(t,s={config:{}},i){this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new x_(this,yr.join,this.params,this.timeout),this.rejoinTimer=new Xb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yr.reply,{},(c,o)=>{this._trigger(this._replyEventName(o),c)}),this.presence=new Lc(this),this.broadcastEndpointURL=Wb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var i,c;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:d,private:h}}=this.params;this._onError(g=>t==null?void 0:t(wa.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(wa.CLOSED));const p={},m={broadcast:o,presence:d,postgres_changes:(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&c!==void 0?c:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){t==null||t(wa.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,E=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,w=[];for(let R=0;R<E;R++){const A=y[R],{filter:{event:k,schema:C,table:b,filter:j}}=A,N=g&&g[R];if(N&&N.event===k&&N.schema===C&&N.table===b&&N.filter===j)w.push(Object.assign(Object.assign({},A),{id:N.id}));else{this.unsubscribe(),t==null||t(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(wa.SUBSCRIBED);return}}).receive("error",g=>{t==null||t(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this._on(t,s,i)}async send(t,s={}){var i,c;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=m.body)===null||c===void 0?void 0:c.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var d,h,p;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fn.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const c=new x_(this,yr.leave,{},t);c.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),c.send(),this._canPush()||c.trigger("ok",{})})}async _fetchWithTimeout(t,s,i){const c=new AbortController,o=setTimeout(()=>c.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(o),d}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new x_(this,t,s,i);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var c,o;const d=t.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=yr;if(i&&[h,p,m,g].indexOf(d)>=0&&i!==this._joinRef())return;let y=this._onMessage(d,s,i);if(s&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var w,R,A;return((w=E.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(R=E.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(E=>E.callback(y,i)):(o=this.bindings[d])===null||o===void 0||o.filter(E=>{var w,R,A,k,C,b;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const j=E.id,N=(w=E.filter)===null||w===void 0?void 0:w.event;return j&&((R=s.ids)===null||R===void 0?void 0:R.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const j=(C=(k=E==null?void 0:E.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return j==="*"||j===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:R,table:A,commit_timestamp:k,type:C,errors:b}=w;y=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:k,eventType:C,new:{},old:{},errors:b}),this._getPayloadRecords(w))}E.callback(y,i)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const c=t.toLocaleLowerCase(),o={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(o):this.bindings[c]=[o],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(c=>{var o;return!(((o=c.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Ep.isEqual(c.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yr.close,{},t)}_onError(t){this._on(yr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=lv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=lv(t.columns,t.old_record)),s}}const G1=()=>{},Z1=typeof WebSocket<"u",Q1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K1{constructor(t,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=L1,this.params={},this.timeout=Kb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=G1,this.conn=null,this.sendBuffer=[],this.serializer=new $1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let d;return o?d=o:typeof fetch>"u"?d=(...h)=>Al(async()=>{const{default:p}=await Promise.resolve().then(()=>$l);return{default:p}},void 0).then(({default:p})=>p(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${t}/${G_.websocket}`,this.httpEndpoint=Wb(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const c=(i=s==null?void 0:s.params)===null||i===void 0?void 0:i.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,d)=>d(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Z1){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new X1(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Al(async()=>{const{default:t}=await import("./browser-CvRB6EO-.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M1}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case kl.connecting:return Xs.Connecting;case kl.open:return Xs.Open;case kl.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,s={config:{}}){const i=new Ep(`realtime:${t}`,s,this);return this.channels.push(i),i}push(t){const{topic:s,event:i,payload:c,ref:o}=t,d=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${s} ${i} (${o})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let i=null;try{i=JSON.parse(atob(s.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=s,this.channels.forEach(c=>{s&&c.updateJoinPayload({access_token:s}),c.joinedOnce&&c._isJoined()&&c._push(yr.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(z1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:i,event:c,payload:o,ref:d}=s;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${c} ${d&&"("+d+")"||""}`,o),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(c,o,d)),this.stateChangeCallbacks.message.forEach(h=>h(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(yr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${t}${i}${c}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([Q1],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class X1{constructor(t,s,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=kl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class Ap extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ln(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class J1 extends Ap{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Q_ extends Ap{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var W1=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};const ex=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>Al(async()=>{const{default:i}=await Promise.resolve().then(()=>$l);return{default:i}},void 0).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)},eC=()=>W1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Al(()=>Promise.resolve().then(()=>$l),void 0)).Response:Response}),K_=r=>{if(Array.isArray(r))return r.map(s=>K_(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[c]=K_(i)}),t};var si=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};const j_=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),tC=(r,t,s)=>si(void 0,void 0,void 0,function*(){const i=yield eC();r instanceof i&&!(s!=null&&s.noResolveJson)?r.json().then(c=>{t(new J1(j_(c),r.status||500))}).catch(c=>{t(new Q_(j_(c),c))}):t(new Q_(j_(r),r))}),nC=(r,t,s,i)=>{const c={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(c.body=JSON.stringify(i)),Object.assign(Object.assign({},c),s))};function Jc(r,t,s,i,c,o){return si(this,void 0,void 0,function*(){return new Promise((d,h)=>{r(s,nC(t,i,c,o)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>tC(p,h,i))})})}function hf(r,t,s,i){return si(this,void 0,void 0,function*(){return Jc(r,"GET",t,s,i)})}function _s(r,t,s,i,c){return si(this,void 0,void 0,function*(){return Jc(r,"POST",t,i,c,s)})}function rC(r,t,s,i,c){return si(this,void 0,void 0,function*(){return Jc(r,"PUT",t,i,c,s)})}function aC(r,t,s,i){return si(this,void 0,void 0,function*(){return Jc(r,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function tx(r,t,s,i,c){return si(this,void 0,void 0,function*(){return Jc(r,"DELETE",t,i,c,s)})}var Tn=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};const sC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iC{constructor(t,s={},i,c){this.url=t,this.headers=s,this.bucketId=i,this.fetch=ex(c)}uploadOrUpdate(t,s,i,c){return Tn(this,void 0,void 0,function*(){try{let o;const d=Object.assign(Object.assign({},dv),c);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",d.cacheControl),p&&o.append("metadata",this.encodeMetadata(p))):(o=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),c!=null&&c.headers&&(h=Object.assign(Object.assign({},h),c.headers));const m=this._removeEmptyFolders(s),g=this._getFinalPath(m),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:o,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),y=yield v.json();return v.ok?{data:{path:m,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(o){if(ln(o))return{data:null,error:o};throw o}})}upload(t,s,i){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,i)})}uploadToSignedUrl(t,s,i,c){return Tn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),d=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",s);try{let p;const m=Object.assign({upsert:dv.upsert},c),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:g}),y=yield v.json();return v.ok?{data:{path:o,fullPath:y.Key},error:null}:{data:null,error:y}}catch(p){if(ln(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,s){return Tn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const c=Object.assign({},this.headers);s!=null&&s.upsert&&(c["x-upsert"]="true");const o=yield _s(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),d=new URL(this.url+o.url),h=d.searchParams.get("token");if(!h)throw new Ap("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:h},error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}update(t,s,i){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,i)})}move(t,s,i){return Tn(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(ln(c))return{data:null,error:c};throw c}})}copy(t,s,i){return Tn(this,void 0,void 0,function*(){try{return{data:{path:(yield _s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(ln(c))return{data:null,error:c};throw c}})}createSignedUrl(t,s,i){return Tn(this,void 0,void 0,function*(){try{let c=this._getFinalPath(t),o=yield _s(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${d}`)},{data:o,error:null}}catch(c){if(ln(c))return{data:null,error:c};throw c}})}createSignedUrls(t,s,i){return Tn(this,void 0,void 0,function*(){try{const c=yield _s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${o}`):null})),error:null}}catch(c){if(ln(c))return{data:null,error:c};throw c}})}download(t,s){return Tn(this,void 0,void 0,function*(){const c=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=o?`?${o}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield hf(this.fetch,`${this.url}/${c}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(ln(h))return{data:null,error:h};throw h}})}info(t){return Tn(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const i=yield hf(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:K_(i),error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}exists(t){return Tn(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield aC(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(ln(i)&&i instanceof Q_){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,s){const i=this._getFinalPath(t),c=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&c.push(o);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});p!==""&&c.push(p);let m=c.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield tx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}list(t,s,i){return Tn(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},sC),s),{prefix:t||""});return{data:yield _s(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(ln(c))return{data:null,error:c};throw c}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const lC="2.7.1",oC={"X-Client-Info":`storage-js/${lC}`};var gl=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};class cC{constructor(t,s={},i){this.url=t,this.headers=Object.assign(Object.assign({},oC),s),this.fetch=ex(i)}listBuckets(){return gl(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}getBucket(t){return gl(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return gl(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}updateBucket(t,s){return gl(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}emptyBucket(t){return gl(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}deleteBucket(t){return gl(this,void 0,void 0,function*(){try{return{data:yield tx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(ln(s))return{data:null,error:s};throw s}})}}class uC extends cC{constructor(t,s={},i){super(t,s,i)}from(t){return new iC(this.url,this.headers,t,this.fetch)}}const dC="2.49.7";let Pc="";typeof Deno<"u"?Pc="deno":typeof document<"u"?Pc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pc="react-native":Pc="node";const fC={"X-Client-Info":`supabase-js-${Pc}/${dC}`},hC={headers:fC},_C={schema:"public"},pC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mC={};var gC=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};const yC=r=>{let t;return r?t=r:typeof fetch>"u"?t=Hb:t=fetch,(...s)=>t(...s)},vC=()=>typeof Headers>"u"?Vb:Headers,bC=(r,t,s)=>{const i=yC(s),c=vC();return(o,d)=>gC(void 0,void 0,void 0,function*(){var h;const p=(h=yield t())!==null&&h!==void 0?h:r;let m=new c(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(o,Object.assign(Object.assign({},d),{headers:m}))})};var xC=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};function jC(r){return r.replace(/\/$/,"")}function wC(r,t){var s,i;const{db:c,auth:o,realtime:d,global:h}=r,{db:p,auth:m,realtime:g,global:v}=t,y={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),d),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>xC(this,void 0,void 0,function*(){return""})};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}const nx="2.69.1",Sl=30*1e3,X_=3,w_=X_*Sl,SC="http://localhost:9999",CC="supabase.auth.token",kC={"X-Client-Info":`gotrue-js/${nx}`},J_="X-Supabase-Api-Version",rx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AC=6e5;class Rp extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Ge(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class RC extends Rp{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function NC(r){return Ge(r)&&r.name==="AuthApiError"}class ax extends Rp{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ws extends Rp{constructor(t,s,i,c){super(t,i,c),this.name=s,this.status=i}}class ds extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TC(r){return Ge(r)&&r.name==="AuthSessionMissingError"}class S_ extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yd extends ws{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gd extends ws{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OC(r){return Ge(r)&&r.name==="AuthImplicitGrantRedirectError"}class fv extends ws{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class W_ extends ws{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function C_(r){return Ge(r)&&r.name==="AuthRetryableFetchError"}class hv extends ws{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Mc extends ws{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pv=` 	
\r=`.split(""),DC=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<pv.length;t+=1)r[pv[t].charCodeAt(0)]=-2;for(let t=0;t<_v.length;t+=1)r[_v[t].charCodeAt(0)]=t;return r})();function sx(r,t,s){const i=DC[r];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function mv(r){const t=[],s=d=>{t.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},o=d=>{UC(d,i,s)};for(let d=0;d<r.length;d+=1)sx(r.charCodeAt(d),c,o);return t.join("")}function BC(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function PC(r,t){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}BC(i,t)}}function UC(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function LC(r){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};for(let c=0;c<r.length;c+=1)sx(r.charCodeAt(c),s,i);return new Uint8Array(t)}function MC(r){const t=[];return PC(r,s=>t.push(s)),new Uint8Array(t)}function zC(r){return Math.round(Date.now()/1e3)+r}function $C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",Qs={tested:!1,writable:!1},zc=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function qC(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,o)=>{t[o]=c})}catch{}return s.searchParams.forEach((i,c)=>{t[c]=i}),t}const ix=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>Al(async()=>{const{default:i}=await Promise.resolve().then(()=>$l);return{default:i}},void 0).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)},FC=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",lx=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},Zd=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Qd=async(r,t)=>{await r.removeItem(t)};class Of{constructor(){this.promise=new Of.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Of.promiseConstructor=Promise;function k_(r){const t=r.split(".");if(t.length!==3)throw new Mc("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!EC.test(t[i]))throw new Mc("JWT not in base64url format");return{header:JSON.parse(mv(t[0])),payload:JSON.parse(mv(t[1])),signature:LC(t[2]),raw:{header:t[0],payload:t[1]}}}async function IC(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function HC(r,t){return new Promise((i,c)=>{(async()=>{for(let o=0;o<1/0;o++)try{const d=await r(o);if(!t(o,null,d)){i(d);return}}catch(d){if(!t(o,d)){c(d);return}}})()})}function VC(r){return("0"+r.toString(16)).substr(-2)}function YC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let o=0;o<56;o++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(t),Array.from(t,VC).join("")}async function GC(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(o=>String.fromCharCode(o)).join("")}async function ZC(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await GC(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yl(r,t,s=!1){const i=YC();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await lx(r,`${t}-code-verifier`,c);const o=await ZC(i);return[o,i===o?"plain":"s256"]}const QC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KC(r){const t=r.headers.get(J_);if(!t||!t.match(QC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XC(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function JC(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var WC=function(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(r);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(r,i[c])&&(s[i[c]]=r[i[c]]);return s};const Ks=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ek=[502,503,504];async function gv(r){var t;if(!FC(r))throw new W_(Ks(r),0);if(ek.includes(r.status))throw new W_(Ks(r),r.status);let s;try{s=await r.json()}catch(o){throw new ax(Ks(o),o)}let i;const c=KC(r);if(c&&c.getTime()>=rx["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new hv(Ks(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new ds}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,d)=>o&&typeof d=="string",!0))throw new hv(Ks(s),r.status,s.weak_password.reasons);throw new RC(Ks(s),r.status||500,i)}const tk=(r,t,s,i)=>{const c={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function rt(r,t,s,i){var c;const o=Object.assign({},i==null?void 0:i.headers);o[J_]||(o[J_]=rx["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const d=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await nk(r,t,s+h,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function nk(r,t,s,i,c,o){const d=tk(t,i,c,o);let h;try{h=await r(s,Object.assign({},d))}catch(p){throw console.error(p),new W_(Ks(p),0)}if(h.ok||await gv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await gv(p)}}function fs(r){var t;let s=null;ik(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=zC(r.expires_in)));const i=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:i},error:null}}function yv(r){const t=fs(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=r.weak_password),t}function ms(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function rk(r){return{data:r,error:null}}function ak(r){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:o}=r,d=WC(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:o},p=Object.assign({},d);return{data:{properties:h,user:p},error:null}}function sk(r){return r}function ik(r){return r.access_token&&r.refresh_token&&r.expires_in}var lk=function(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(r);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(r,i[c])&&(s[i[c]]=r[i[c]]);return s};class ok{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=ix(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ms})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=lk(t,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:ak,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Ge(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ms})}catch(s){if(Ge(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,c,o,d,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(o=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&o!==void 0?o:""},xform:sk});if(g.error)throw g.error;const v=await g.json(),y=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(w=>{const R=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);m[`${A}Page`]=R}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ge(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ms})}catch(s){if(Ge(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:ms})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:ms})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:s,error:i}=await rt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(Ge(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}}}const ck={getItem:r=>zc()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{zc()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{zc()&&globalThis.localStorage.removeItem(r)}};function vv(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}function uk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vl={debug:!!(globalThis&&zc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ox extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dk extends ox{}async function fk(r,t,s){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),vl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(t===0)throw vl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new dk(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}uk();const hk={url:SC,storageKey:CC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bv(r,t,s){return await s()}class Hc{constructor(t){var s,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hc.nextInstanceID,Hc.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},hk),t);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new ok({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=ix(c.fetch),this.lock=c.lock||bv,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Ir()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=fk:this.lock=bv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?c.storage?this.storage=c.storage:zc()?this.storage=ck:(this.memoryStorage={},this.storage=vv(this.memoryStorage)):(this.memoryStorage={},this.storage=vv(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=qC(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),Ir()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:o}=await this._getSessionFromURL(s,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),OC(o)){const p=(t=o.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:d,redirectType:h}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ge(s)?{error:s}:{error:new ax("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,c;try{const o=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=t==null?void 0:t.options)===null||c===void 0?void 0:c.captchaToken}},xform:fs}),{data:d,error:h}=o;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var s,i,c;try{let o;if("email"in t){const{email:g,password:v,options:y}=t;let E=null,w=null;this.flowType==="pkce"&&([E,w]=await yl(this.storage,this.storageKey)),o=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:v,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:E,code_challenge_method:w},xform:fs})}else if("phone"in t){const{phone:g,password:v,options:y}=t;o=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},channel:(c=y==null?void 0:y.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:fs})}else throw new Yd("You must provide either an email or phone number and a password");const{data:d,error:h}=o;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let s;if("email"in t){const{email:o,password:d,options:h}=t;s=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yv})}else if("phone"in t){const{phone:o,password:d,options:h}=t;s=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yv})}else throw new Yd("You must provide either an email or phone number and a password");const{data:i,error:c}=s;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new S_}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(Ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,i,c,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Zd(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:o,error:d}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:fs});if(await Qd(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new S_}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:c??null}),error:d})}catch(o){if(Ge(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:s,provider:i,token:c,access_token:o,nonce:d}=t,h=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:o,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:fs}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new S_}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(s){if(Ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,i,c,o,d;try{if("email"in t){const{email:h,options:p}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await yl(this.storage,this.storageKey));const{error:v}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:p}=t,{data:m,error:g}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new Yd("You must provide either an email or phone number.")}catch(h){if(Ge(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var s,i;try{let c,o;"options"in t&&(c=(s=t.options)===null||s===void 0?void 0:s.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:h}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:c,xform:fs});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(Ge(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(t){var s,i,c;try{let o=null,d=null;return this.flowType==="pkce"&&([o,d]=await yl(this.storage,this.storageKey)),await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=t==null?void 0:t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:d}),headers:this.headers,xform:rk})}catch(o){if(Ge(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new ds;const{error:c}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:c,options:o}=t,{error:d}=await rt(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:i,type:c,options:o}=t,{data:d,error:h}=await rt(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Yd("You must provide either an email or phone number and a type")}catch(s){if(Ge(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Zd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<w_:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,m,g)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,g))})}return{data:{session:t},error:null}}const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ms}):await this._useSession(async s=>{var i,c,o;const{data:d,error:h}=s;if(h)throw h;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ds}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&o!==void 0?o:void 0,xform:ms})})}catch(s){if(Ge(s))return TC(s)&&(await this._removeSession(),await Qd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:c,error:o}=i;if(o)throw o;if(!c.session)throw new ds;const d=c.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await yl(this.storage,this.storageKey));const{data:m,error:g}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:d.access_token,xform:ms});if(g)throw g;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(Ge(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ds;const s=Date.now()/1e3;let i=s,c=!0,o=null;const{payload:d}=k_(t.access_token);if(d.exp&&(i=d.exp,c=i<=s),c){const{session:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;o={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(Ge(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:d,error:h}=s;if(h)throw h;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new ds;const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Ge(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Ir())throw new Gd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fv("No code detected.");const{data:C,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:o,refresh_token:d,expires_in:h,expires_at:p,token_type:m}=t;if(!o||!h||!d||!m)throw new Gd("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let y=g+v;p&&(y=parseInt(p));const E=y-g;E*1e3<=Sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);const w=y-v;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,g);const{data:R,error:A}=await this._getUser(o);if(A)throw A;const k={provider_token:i,provider_refresh_token:c,access_token:o,expires_in:v,expires_at:y,refresh_token:d,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(i){if(Ge(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Zd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:o}=s;if(o)return{error:o};const d=(i=c.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:h}=await this.admin.signOut(d,t);if(h&&!(NC(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Qd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=$C(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,c;try{const{data:{session:o},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await yl(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(Ge(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Ge(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:i,error:c}=await this._useSession(async o=>{var d,h,p,m,g;const{data:v,error:y}=o;if(y)throw y;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",E,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(c)throw c;return Ir()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ge(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,c;const{data:o,error:d}=s;if(d)throw d;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(Ge(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await HC(async c=>(c>0&&await IC(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fs})),(c,o)=>{const d=200*Math.pow(2,c);return o&&C_(o)&&Date.now()+d-i<Sl})}catch(i){if(this._debug(s,"error",i),Ge(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),Ir()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Zd(this.storage,this.storageKey);if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const c=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<w_;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${w_}s`),c){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),C_(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new ds;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Of;const{data:o,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!o.session)throw new ds;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={session:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(c,"error",o),Ge(o)){const d={session:null,error:o};return C_(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,s,i=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,s)}catch(p){o.push(p)}});if(await Promise.all(d),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lx(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Qd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-t)/Sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Sl}ms, refresh threshold is ${X_} ticks`),c<=X_&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ox)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,d]=await yl(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(h.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);c.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:c,error:o}=s;return o?{data:null,error:o}:await rt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Ge(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,c;const{data:o,error:d}=s;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:m}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(Ge(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:o}=s;if(o)return{data:null,error:o};const{data:d,error:h}=await rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:o}=s;return o?{data:null,error:o}:await rt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(t==null?void 0:t.factors)||[],c=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),o=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:c,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,i;const{data:{session:c},error:o}=t;if(o)return{data:null,error:o};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=k_(c.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((i=(s=c.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const g=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(d=>d.kid===t);if(i||(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+AC>Date.now()))return i;const{data:c,error:o}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!c.keys||c.keys.length===0)throw new Mc("JWKS is empty");if(this.jwks=c,this.jwks_cached_at=Date.now(),i=c.keys.find(d=>d.kid===t),!i)throw new Mc("No matching signing key found in JWKS");return i}async getClaims(t,s={keys:[]}){try{let i=t;if(!i){const{data:E,error:w}=await this.getSession();if(w||!E.session)return{data:null,error:w};i=E.session.access_token}const{header:c,payload:o,signature:d,raw:{header:h,payload:p}}=k_(i);if(XC(o.exp),!c.kid||c.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:o,header:c,signature:d},error:null}}const m=JC(c.alg),g=await this.fetchJwk(c.kid,s),v=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,d,MC(`${h}.${p}`)))throw new Mc("Invalid JWT signature");return{data:{claims:o,header:c,signature:d},error:null}}catch(i){if(Ge(i))return{data:null,error:i};throw i}}}Hc.nextInstanceID=0;const _k=Hc;class pk extends _k{constructor(t){super(t)}}var mk=function(r,t,s,i){function c(o){return o instanceof s?o:new s(function(d){d(o)})}return new(s||(s=Promise))(function(o,d){function h(g){try{m(i.next(g))}catch(v){d(v)}}function p(g){try{m(i.throw(g))}catch(v){d(v)}}function m(g){g.done?o(g.value):c(g.value).then(h,p)}m((i=i.apply(r,t||[])).next())})};class gk{constructor(t,s,i){var c,o,d;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const h=jC(t),p=new URL(h);this.realtimeUrl=new URL("/realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",p),this.storageUrl=new URL("/storage/v1",p),this.functionsUrl=new URL("/functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:_C,realtime:mC,auth:Object.assign(Object.assign({},pC),{storageKey:m}),global:hC},v=wC(i??{},g);this.storageKey=(c=v.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(o=v.global.headers)!==null&&o!==void 0?o:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=bC(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new P1(`${h}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new w1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uC(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},i={}){return this.rest.rpc(t,s,i)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return mk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:c,storageKey:o,flowType:d,lock:h,debug:p},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pk({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:c,flowType:d,lock:h,debug:p,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new K1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,s,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yk=(r,t,s)=>new gk(r,t,s),vk="https://czrxdrytvvbbtqfacnwr.supabase.co",bk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6cnhkcnl0dnZiYnRxZmFjbndyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjI3NzcsImV4cCI6MjA2MzI5ODc3N30.zPjoqzQ1JYRhSkctZyo1_KQhCMGb1YQppNRq-U3hUwQ",ni=yk(vk,bk),cx="https://esg-calculator-mji3v2td0-sukrits-projects-ec2f3458.vercel.app".replace(/\/$/,"")||"http://localhost:3050",xk=`${cx}/api/auth`,jk=`${cx}/api`,sr=Ut.create({baseURL:jk}),ri=r=>{r?(sr.defaults.headers.common.Authorization=`Bearer ${r}`,console.log("[authService] Auth header set with token:",r.substring(0,20)+"...")):(delete sr.defaults.headers.common.Authorization,console.log("[authService] Auth header cleared"))},El=r=>{console.log("[authService] setSession called with:",r?"valid session":"null session"),r?(localStorage.setItem("session",JSON.stringify(r)),ri(r.access_token),console.log("[authService] Session stored and auth header set")):(localStorage.removeItem("session"),ri(null),console.log("[authService] Session cleared and auth header removed"))},ql=()=>{const r=localStorage.getItem("session");if(!r)return null;try{return JSON.parse(r)}catch(t){return console.error("Error parsing session from localStorage:",t),localStorage.removeItem("session"),null}},vs=async()=>{localStorage.removeItem("session"),localStorage.removeItem("supabaseUser"),localStorage.removeItem("backendUserToken"),ri(null);const{error:r}=await ni.auth.signOut();r&&console.error("Error logging out from Supabase:",r)},wk=()=>{const r=ql();r&&r.access_token?ri(r.access_token):ri(null)};wk();ni.auth.onAuthStateChange((r,t)=>{console.log("[authService] onAuthStateChange:",r,t?"session exists":"no session"),r==="SIGNED_IN"&&t?(console.log("[authService] User signed in, updating session"),El(t)):r==="SIGNED_OUT"?(console.log("[authService] User signed out, clearing local session"),localStorage.removeItem("session"),localStorage.removeItem("supabaseUser"),localStorage.removeItem("backendUserToken"),ri(null)):r==="TOKEN_REFRESHED"&&t?(console.log("[authService] Token refreshed, updating session"),El(t)):r==="INITIAL_SESSION"&&t&&(console.log("[authService] Initial session detected, setting session"),El(t))});const Sk=async r=>{var E,w,R;const{email:t,password:s,company_name:i,cin:c,year_of_incorporation:o}=r;console.log("Starting registration process with Supabase");const{data:d,error:h}=await ni.auth.signUp({email:t,password:s,options:{emailRedirectTo:window.location.origin+"/login"}});if(h)throw console.error("Supabase signup error:",h),new Error(h.message||"Supabase signup failed.");if(console.log("Supabase signup response:",JSON.stringify(d)),!d.user)throw console.error("Supabase signup failed - no user object returned"),new Error("Registration failed - user could not be created");console.log("Signing in after signup to ensure valid session");const{data:p,error:m}=await ni.auth.signInWithPassword({email:t,password:s});if(m)if(console.error("Sign-in after signup failed:",m),d.session)console.log("Using original session from signup since sign-in failed");else throw new Error("Account created, but you need to confirm your email before signing in.");else if(p&&p.session)console.log("Successfully created new session after signup"),d.session=p.session;else if(console.warn("Sign-in succeeded but no session was returned"),!d.session)throw new Error("Account created but no session was established. Please confirm your email if required.");const g=d.user,v=d.session;if(!g)throw console.error("User missing after signup/signin flow"),new Error("Registration partially succeeded but user details are missing. Please try logging in later.");if(!v)throw console.error("Session missing after signup/signin flow - likely requires email confirmation"),new Error("Registration successful! Please check your email to verify your account, then log in.");const y={auth_user_id:g.id,email:g.email,company_name:i,cin:c,year_of_incorporation:o,registered_office_address:r.registered_office_address,corporate_address:r.corporate_address,telephone:r.telephone,website:r.website,stock_exchange_listed:r.stock_exchange_listed,paid_up_capital:r.paid_up_capital,brsr_contact_name:r.brsr_contact_name,brsr_contact_mail:r.brsr_contact_mail,brsr_contact_number:r.brsr_contact_number,reporting_boundary:r.reporting_boundary||"standalone",sa_business_activities_turnover:Array.isArray(r.sa_business_activities_turnover)?r.sa_business_activities_turnover.filter(A=>A.description_main||A.description_business||A.turnover_percentage):[],sa_product_services_turnover:Array.isArray(r.sa_product_services_turnover)?r.sa_product_services_turnover.filter(A=>A.product_service||A.nic_code||A.turnover_contributed):[],sa_locations_plants_offices:r.sa_locations_plants_offices||{national_plants:0,national_offices:0,international_plants:0,international_offices:0},sa_markets_served:{locations:r.sa_markets_served_locations||{national_states:0,international_countries:0},exports_percentage:r.sa_markets_served_exports_percentage||"0",customer_types:r.sa_markets_served_customer_types||""}};try{const A=Ut.create({baseURL:xk});A.defaults.headers.common.Authorization=`Bearer ${v.access_token}`,console.log("Creating profile with token:",v.access_token.substring(0,10)+"...");const k=await A.post("/create-profile",y);return El(v),{supabaseData:d,backendProfile:k.data}}catch(A){throw console.error("Backend profile creation error:",((E=A.response)==null?void 0:E.data)||A.message),new Error(((R=(w=A.response)==null?void 0:w.data)==null?void 0:R.message)||A.message||"Backend profile creation failed after signup.")}},Ck=async r=>{try{const{data:t,error:s}=await ni.auth.signInWithPassword({email:r.email,password:r.password});if(s)throw s;return t}catch(t){const s=t.message||"Login failed";throw console.error("Login error in authService:",s,t),new Error(s)}},Np=async()=>{var t,s,i,c,o,d,h;const r=ql();if(console.log("[authService] fetchCompanyProfile called. Session exists:",!!r),!r||!r.access_token)throw console.warn("[authService] fetchCompanyProfile called without a session in localStorage."),new Error("Authentication required to fetch profile. Please log in again.");ri(r.access_token);try{console.log("[authService] Making API call to fetch company profile...");const p=await sr.get("/company/profile");return console.log("[authService] Profile fetch successful:",p.data?"data received":"no data"),p.data}catch(p){const m=((s=(t=p.response)==null?void 0:t.data)==null?void 0:s.message)||p.message||"Failed to fetch profile";throw console.error("[authService] Fetch profile error:",{status:(i=p.response)==null?void 0:i.status,statusText:(c=p.response)==null?void 0:c.statusText,data:(o=p.response)==null?void 0:o.data,message:m}),((d=p.response)==null?void 0:d.status)===401||((h=p.response)==null?void 0:h.status)===403?(console.warn("[authService] Backend auth failed for fetchCompanyProfile. Clearing session."),await vs(),new Error("Session expired or invalid. Please log in again.")):new Error(m)}},ux=async r=>{var s,i,c,o;const t=ql();if(!t||!t.access_token)throw console.warn("[authService] updateCompanyProfile called without a session in localStorage."),new Error("Authentication required to update profile. Please log in again.");try{return(await sr.put("/company/profile",r)).data}catch(d){const h=((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||d.message||"Failed to update profile";throw console.error("Update profile error in authService:",h,d),((c=d.response)==null?void 0:c.status)===401||((o=d.response)==null?void 0:o.status)===403?(console.warn("[authService] Backend auth failed for updateCompanyProfile. Clearing session."),await vs(),new Error("Session expired or invalid. Please log in again.")):new Error(h)}},kk=async r=>{var s,i,c,o;const t=ql();if(!t||!t.access_token)throw console.warn("[authService] initiateBrSrReport called without a session in localStorage."),new Error("Authentication required to initiate a report. Please log in again.");try{return(await sr.post("/reports/initiate",r)).data}catch(d){const h=((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||d.message||"Failed to initiate BRSR report";throw console.error("Initiate BRSR report error in authService:",h,d),((c=d.response)==null?void 0:c.status)===401||((o=d.response)==null?void 0:o.status)===403?(console.warn("[authService] Backend auth failed for initiateBrSrReport. Clearing session."),await vs(),new Error("Session expired or invalid. Please log in again.")):new Error(h)}},dx=async r=>{var s,i,c,o,d;const t=ql();if(!t||!t.access_token)throw console.warn("[authService] fetchBrSrReportDetails called without a session."),new Error("Authentication required. Please log in again.");try{return(await sr.get(`/reports/${r}`)).data}catch(h){const p=((i=(s=h.response)==null?void 0:s.data)==null?void 0:i.message)||h.message||"Failed to fetch BRSR report details";throw console.error("Fetch BRSR report details error in authService:",p,h),((c=h.response)==null?void 0:c.status)===401||((o=h.response)==null?void 0:o.status)===403?(console.warn("[authService] Backend auth failed for fetchBrSrReportDetails. Clearing session."),await vs(),new Error("Session expired or invalid. Please log in again.")):((d=h.response)==null?void 0:d.status)===404?new Error("Report not found."):new Error(p)}},Wc=async(r,t)=>{var i,c,o,d,h;const s=ql();if(!s||!s.access_token)throw console.warn("[authService] updateBrSrReport called without a session."),new Error("Authentication required. Please log in again.");console.log("[authService] updateBrSrReport called with:",{reportId:r,updateDataKeys:Object.keys(t)});try{if(t&&t.section_a_data){console.log("[authService] Updating Section A data with dedicated endpoint");const p={sa_business_activities_turnover:t.section_a_data.sa_business_activities_turnover||[],sa_product_services_turnover:t.section_a_data.sa_product_services_turnover||[],sa_locations_plants_offices:t.section_a_data.sa_locations_plants_offices||{},sa_markets_served:t.section_a_data.sa_markets_served||{},sa_employee_details:t.section_a_data.sa_employee_details||{},sa_workers_details:t.section_a_data.sa_workers_details||{},sa_differently_abled_details:t.section_a_data.sa_differently_abled_details||{},sa_women_representation_details:t.section_a_data.sa_women_representation_details||{},sa_turnover_rate:t.section_a_data.sa_turnover_rate||{},sa_holding_subsidiary_associate_companies:t.section_a_data.sa_holding_subsidiary_associate_companies||[],sa_csr_applicable:t.section_a_data.sa_csr_applicable||!1,sa_csr_turnover:t.section_a_data.sa_csr_turnover||"",sa_csr_net_worth:t.section_a_data.sa_csr_net_worth||"",sa_transparency_complaints:t.section_a_data.sa_transparency_complaints||{}};return console.log("[authService] Section A data:",JSON.stringify(p,null,2)),(await sr.put(`/reports/${r}`,{section_a_data:p})).data}else return console.log("[authService] Updating report with standard PUT endpoint"),(await sr.put(`/reports/${r}`,t)).data}catch(p){const m=((c=(i=p.response)==null?void 0:i.data)==null?void 0:c.message)||p.message||"Failed to update BRSR report";throw console.error("Update BRSR report error in authService:",m,p),((o=p.response)==null?void 0:o.status)===401||((d=p.response)==null?void 0:d.status)===403?(console.warn("[authService] Backend auth failed for updateBrSrReport. Clearing session."),await vs(),new Error("Session expired or invalid. Please log in again.")):((h=p.response)==null?void 0:h.status)===404?new Error("Report not found for update."):new Error(m)}};function Ek(){const[r,t]=D.useState(""),[s,i]=D.useState(""),[c,o]=D.useState(""),[d,h]=D.useState(!1),p=wr(),m=async g=>{g.preventDefault(),o(""),h(!0);try{const{data:v,error:y}=await Ck({email:r,password:s});if(y)throw y;v&&v.user?p("/profile"):o("Login failed. Please check your credentials.")}catch(v){o(v.message||"Failed to login. Please check your credentials."),console.error("Login Page Error:",v)}finally{h(!1)}};return a.jsx("div",{className:"auth-container",style:{maxWidth:400,margin:"60px auto",background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.08)",padding:32},children:a.jsxs("form",{onSubmit:m,className:"auth-form",children:[a.jsx("h2",{children:"Company Login"}),c&&a.jsx("p",{className:"error-message",children:c}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"email",children:"Email:"})," ",a.jsx("input",{type:"email",id:"email",value:r,onChange:g=>t(g.target.value),required:!0,style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ddd",marginTop:8}})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"password",children:"Password:"}),a.jsx("input",{type:"password",id:"password",value:s,onChange:g=>i(g.target.value),required:!0,style:{width:"100%",padding:12,borderRadius:8,border:"1px solid #ddd",marginTop:8}})]}),a.jsx("button",{type:"submit",disabled:d,className:"auth-button",style:{borderRadius:24,padding:"10px 32px",fontSize:18,marginTop:24,width:"100%",backgroundColor:"#007bff",color:"#fff",border:"none",cursor:"pointer"},children:d?"Logging in...":"Login"}),a.jsxs("p",{className:"switch-auth",style:{marginTop:16,textAlign:"center"},children:["Don't have an account? ",a.jsx(kn,{to:"/register",children:"Sign Up"})]})]})})}function Ak(){const r={description_main:"",description_business:"",turnover_percentage:""},t={product_service:"",nic_code:"",turnover_contributed:""},[s,i]=D.useState({email:"",password:"",cin:"",company_name:"",year_of_incorporation:"",registered_office_address:"",corporate_address:"",telephone:"",website:"",stock_exchanges_listed:"",paid_up_capital:"",brsr_contact_person_name:"",brsr_contact_person_email:"",brsr_contact_person_telephone:"",reporting_boundary:"standalone",sa_business_activities_turnover:[{description_main:"",description_business:"",turnover_percentage:""}],sa_product_services_turnover:[{product_service:"",nic_code:"",turnover_contributed:""}],sa_locations_plants_offices:{national_plants:0,national_offices:0,international_plants:0,international_offices:0},sa_markets_served_locations:{national_states:0,international_countries:0},sa_markets_served_exports_percentage:"",sa_markets_served_customer_types:""}),[c,o]=D.useState(""),[d,h]=D.useState(""),[p,m]=D.useState(!1),g=wr(),v=b=>{const{name:j,value:N,type:T,checked:z}=b.target;if(j.startsWith("sa_locations_plants_offices.")){const X=j.split(".")[1];i(Q=>({...Q,sa_locations_plants_offices:{...Q.sa_locations_plants_offices,[X]:N}}))}else if(j.startsWith("sa_markets_served_locations.")){const X=j.split(".")[1];i(Q=>({...Q,sa_markets_served_locations:{...Q.sa_markets_served_locations,[X]:N}}))}else i(X=>({...X,[j]:T==="checkbox"?z:N}))},y=(b,j)=>{const{name:N,value:T}=j.target,z=[...s.sa_business_activities_turnover];z[b][N]=T,i(X=>({...X,sa_business_activities_turnover:z}))},E=()=>{i(b=>({...b,sa_business_activities_turnover:[...b.sa_business_activities_turnover,{...r}]}))},w=b=>{const j=[...s.sa_business_activities_turnover];j.splice(b,1),i(N=>({...N,sa_business_activities_turnover:j}))},R=(b,j)=>{const{name:N,value:T}=j.target,z=[...s.sa_product_services_turnover];z[b][N]=T,i(X=>({...X,sa_product_services_turnover:z}))},A=()=>{i(b=>({...b,sa_product_services_turnover:[...b.sa_product_services_turnover,{...t}]}))},k=b=>{const j=[...s.sa_product_services_turnover];j.splice(b,1),i(N=>({...N,sa_product_services_turnover:j}))},C=async b=>{if(b.preventDefault(),s.password!==c){h("Passwords do not match.");return}h(""),m(!0);try{const j={email:s.email,password:s.password,cin:s.cin,company_name:s.company_name,year_of_incorporation:s.year_of_incorporation?parseInt(s.year_of_incorporation):null,registered_office_address:s.registered_office_address,corporate_address:s.corporate_address,telephone:s.telephone,website:s.website,stock_exchange_listed:s.stock_exchanges_listed?s.stock_exchanges_listed.split(",").map(N=>N.trim()).filter(N=>N):[],paid_up_capital:s.paid_up_capital,brsr_contact_name:s.brsr_contact_person_name,brsr_contact_mail:s.brsr_contact_person_email,brsr_contact_number:s.brsr_contact_person_telephone,reporting_boundary:s.reporting_boundary,sa_business_activities_turnover:s.sa_business_activities_turnover.filter(N=>N.description_main||N.description_business||N.turnover_percentage).map(N=>({...N,turnover_percentage:parseFloat(N.turnover_percentage)||0})),sa_product_services_turnover:s.sa_product_services_turnover.filter(N=>N.product_service||N.nic_code||N.turnover_contributed).map(N=>({...N,turnover_contributed:parseFloat(N.turnover_contributed)||0})),sa_locations_plants_offices:{national_plants:parseInt(s.sa_locations_plants_offices.national_plants)||0,national_offices:parseInt(s.sa_locations_plants_offices.national_offices)||0,international_plants:parseInt(s.sa_locations_plants_offices.international_plants)||0,international_offices:parseInt(s.sa_locations_plants_offices.international_offices)||0},sa_markets_served:{locations:s.sa_markets_served_locations,exports_percentage:s.sa_markets_served_exports_percentage,customer_types:s.sa_markets_served_customer_types}};await Sk(j),g("/login",{state:{message:"Registration successful! Please check your email for confirmation if required, then log in.",type:"success"}})}catch(j){h(j.message||"Failed to register. Please try again."),console.error("Registration Page Error:",j)}finally{m(!1)}};return a.jsx("div",{className:"auth-container",children:a.jsxs("form",{onSubmit:C,className:"auth-form register-form",children:[a.jsx("h2",{children:"Company Registration"}),d&&a.jsx("p",{className:"error-message",children:d}),a.jsx("h4",{children:"Authentication Credentials"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Login Email (Q6):"})," ",a.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:v,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"Password:"}),a.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:v,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c,onChange:b=>o(b.target.value),required:!0})]}),a.jsx("h3",{children:"Section A: General Disclosures (Company Profile)"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"cin",children:"Corporate Identity Number (CIN) (Q1):"}),a.jsx("input",{type:"text",id:"cin",name:"cin",value:s.cin,onChange:v,required:!0})]}),a.jsx("h4",{children:"2. Basic Company Details"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"company_name",children:"Name of the Listed Entity (Q2):"}),a.jsx("input",{type:"text",id:"company_name",name:"company_name",value:s.company_name,onChange:v,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"year_of_incorporation",children:"Year of incorporation (Q3):"}),a.jsx("input",{type:"number",placeholder:"YYYY",id:"year_of_incorporation",name:"year_of_incorporation",value:s.year_of_incorporation,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"registered_office_address",children:"Registered office address (Q4):"}),a.jsx("textarea",{id:"registered_office_address",name:"registered_office_address",value:s.registered_office_address,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"corporate_address",children:"Corporate address (if different) (Q5):"}),a.jsx("textarea",{id:"corporate_address",name:"corporate_address",value:s.corporate_address,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"telephone",children:"Telephone (Q7):"}),a.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:s.telephone,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"website",children:"Website (Q8):"}),a.jsx("input",{type:"url",id:"website",name:"website",placeholder:"https://example.com",value:s.website,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"stock_exchanges_listed",children:"Name of the Stock Exchange(s) where shares are listed (Q10) (comma-separated):"}),a.jsx("input",{type:"text",id:"stock_exchanges_listed",name:"stock_exchanges_listed",value:s.stock_exchanges_listed,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"paid_up_capital",children:"Paid-up Capital (Q11):"}),a.jsx("input",{type:"text",id:"paid_up_capital",name:"paid_up_capital",value:s.paid_up_capital,onChange:v})]}),a.jsx("h4",{children:"3. BRSR Contact & Reporting Boundary"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"brsr_contact_person_name",children:"BRSR Contact Person Name (Q12):"}),a.jsx("input",{type:"text",id:"brsr_contact_person_name",name:"brsr_contact_person_name",value:s.brsr_contact_person_name,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"brsr_contact_person_email",children:"BRSR Contact Person E-mail (Q12):"}),a.jsx("input",{type:"email",id:"brsr_contact_person_email",name:"brsr_contact_person_email",value:s.brsr_contact_person_email,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"brsr_contact_person_telephone",children:"BRSR Contact Person Telephone (Q12):"}),a.jsx("input",{type:"tel",id:"brsr_contact_person_telephone",name:"brsr_contact_person_telephone",value:s.brsr_contact_person_telephone,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"reporting_boundary",children:"Reporting boundary (Q13):"}),a.jsxs("select",{id:"reporting_boundary",name:"reporting_boundary",value:s.reporting_boundary,onChange:v,children:[a.jsx("option",{value:"standalone",children:"Standalone"}),a.jsx("option",{value:"consolidated",children:"Consolidated"})]})]}),a.jsx("h4",{children:"4. Business Activities (Q14)"}),a.jsx("p",{className:"form-hint",children:"Details of business activities (accounting for 90% of the turnover)"}),s.sa_business_activities_turnover.map((b,j)=>a.jsxs("div",{className:"dynamic-table-item",children:[a.jsxs("h5",{children:["Activity ",j+1]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`activity_description_main_${j}`,children:"Description of Main Activity:"}),a.jsx("input",{type:"text",id:`activity_description_main_${j}`,name:"description_main",value:b.description_main,onChange:N=>y(j,N)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`activity_description_business_${j}`,children:"Description of Business Activity:"}),a.jsx("input",{type:"text",id:`activity_description_business_${j}`,name:"description_business",value:b.description_business,onChange:N=>y(j,N)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`activity_turnover_percentage_${j}`,children:"% of Turnover of the entity:"}),a.jsx("input",{type:"number",step:"0.01",id:`activity_turnover_percentage_${j}`,name:"turnover_percentage",placeholder:"e.g., 60.5",value:b.turnover_percentage,onChange:N=>y(j,N)})]}),s.sa_business_activities_turnover.length>1&&a.jsx("button",{type:"button",onClick:()=>w(j),className:"remove-row-button",children:"Remove Activity"})]},j)),a.jsx("button",{type:"button",onClick:E,className:"add-row-button",children:"Add Business Activity"}),a.jsx("h4",{children:"5. Products/Services Sold (Q15)"}),a.jsx("p",{className:"form-hint",children:"Products/Services sold by the entity (accounting for 90% of the entity’s Turnover)"}),s.sa_product_services_turnover.map((b,j)=>a.jsxs("div",{className:"dynamic-table-item",children:[a.jsxs("h5",{children:["Product/Service ",j+1]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`product_service_${j}`,children:"Product/Service:"}),a.jsx("input",{type:"text",id:`product_service_${j}`,name:"product_service",value:b.product_service,onChange:N=>R(j,N)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`nic_code_${j}`,children:"NIC Code:"}),a.jsx("input",{type:"text",id:`nic_code_${j}`,name:"nic_code",value:b.nic_code,onChange:N=>R(j,N)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`turnover_contributed_${j}`,children:"% of total Turnover contributed:"}),a.jsx("input",{type:"number",step:"0.01",id:`turnover_contributed_${j}`,name:"turnover_contributed",placeholder:"e.g., 30.0",value:b.turnover_contributed,onChange:N=>R(j,N)})]}),s.sa_product_services_turnover.length>1&&a.jsx("button",{type:"button",onClick:()=>k(j),className:"remove-row-button",children:"Remove Product/Service"})]},j)),a.jsx("button",{type:"button",onClick:A,className:"add-row-button",children:"Add Product/Service"}),a.jsx("h4",{children:"6. Locations (Q16)"}),a.jsx("p",{className:"form-hint",children:"Number of locations where plants and/or operations/offices are situated"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"national_plants",children:"National - Number of plants:"}),a.jsx("input",{type:"number",id:"national_plants",name:"sa_locations_plants_offices.national_plants",value:s.sa_locations_plants_offices.national_plants,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"national_offices",children:"National - Number of offices:"}),a.jsx("input",{type:"number",id:"national_offices",name:"sa_locations_plants_offices.national_offices",value:s.sa_locations_plants_offices.national_offices,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"international_plants",children:"International - Number of plants:"}),a.jsx("input",{type:"number",id:"international_plants",name:"sa_locations_plants_offices.international_plants",value:s.sa_locations_plants_offices.international_plants,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"international_offices",children:"International - Number of offices:"}),a.jsx("input",{type:"number",id:"international_offices",name:"sa_locations_plants_offices.international_offices",value:s.sa_locations_plants_offices.international_offices,onChange:v})]}),a.jsx("h4",{children:"7. Markets Served (Q17)"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"national_states",children:"National (No. of States) (Q17a):"}),a.jsx("input",{type:"number",id:"national_states",name:"sa_markets_served_locations.national_states",value:s.sa_markets_served_locations.national_states,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"international_countries",children:"International (No. of Countries) (Q17a):"}),a.jsx("input",{type:"number",id:"international_countries",name:"sa_markets_served_locations.international_countries",value:s.sa_markets_served_locations.international_countries,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"sa_markets_served_exports_percentage",children:"Contribution of exports as % of total turnover (Q17b):"}),a.jsx("input",{type:"number",step:"0.01",id:"sa_markets_served_exports_percentage",name:"sa_markets_served_exports_percentage",value:s.sa_markets_served_exports_percentage,onChange:v})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"sa_markets_served_customer_types",children:"A brief on types of customers (Q17c):"}),a.jsx("textarea",{id:"sa_markets_served_customer_types",name:"sa_markets_served_customer_types",value:s.sa_markets_served_customer_types,onChange:v})]}),a.jsx("button",{type:"submit",disabled:p,className:"auth-button",children:p?"Registering...":"Register"}),a.jsxs("p",{className:"switch-auth",children:["Already have an account? ",a.jsx(kn,{to:"/login",children:"Login"})]})]})})}const Rk={maxWidth:900,margin:"40px auto",padding:32,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(0,0,0,0.07)",fontFamily:"Inter, Arial, sans-serif"},Nk={borderBottom:"1px solid #e0e0e0",marginBottom:32,paddingBottom:16},Tk={fontSize:"2.2em",fontWeight:700,color:"#222",marginBottom:8},Ok={fontSize:"1.1em",color:"#555",marginBottom:0},E_={background:"#f8f9fa",borderRadius:10,boxShadow:"0 1px 4px rgba(0,0,0,0.04)",padding:28,textAlign:"center",transition:"box-shadow 0.2s",fontSize:"1em",color:"#222",textDecoration:"none",fontWeight:500,display:"flex",flexDirection:"column",alignItems:"center"},A_={fontSize:"2.5em",marginBottom:12};function Dk(){const[r,t]=D.useState(null),[s,i]=D.useState(!0),[c,o]=D.useState(""),d=wr(),{session:h,loadingAuth:p}=D.useContext(ii);return D.useEffect(()=>{p||(h?(console.log("[ProfilePage] Session found, loading profile..."),(async()=>{try{i(!0);const g=await Np();t(g),o("")}catch(g){o(g.message||"Failed to load company profile."),console.error("ProfilePage data load error:",g),(g.message.includes("No active or valid session")||g.status===401)&&d("/login",{state:{from:"/profile"}})}finally{i(!1)}})()):(console.log("[ProfilePage] No session found, redirecting to login."),d("/login",{state:{from:"/profile"}})))},[h,p,d]),p?a.jsx("div",{className:"profile-page-loading",children:"Authenticating..."}):h?s?a.jsx("div",{className:"profile-page-loading",children:"Loading profile..."}):c?a.jsxs("div",{className:"profile-page-error",children:["Error: ",c]}):r?a.jsxs("div",{style:Rk,children:[a.jsxs("header",{style:Nk,children:[a.jsxs("h2",{style:Tk,children:["Welcome, ",r.company_name,"!"]}),a.jsx("p",{style:Ok,children:"Manage your company's sustainability reporting and disclosures."})]}),a.jsxs("div",{className:"profile-actions",style:{display:"flex",justifyContent:"center",gap:32,margin:"40px 0"},children:[a.jsxs(kn,{to:"/profile/edit-disclosures",style:{...E_,display:"inline-flex",alignItems:"center",borderRadius:24,padding:"14px 36px",fontSize:20,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[a.jsx("div",{style:A_,children:"📝"}),"Edit Profile"]}),a.jsxs(kn,{to:"/reports/new",style:{...E_,display:"inline-flex",alignItems:"center",borderRadius:24,padding:"14px 36px",fontSize:20,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[a.jsx("div",{style:A_,children:"📄"}),"Generate New BRSR Report"]}),a.jsxs(kn,{to:"/reports/history",style:{...E_,display:"inline-flex",alignItems:"center",borderRadius:24,padding:"14px 36px",fontSize:20,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[a.jsx("div",{style:A_,children:"📊"}),"View Previous Reports"]})]})]}):a.jsx("div",{className:"profile-page-error",children:"No company profile found."}):a.jsx("div",{className:"profile-page-loading",children:"Redirecting to login..."})}function Bk(){var b,j,N,T,z,X,Q,ne,ce,M,B,I,de,F,W,me,ue,O,J,ge,_e,Ae;const{session:r,loadingAuth:t}=D.useContext(ii),s=wr(),[i,c]=D.useState(null),[o,d]=D.useState({company_name:"",registered_office_address:"",corporate_address:"",telephone:"",website:"",paid_up_capital:"",stock_exchange_listed:[],brsr_contact_name:"",brsr_contact_number:"",brsr_contact_mail:"",brsr_report_data:{brsr_report_id:null,financial_year:"",reporting_boundary:"Standalone",sa_business_activities_turnover:[],sa_product_services_turnover:[],sa_locations_plants_offices:{national_plants:0,national_offices:0,international_plants:0,international_offices:0},sa_markets_served:{locations:{national_states:0,international_countries:0},exports_percentage:0,customer_types:""}}}),[h,p]=D.useState(!0),[m,g]=D.useState(""),[v,y]=D.useState(""),E={brsr_report_id:null,financial_year:"",reporting_boundary:"Standalone",sa_business_activities_turnover:[],sa_product_services_turnover:[],sa_locations_plants_offices:{national_plants:0,national_offices:0,international_plants:0,international_offices:0},sa_markets_served:{locations:{national_states:0,international_countries:0},exports_percentage:0,customer_types:""}};D.useEffect(()=>{console.log("[EditDisclosuresPage] Auth check - loadingAuth:",t,"session:",r),!t&&!r&&(console.log("[EditDisclosuresPage] No session found, redirecting to login"),s("/login",{state:{message:"You must be logged in to edit disclosures."}}))},[r,t,s]),D.useEffect(()=>{console.log("[EditDisclosuresPage] Profile loading check - loadingAuth:",t,"session:",r);const Se=async()=>{if(r)try{console.log("[EditDisclosuresPage] Loading profile data..."),p(!0),g("");const le=await Np();console.log("[EditDisclosuresPage] Profile data received:",le),c(le),d(ke=>({...ke,company_name:le.company_name||"",registered_office_address:le.registered_office_address||"",corporate_address:le.corporate_address||"",telephone:le.telephone||"",website:le.website||"",paid_up_capital:le.paid_up_capital||"",stock_exchange_listed:Array.isArray(le.stock_exchange_listed)?le.stock_exchange_listed:le.stock_exchange_listed?String(le.stock_exchange_listed).split(",").map(we=>we.trim()).filter(we=>we):[],brsr_contact_name:le.brsr_contact_name||"",brsr_contact_number:le.brsr_contact_number||"",brsr_contact_mail:le.brsr_contact_mail||"",brsr_report_data:{...E,...le.brsr_report_data||{}}})),g("")}catch(le){g(le.message||"Failed to load company profile."),console.error("[EditDisclosuresPage] Error loading profile:",le)}finally{p(!1)}else t||(console.log("[EditDisclosuresPage] No session and auth not loading, stopping profile load"),p(!1))};!t&&r?(console.log("[EditDisclosuresPage] Auth resolved and session exists, loading profile"),Se()):!t&&!r&&(console.log("[EditDisclosuresPage] Auth resolved but no session, skipping profile load"),p(!1))},[r,t]);const w=Se=>{const{name:le,value:ke,type:we,checked:Et}=Se.target,[It,oe,et]=le.split(".");d(It==="brsr_report_data"?st=>({...st,brsr_report_data:{...st.brsr_report_data,...et?{[oe]:{...st.brsr_report_data[oe],[et]:we==="number"?parseFloat(ke):ke}}:{[oe]:we==="number"?parseFloat(ke):ke}}}):le==="stock_exchange_listed"?st=>({...st,[le]:ke.split(",").map($e=>$e.trim())}):st=>({...st,[le]:we==="checkbox"?Et:we==="number"?parseFloat(ke):ke}))},R=(Se,le,ke,we)=>{d(Et=>{var It;return{...Et,brsr_report_data:{...Et.brsr_report_data,[Se]:((It=Et.brsr_report_data[Se])==null?void 0:It.map((oe,et)=>et===le?{...oe,[ke]:we}:oe))||[]}}})},A=(Se,le)=>{d(ke=>({...ke,brsr_report_data:{...ke.brsr_report_data,[Se]:[...ke.brsr_report_data[Se]||[],le]}}))},k=(Se,le)=>{d(ke=>{var we;return{...ke,brsr_report_data:{...ke.brsr_report_data,[Se]:((we=ke.brsr_report_data[Se])==null?void 0:we.filter((Et,It)=>It!==le))||[]}}})},C=async Se=>{var le,ke;Se.preventDefault(),g(""),y(""),p(!0);try{const we=await ux(o);c(we.profile),d({company_name:we.profile.company_name||"",registered_office_address:we.profile.registered_office_address||"",corporate_address:we.profile.corporate_address||"",telephone:we.profile.telephone||"",website:we.profile.website||"",paid_up_capital:we.profile.paid_up_capital||"",stock_exchange_listed:Array.isArray(we.profile.stock_exchange_listed)?we.profile.stock_exchange_listed:we.profile.stock_exchange_listed?String(we.profile.stock_exchange_listed).split(","):[],brsr_contact_name:we.profile.brsr_contact_name||"",brsr_contact_number:we.profile.brsr_contact_number||"",brsr_contact_mail:we.profile.brsr_contact_mail||"",brsr_report_data:{...E,...we.profile.brsr_report_data||{}}}),y("Profile updated successfully!")}catch(we){console.error("Error updating profile:",we),g(((ke=(le=we.response)==null?void 0:le.data)==null?void 0:ke.message)||we.message||"Failed to update profile.")}finally{p(!1)}};return t||h&&r?a.jsx("div",{className:"form-container",children:"Loading..."}):r?m&&!i?a.jsxs("div",{className:"form-container error-message",children:["Error: ",m]}):i?a.jsxs("div",{className:"form-container",style:{maxWidth:700,margin:"40px auto",background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.08)",padding:32},children:[a.jsx("h2",{children:"Edit General Disclosures"}),a.jsx("p",{children:"Update your company's general information. Fields like CIN, Email, and Year of Incorporation are non-editable."}),m&&a.jsx("p",{className:"error-message",children:m}),v&&a.jsx("p",{className:"success-message",children:v}),a.jsxs("form",{onSubmit:C,children:[a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"cin",children:"Corporate Identification Number (CIN)"}),a.jsx("input",{type:"text",id:"cin",name:"cin",value:i.cin||"",disabled:!0})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"email",children:"Registered Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:i.email||"",disabled:!0})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"year_of_incorporation",children:"Year of Incorporation"}),a.jsx("input",{type:"text",id:"year_of_incorporation",name:"year_of_incorporation",value:i.year_of_incorporation||"",disabled:!0})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"company_name",children:"Company Name"}),a.jsx("input",{type:"text",id:"company_name",name:"company_name",value:o.company_name||"",onChange:w,required:!0})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"registered_office_address",children:"Registered Office Address"}),a.jsx("textarea",{id:"registered_office_address",name:"registered_office_address",value:o.registered_office_address||"",onChange:w})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"corporate_address",children:"Corporate Address"}),a.jsx("textarea",{id:"corporate_address",name:"corporate_address",value:o.corporate_address||"",onChange:w})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"telephone",children:"Telephone"}),a.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:o.telephone||"",onChange:w})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"website",children:"Website"}),a.jsx("input",{type:"url",id:"website",name:"website",value:o.website||"",onChange:w})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"paid_up_capital",children:"Paid Up Capital"}),a.jsx("input",{type:"text",id:"paid_up_capital",name:"paid_up_capital",value:o.paid_up_capital||"",onChange:w})]}),"                ",a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"stock_exchange_listed",children:"Stock Exchange Listed"}),a.jsx("input",{type:"text",id:"stock_exchange_listed",name:"stock_exchange_listed",value:Array.isArray(o.stock_exchange_listed)?o.stock_exchange_listed.join(", "):o.stock_exchange_listed||"",onChange:Se=>{const le=Se.target.value.split(",").map(ke=>ke.trim()).filter(ke=>ke!=="");d(ke=>({...ke,stock_exchange_listed:le}))},placeholder:"Enter stock exchanges separated by commas (e.g., NSE, BSE, MSE)"}),a.jsx("small",{className:"form-hint",children:"Enter stock exchange names separated by commas (e.g., NSE, BSE)"})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"brsr_contact_name",children:"BRSR Contact Person Name"}),a.jsx("input",{type:"text",id:"brsr_contact_name",name:"brsr_contact_name",value:o.brsr_contact_name||"",onChange:w})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"brsr_contact_number",children:"BRSR Contact Number"}),a.jsx("input",{type:"tel",id:"brsr_contact_number",name:"brsr_contact_number",value:o.brsr_contact_number||"",onChange:w})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:24},children:[a.jsx("label",{htmlFor:"brsr_contact_mail",children:"BRSR Contact Email"}),a.jsx("input",{type:"email",id:"brsr_contact_mail",name:"brsr_contact_mail",value:o.brsr_contact_mail||"",onChange:w})]}),a.jsx("h3",{className:"form-section-header",children:"BRSR Section A: Details of the Entity"}),a.jsxs("div",{className:"form-group",children:[a.jsx("h4",{children:"Business Activities and Turnover"}),(j=(b=o.brsr_report_data)==null?void 0:b.sa_business_activities_turnover)==null?void 0:j.map((Se,le)=>a.jsxs("div",{className:"form-array-item",children:[a.jsx("input",{type:"text",name:`sa_business_activities_turnover[${le}].description_main`,value:Se.description_main,onChange:ke=>R("sa_business_activities_turnover",le,"description_main",ke.target.value),placeholder:"Main Activity/Business Group"}),a.jsx("input",{type:"text",name:`sa_business_activities_turnover[${le}].description_business`,value:Se.description_business,onChange:ke=>R("sa_business_activities_turnover",le,"description_business",ke.target.value),placeholder:"Business Activity Description"}),a.jsx("input",{type:"number",name:`sa_business_activities_turnover[${le}].turnover_percentage`,value:Se.turnover_percentage,onChange:ke=>R("sa_business_activities_turnover",le,"turnover_percentage",parseFloat(ke.target.value)),placeholder:"% of Turnover"}),a.jsx("button",{type:"button",onClick:()=>k("sa_business_activities_turnover",le),className:"remove-item-button",children:"Remove"})]},le)),a.jsx("button",{type:"button",onClick:()=>A("sa_business_activities_turnover",{description_main:"",description_business:"",turnover_percentage:0}),className:"add-item-button",children:"Add Business Activity"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h4",{children:"Products/Services and Turnover"}),(T=(N=o.brsr_report_data)==null?void 0:N.sa_product_services_turnover)==null?void 0:T.map((Se,le)=>a.jsxs("div",{className:"form-array-item",children:[a.jsx("input",{type:"text",name:`sa_product_services_turnover[${le}].product_service`,value:Se.product_service,onChange:ke=>R("sa_product_services_turnover",le,"product_service",ke.target.value),placeholder:"Product/Service Name"}),a.jsx("input",{type:"text",name:`sa_product_services_turnover[${le}].nic_code`,value:Se.nic_code,onChange:ke=>R("sa_product_services_turnover",le,"nic_code",ke.target.value),placeholder:"NIC Code"}),a.jsx("input",{type:"number",name:`sa_product_services_turnover[${le}].turnover_contributed`,value:Se.turnover_contributed,onChange:ke=>R("sa_product_services_turnover",le,"turnover_contributed",parseFloat(ke.target.value)),placeholder:"% of Turnover Contributed"}),a.jsx("button",{type:"button",onClick:()=>k("sa_product_services_turnover",le),className:"remove-item-button",children:"Remove"})]},le)),a.jsx("button",{type:"button",onClick:()=>A("sa_product_services_turnover",{product_service:"",nic_code:"",turnover_contributed:0}),className:"add-item-button",children:"Add Product/Service"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h4",{children:"Locations of Plants and Offices"}),a.jsx("label",{htmlFor:"sa_locations_plants_offices.national_plants",children:"National Plants"}),a.jsx("input",{type:"number",id:"sa_locations_plants_offices.national_plants",name:"brsr_report_data.sa_locations_plants_offices.national_plants",value:((X=(z=o.brsr_report_data)==null?void 0:z.sa_locations_plants_offices)==null?void 0:X.national_plants)||0,onChange:w}),a.jsx("label",{htmlFor:"sa_locations_plants_offices.national_offices",children:"National Offices"}),a.jsx("input",{type:"number",id:"sa_locations_plants_offices.national_offices",name:"brsr_report_data.sa_locations_plants_offices.national_offices",value:((ne=(Q=o.brsr_report_data)==null?void 0:Q.sa_locations_plants_offices)==null?void 0:ne.national_offices)||0,onChange:w}),a.jsx("label",{htmlFor:"sa_locations_plants_offices.international_plants",children:"International Plants"}),a.jsx("input",{type:"number",id:"sa_locations_plants_offices.international_plants",name:"brsr_report_data.sa_locations_plants_offices.international_plants",value:((M=(ce=o.brsr_report_data)==null?void 0:ce.sa_locations_plants_offices)==null?void 0:M.international_plants)||0,onChange:w}),a.jsx("label",{htmlFor:"sa_locations_plants_offices.international_offices",children:"International Offices"}),a.jsx("input",{type:"number",id:"sa_locations_plants_offices.international_offices",name:"brsr_report_data.sa_locations_plants_offices.international_offices",value:((I=(B=o.brsr_report_data)==null?void 0:B.sa_locations_plants_offices)==null?void 0:I.international_offices)||0,onChange:w})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h4",{children:"Markets Served (Locations)"}),a.jsx("label",{htmlFor:"sa_markets_served.locations.national_states",children:"National (No. of States)"}),a.jsx("input",{type:"number",id:"sa_markets_served.locations.national_states",name:"brsr_report_data.sa_markets_served.locations.national_states",value:((W=(F=(de=o.brsr_report_data)==null?void 0:de.sa_markets_served)==null?void 0:F.locations)==null?void 0:W.national_states)||0,onChange:w}),a.jsx("label",{htmlFor:"sa_markets_served.locations.international_countries",children:"International (No. of Countries)"}),a.jsx("input",{type:"number",id:"sa_markets_served.locations.international_countries",name:"brsr_report_data.sa_markets_served.locations.international_countries",value:((O=(ue=(me=o.brsr_report_data)==null?void 0:me.sa_markets_served)==null?void 0:ue.locations)==null?void 0:O.international_countries)||0,onChange:w})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"sa_markets_served.exports_percentage",children:"Contribution of Exports to Total Turnover (%)"}),a.jsx("input",{type:"number",id:"sa_markets_served.exports_percentage",name:"brsr_report_data.sa_markets_served.exports_percentage",value:((ge=(J=o.brsr_report_data)==null?void 0:J.sa_markets_served)==null?void 0:ge.exports_percentage)||"",onChange:w,placeholder:"e.g., 40"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"sa_markets_served.customer_types",children:"Customer Types"}),a.jsx("input",{type:"text",id:"sa_markets_served.customer_types",name:"brsr_report_data.sa_markets_served.customer_types",value:((Ae=(_e=o.brsr_report_data)==null?void 0:_e.sa_markets_served)==null?void 0:Ae.customer_types)||"",onChange:w,placeholder:"e.g., B2B, B2C, Government"})]}),a.jsx("button",{type:"submit",className:"form-button",style:{borderRadius:24,padding:"10px 32px",fontSize:18,marginTop:24},children:"Save Changes"}),a.jsx("button",{type:"button",className:"form-button secondary",onClick:()=>s("/profile"),children:"Cancel"})]})]}):a.jsx("div",{className:"form-container",children:"No profile data found."}):a.jsx("div",{className:"form-container",children:"Redirecting to login..."})}function Pk(){const{session:r,loadingAuth:t}=D.useContext(ii),s=wr(),[i,c]=D.useState(""),[o,d]=D.useState("Standalone"),[h,p]=D.useState(""),[m,g]=D.useState(!1);D.useEffect(()=>{!t&&!r&&s("/login",{state:{message:"You must be logged in to generate a new report."}})},[r,t,s]);const v=async w=>{var R,A;if(w.preventDefault(),p(""),g(!0),!i){p("Financial Year is required."),g(!1);return}if(!/^\d{4}-\d{4}$/.test(i)){p("Please enter Financial Year in YYYY-YYYY format (e.g., 2023-2024)."),g(!1);return}try{const C=await kk({financial_year:i,reporting_boundary:o});C&&C.id?s(`/report-wizard/${C.id}/section-a`):p("Failed to initiate report. No report ID received.")}catch(k){console.error("Error initiating BRSR report:",k),p(((A=(R=k.response)==null?void 0:R.data)==null?void 0:A.message)||k.message||"Failed to start new report.")}finally{g(!1)}};if(t)return a.jsx("div",{className:"profile-page-container",children:"Loading authentication..."});if(!r)return a.jsx("div",{className:"profile-page-container",children:"Redirecting to login..."});const y=new Date().getFullYear(),E=Array.from({length:5},(w,R)=>{const A=y-R;return`${A-1}-${A}`});return E.unshift(`${y}-${y+1}`),a.jsxs("div",{className:"profile-page-container",children:[a.jsxs("header",{className:"profile-header",children:[a.jsx("h2",{children:"Generate New BRSR Report"}),a.jsx("p",{children:"Select the financial year and reporting type to begin your report."})]}),h&&a.jsx("p",{className:"error-message",style:{color:"red",marginTop:"10px"},children:h}),a.jsxs("form",{onSubmit:v,className:"auth-form",style:{maxWidth:"500px",margin:"20px auto"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"financialYear",children:"Financial Year (e.g., 2023-2024)"}),a.jsxs("select",{id:"financialYear",value:i,onChange:w=>c(w.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select Financial Year"}),E.map(w=>a.jsx("option",{value:w,children:w},w))]}),a.jsx("input",{type:"text",id:"financialYearCustom",value:i,onChange:w=>c(w.target.value),placeholder:"Or type YYYY-YYYY",style:{marginTop:"5px"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"reportingBoundary",children:"Reporting Boundary"}),a.jsxs("select",{id:"reportingBoundary",value:o,onChange:w=>d(w.target.value),required:!0,children:[a.jsx("option",{value:"Standalone",children:"Standalone"}),a.jsx("option",{value:"Consolidated",children:"Consolidated"})]})]}),a.jsx("button",{type:"submit",className:"form-button",disabled:m,children:m?"Starting...":"Start Report"})]}),a.jsx("div",{style:{marginTop:"20px",textAlign:"center"},children:a.jsx(kn,{to:"/profile",className:"action-card-button",style:{textDecoration:"none"},children:"Back to Profile"})})]})}function Uk(){const{session:r,loadingAuth:t}=D.useContext(ii),s=wr(),[i,c]=D.useState([]),[o,d]=D.useState(!0),[h,p]=D.useState("");return D.useEffect(()=>{!t&&!r&&s("/login",{state:{message:"You must be logged in to view previous reports."}})},[r,t,s]),D.useEffect(()=>{!t&&r&&(d(!0),sr.get("/reports").then(m=>{c(m.data),p("")}).catch(m=>{var g,v;p(((v=(g=m.response)==null?void 0:g.data)==null?void 0:v.message)||m.message||"Failed to fetch reports")}).finally(()=>d(!1)))},[r,t]),t||o?a.jsx("div",{className:"profile-page-container",children:"Loading..."}):r?a.jsxs("div",{className:"profile-page-container",children:[" ",a.jsxs("header",{className:"profile-header",children:[a.jsx("h2",{children:"View Previous BRSR Reports"}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),a.jsx("p",{children:"Below are your company's previously generated BRSR reports. Click a row to view details."})]}),a.jsx("div",{style:{margin:"20px 0",padding:"20px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",width:"100%",maxWidth:"800px"},children:i.length===0?a.jsx("p",{style:{textAlign:"center",color:"#777"},children:a.jsx("i",{children:"No previous reports found."})}):a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa"},children:[a.jsx("th",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:"Financial Year"}),a.jsx("th",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:"Reporting Boundary"}),a.jsx("th",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:"Status"}),a.jsx("th",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:"Last Updated"}),a.jsx("th",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:"Action"})]})}),a.jsx("tbody",{children:i.map(m=>a.jsxs("tr",{style:{cursor:"pointer"},children:[a.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:m.financial_year}),a.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:m.reporting_boundary}),a.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:m.status}),a.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:new Date(m.updated_at).toLocaleDateString()}),a.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:a.jsx("button",{className:"action-card-button",style:{backgroundColor:"#6c757d"},onClick:()=>s(`/report-wizard/${m.id}/section-a`,{state:{readOnly:!0}}),children:"View Details"})})]},m.id))})]})}),a.jsx("div",{style:{marginTop:"20px"},children:a.jsx(kn,{to:"/profile",className:"action-card-button",children:"Back to Profile"})})]}):a.jsx("div",{className:"profile-page-container",children:"Redirecting to login..."})}const Lk=()=>{const{session:r,loadingAuth:t}=D.useContext(ii),s=Yn();return t?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f0f0",color:"#333"},children:a.jsx("h2",{children:"Loading authentication..."})}):r?a.jsx(vp,{}):a.jsx(wl,{to:"/login",state:{from:s},replace:!0})};class Mk extends ot.Component{constructor(s){super(s);c_(this,"handleRetry",()=>{this.setState(s=>({hasError:!1,error:null,errorInfo:null,retryCount:s.retryCount+1}))});c_(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,i){console.error("ErrorBoundary caught an error:",s,i),console.error("Production error caught:",{error:s.toString(),componentStack:i.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href}),this.setState({error:s,errorInfo:i})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f8f9fa",color:"#495057",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",maxWidth:"800px",margin:"0 auto"},children:a.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"40px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"600px"},children:[a.jsx("h2",{style:{marginBottom:"16px",color:"#dc3545",fontSize:"24px"},children:"Oops! Something went wrong"}),a.jsx("p",{style:{marginBottom:"24px",fontSize:"16px",lineHeight:"1.5",color:"#6c757d"},children:"We're sorry for the inconvenience. An unexpected error occurred while loading this part of the application."}),!1,a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[this.state.retryCount<3&&a.jsx("button",{onClick:this.handleRetry,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Try Again"}),a.jsx("button",{onClick:this.handleReload,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Reload Page"}),a.jsx("button",{onClick:()=>window.history.back(),style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},children:"Go Back"})]}),this.state.retryCount>0&&a.jsxs("p",{style:{marginTop:"16px",fontSize:"14px",color:"#6c757d"},children:["Retry attempts: ",this.state.retryCount]})]})}):this.props.children}}D.createContext();const Hr=({label:r,name:t,type:s="text",value:i,onChange:c,onBlur:o,placeholder:d,required:h=!1,disabled:p=!1,rows:m=3,min:g,max:v,step:y,options:E=[],multiple:w=!1,error:R,helperText:A,style:k,className:C,register:b,...j})=>{const N={width:"100%",padding:"8px 12px",border:"1px solid #ccc",borderRadius:4,fontSize:"1em",marginBottom:4,background:"#fff",fontFamily:"inherit",borderColor:R?"#dc3545":"#ccc",...k},T={fontWeight:500,marginBottom:6,display:"block",fontSize:"1em",color:"#333"},z={color:"#dc3545",fontSize:"0.875em",marginTop:4,marginBottom:8},X={color:"#6c757d",fontSize:"0.875em",marginTop:4,marginBottom:8},Q=b?{...b(t),...j}:{value:i||"",onChange:c,onBlur:o,...j},ne=()=>{switch(s){case"textarea":return a.jsx("textarea",{id:t,name:t,placeholder:d,required:h,disabled:p,rows:m,style:{...N,minHeight:60},className:C,...Q});case"select":return a.jsxs("select",{id:t,name:t,required:h,disabled:p,multiple:w,style:N,className:C,...Q,children:[!h&&!w&&a.jsx("option",{value:"",children:"Select an option"}),E.map((ce,M)=>a.jsx("option",{value:ce.value||ce,children:ce.label||ce},M))]});case"number":return a.jsx("input",{type:"number",id:t,name:t,placeholder:d,required:h,disabled:p,min:g,max:v,step:y,style:N,className:C,...Q});case"email":return a.jsx("input",{type:"email",id:t,name:t,placeholder:d,required:h,disabled:p,style:N,className:C,...Q});case"checkbox":return a.jsx("input",{type:"checkbox",id:t,name:t,required:h,disabled:p,style:{marginRight:8},className:C,...b?{...b(t)}:{checked:i||!1,onChange:c}});default:return a.jsx("input",{type:s,id:t,name:t,placeholder:d,required:h,disabled:p,style:N,className:C,...Q})}};return a.jsxs("div",{className:"form-field",style:{marginBottom:24},children:[a.jsxs("label",{htmlFor:t,style:T,children:[r,h&&a.jsx("span",{style:{color:"#dc3545",marginLeft:4},children:"*"})]}),ne(),R&&a.jsx("div",{style:z,children:R}),A&&!R&&a.jsx("div",{style:X,children:A})]})};var eu=r=>r.type==="checkbox",Ws=r=>r instanceof Date,Cn=r=>r==null;const fx=r=>typeof r=="object";var Ft=r=>!Cn(r)&&!Array.isArray(r)&&fx(r)&&!Ws(r),hx=r=>Ft(r)&&r.target?eu(r.target)?r.target.checked:r.target.value:r,zk=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,_x=(r,t)=>r.has(zk(t)),$k=r=>{const t=r.constructor&&r.constructor.prototype;return Ft(t)&&t.hasOwnProperty("isPrototypeOf")},Tp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hn(r){let t;const s=Array.isArray(r),i=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)t=new Date(r);else if(r instanceof Set)t=new Set(r);else if(!(Tp&&(r instanceof Blob||i))&&(s||Ft(r)))if(t=s?[]:{},!s&&!$k(r))t=r;else for(const c in r)r.hasOwnProperty(c)&&(t[c]=hn(r[c]));else return r;return t}var Df=r=>Array.isArray(r)?r.filter(Boolean):[],qt=r=>r===void 0,xe=(r,t,s)=>{if(!t||!Ft(r))return s;const i=Df(t.split(/[,[\].]+?/)).reduce((c,o)=>Cn(c)?c:c[o],r);return qt(i)||i===r?qt(r[t])?s:r[t]:i},In=r=>typeof r=="boolean",Op=r=>/^\w*$/.test(r),px=r=>Df(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(r,t,s)=>{let i=-1;const c=Op(t)?[t]:px(t),o=c.length,d=o-1;for(;++i<o;){const h=c[i];let p=s;if(i!==d){const m=r[h];p=Ft(m)||Array.isArray(m)?m:isNaN(+c[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;r[h]=p,r=r[h]}};const _f={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mx=ot.createContext(null),Fl=()=>ot.useContext(mx),Bf=r=>{const{children:t,...s}=r;return ot.createElement(mx.Provider,{value:s},t)};var gx=(r,t,s,i=!0)=>{const c={defaultValues:t._defaultValues};for(const o in r)Object.defineProperty(c,o,{get:()=>{const d=o;return t._proxyFormState[d]!==vr.all&&(t._proxyFormState[d]=!i||vr.all),s&&(s[d]=!0),r[d]}});return c};const Dp=typeof window<"u"?D.useLayoutEffect:D.useEffect;function qk(r){const t=Fl(),{control:s=t.control,disabled:i,name:c,exact:o}=r||{},[d,h]=ot.useState(s._formState),p=ot.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Dp(()=>s._subscribe({name:c,formState:p.current,exact:o,callback:m=>{!i&&h({...s._formState,...m})}}),[c,i,o]),ot.useEffect(()=>{p.current.isValid&&s._setValid(!0)},[s]),ot.useMemo(()=>gx(d,s,p.current,!1),[d,s])}var Vr=r=>typeof r=="string",yx=(r,t,s,i,c)=>Vr(r)?(i&&t.watch.add(r),xe(s,r,c)):Array.isArray(r)?r.map(o=>(i&&t.watch.add(o),xe(s,o))):(i&&(t.watchAll=!0),s);function Fk(r){const t=Fl(),{control:s=t.control,name:i,defaultValue:c,disabled:o,exact:d}=r||{},h=ot.useRef(c),[p,m]=ot.useState(s._getWatch(i,h.current));return Dp(()=>s._subscribe({name:i,formState:{values:!0},exact:d,callback:g=>!o&&m(yx(i,s._names,g.values||s._formValues,!1,h.current))}),[i,s,o,d]),ot.useEffect(()=>s._removeUnmounted()),p}function Xt(r){const t=Fl(),{name:s,disabled:i,control:c=t.control,shouldUnregister:o}=r,d=_x(c._names.array,s),h=Fk({control:c,name:s,defaultValue:xe(c._formValues,s,xe(c._defaultValues,s,r.defaultValue)),exact:!0}),p=qk({control:c,name:s,exact:!0}),m=ot.useRef(r),g=ot.useRef(c.register(s,{...r.rules,value:h,...In(r.disabled)?{disabled:r.disabled}:{}})),v=ot.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(p.errors,s)},isDirty:{enumerable:!0,get:()=>!!xe(p.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!xe(p.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!xe(p.validatingFields,s)},error:{enumerable:!0,get:()=>xe(p.errors,s)}}),[p,s]),y=ot.useCallback(A=>g.current.onChange({target:{value:hx(A),name:s},type:_f.CHANGE}),[s]),E=ot.useCallback(()=>g.current.onBlur({target:{value:xe(c._formValues,s),name:s},type:_f.BLUR}),[s,c._formValues]),w=ot.useCallback(A=>{const k=xe(c._fields,s);k&&A&&(k._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:C=>A.setCustomValidity(C),reportValidity:()=>A.reportValidity()})},[c._fields,s]),R=ot.useMemo(()=>({name:s,value:h,...In(i)||p.disabled?{disabled:p.disabled||i}:{},onChange:y,onBlur:E,ref:w}),[s,i,p.disabled,y,E,w,h]);return ot.useEffect(()=>{const A=c._options.shouldUnregister||o;c.register(s,{...m.current.rules,...In(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(C,b)=>{const j=xe(c._fields,C);j&&j._f&&(j._f.mount=b)};if(k(s,!0),A){const C=hn(xe(c._options.defaultValues,s));ht(c._defaultValues,s,C),qt(xe(c._formValues,s))&&ht(c._formValues,s,C)}return!d&&c.register(s),()=>{(d?A&&!c._state.action:A)?c.unregister(s):k(s,!1)}},[s,c,d,o]),ot.useEffect(()=>{c._setDisabledField({disabled:i,name:s})},[i,s,c]),ot.useMemo(()=>({field:R,formState:p,fieldState:v}),[R,p,v])}var Bp=(r,t,s,i,c)=>t?{...s[r],types:{...s[r]&&s[r].types?s[r].types:{},[i]:c||!0}}:{},$c=r=>Array.isArray(r)?r:[r],xv=()=>{let r=[];return{get observers(){return r},next:c=>{for(const o of r)o.next&&o.next(c)},subscribe:c=>(r.push(c),{unsubscribe:()=>{r=r.filter(o=>o!==c)}}),unsubscribe:()=>{r=[]}}},ep=r=>Cn(r)||!fx(r);function gs(r,t){if(ep(r)||ep(t))return r===t;if(Ws(r)&&Ws(t))return r.getTime()===t.getTime();const s=Object.keys(r),i=Object.keys(t);if(s.length!==i.length)return!1;for(const c of s){const o=r[c];if(!i.includes(c))return!1;if(c!=="ref"){const d=t[c];if(Ws(o)&&Ws(d)||Ft(o)&&Ft(d)||Array.isArray(o)&&Array.isArray(d)?!gs(o,d):o!==d)return!1}}return!0}var On=r=>Ft(r)&&!Object.keys(r).length,Pp=r=>r.type==="file",br=r=>typeof r=="function",pf=r=>{if(!Tp)return!1;const t=r?r.ownerDocument:0;return r instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vx=r=>r.type==="select-multiple",Up=r=>r.type==="radio",Ik=r=>Up(r)||eu(r),R_=r=>pf(r)&&r.isConnected;function Hk(r,t){const s=t.slice(0,-1).length;let i=0;for(;i<s;)r=qt(r)?i++:r[t[i++]];return r}function Vk(r){for(const t in r)if(r.hasOwnProperty(t)&&!qt(r[t]))return!1;return!0}function Kt(r,t){const s=Array.isArray(t)?t:Op(t)?[t]:px(t),i=s.length===1?r:Hk(r,s),c=s.length-1,o=s[c];return i&&delete i[o],c!==0&&(Ft(i)&&On(i)||Array.isArray(i)&&Vk(i))&&Kt(r,s.slice(0,-1)),r}var bx=r=>{for(const t in r)if(br(r[t]))return!0;return!1};function mf(r,t={}){const s=Array.isArray(r);if(Ft(r)||s)for(const i in r)Array.isArray(r[i])||Ft(r[i])&&!bx(r[i])?(t[i]=Array.isArray(r[i])?[]:{},mf(r[i],t[i])):Cn(r[i])||(t[i]=!0);return t}function xx(r,t,s){const i=Array.isArray(r);if(Ft(r)||i)for(const c in r)Array.isArray(r[c])||Ft(r[c])&&!bx(r[c])?qt(t)||ep(s[c])?s[c]=Array.isArray(r[c])?mf(r[c],[]):{...mf(r[c])}:xx(r[c],Cn(t)?{}:t[c],s[c]):s[c]=!gs(r[c],t[c]);return s}var Tc=(r,t)=>xx(r,t,mf(t));const jv={value:!1,isValid:!1},wv={value:!0,isValid:!0};var jx=r=>{if(Array.isArray(r)){if(r.length>1){const t=r.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!qt(r[0].attributes.value)?qt(r[0].value)||r[0].value===""?wv:{value:r[0].value,isValid:!0}:wv:jv}return jv},wx=(r,{valueAsNumber:t,valueAsDate:s,setValueAs:i})=>qt(r)?r:t?r===""?NaN:r&&+r:s&&Vr(r)?new Date(r):i?i(r):r;const Sv={isValid:!1,value:null};var Sx=r=>Array.isArray(r)?r.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,Sv):Sv;function Cv(r){const t=r.ref;return Pp(t)?t.files:Up(t)?Sx(r.refs).value:vx(t)?[...t.selectedOptions].map(({value:s})=>s):eu(t)?jx(r.refs).value:wx(qt(t.value)?r.ref.value:t.value,r)}var Yk=(r,t,s,i)=>{const c={};for(const o of r){const d=xe(t,o);d&&ht(c,o,d._f)}return{criteriaMode:s,names:[...r],fields:c,shouldUseNativeValidation:i}},gf=r=>r instanceof RegExp,Oc=r=>qt(r)?r:gf(r)?r.source:Ft(r)?gf(r.value)?r.value.source:r.value:r,kv=r=>({isOnSubmit:!r||r===vr.onSubmit,isOnBlur:r===vr.onBlur,isOnChange:r===vr.onChange,isOnAll:r===vr.all,isOnTouch:r===vr.onTouched});const Ev="AsyncFunction";var Gk=r=>!!r&&!!r.validate&&!!(br(r.validate)&&r.validate.constructor.name===Ev||Ft(r.validate)&&Object.values(r.validate).find(t=>t.constructor.name===Ev)),Zk=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),Av=(r,t,s)=>!s&&(t.watchAll||t.watch.has(r)||[...t.watch].some(i=>r.startsWith(i)&&/^\.\w+/.test(r.slice(i.length))));const qc=(r,t,s,i)=>{for(const c of s||Object.keys(r)){const o=xe(r,c);if(o){const{_f:d,...h}=o;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],c)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(qc(h,t))break}else if(Ft(h)&&qc(h,t))break}}};function Rv(r,t,s){const i=xe(r,s);if(i||Op(s))return{error:i,name:s};const c=s.split(".");for(;c.length;){const o=c.join("."),d=xe(t,o),h=xe(r,o);if(d&&!Array.isArray(d)&&s!==o)return{name:s};if(h&&h.type)return{name:o,error:h};if(h&&h.root&&h.root.type)return{name:`${o}.root`,error:h.root};c.pop()}return{name:s}}var Qk=(r,t,s,i)=>{s(r);const{name:c,...o}=r;return On(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!i||vr.all))},Kk=(r,t,s)=>!r||!t||r===t||$c(r).some(i=>i&&(s?i===t:i.startsWith(t)||t.startsWith(i))),Xk=(r,t,s,i,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(t||r):(s?i.isOnBlur:c.isOnBlur)?!r:(s?i.isOnChange:c.isOnChange)?r:!0,Jk=(r,t)=>!Df(xe(r,t)).length&&Kt(r,t),Wk=(r,t,s)=>{const i=$c(xe(r,s));return ht(i,"root",t[s]),ht(r,s,i),r},of=r=>Vr(r);function Nv(r,t,s="validate"){if(of(r)||Array.isArray(r)&&r.every(of)||In(r)&&!r)return{type:s,message:of(r)?r:"",ref:t}}var bl=r=>Ft(r)&&!gf(r)?r:{value:r,message:""},Tv=async(r,t,s,i,c,o)=>{const{ref:d,refs:h,required:p,maxLength:m,minLength:g,min:v,max:y,pattern:E,validate:w,name:R,valueAsNumber:A,mount:k}=r._f,C=xe(s,R);if(!k||t.has(R))return{};const b=h?h[0]:d,j=M=>{c&&b.reportValidity&&(b.setCustomValidity(In(M)?"":M||""),b.reportValidity())},N={},T=Up(d),z=eu(d),X=T||z,Q=(A||Pp(d))&&qt(d.value)&&qt(C)||pf(d)&&d.value===""||C===""||Array.isArray(C)&&!C.length,ne=Bp.bind(null,R,i,N),ce=(M,B,I,de=xa.maxLength,F=xa.minLength)=>{const W=M?B:I;N[R]={type:M?de:F,message:W,ref:d,...ne(M?de:F,W)}};if(o?!Array.isArray(C)||!C.length:p&&(!X&&(Q||Cn(C))||In(C)&&!C||z&&!jx(h).isValid||T&&!Sx(h).isValid)){const{value:M,message:B}=of(p)?{value:!!p,message:p}:bl(p);if(M&&(N[R]={type:xa.required,message:B,ref:b,...ne(xa.required,B)},!i))return j(B),N}if(!Q&&(!Cn(v)||!Cn(y))){let M,B;const I=bl(y),de=bl(v);if(!Cn(C)&&!isNaN(C)){const F=d.valueAsNumber||C&&+C;Cn(I.value)||(M=F>I.value),Cn(de.value)||(B=F<de.value)}else{const F=d.valueAsDate||new Date(C),W=O=>new Date(new Date().toDateString()+" "+O),me=d.type=="time",ue=d.type=="week";Vr(I.value)&&C&&(M=me?W(C)>W(I.value):ue?C>I.value:F>new Date(I.value)),Vr(de.value)&&C&&(B=me?W(C)<W(de.value):ue?C<de.value:F<new Date(de.value))}if((M||B)&&(ce(!!M,I.message,de.message,xa.max,xa.min),!i))return j(N[R].message),N}if((m||g)&&!Q&&(Vr(C)||o&&Array.isArray(C))){const M=bl(m),B=bl(g),I=!Cn(M.value)&&C.length>+M.value,de=!Cn(B.value)&&C.length<+B.value;if((I||de)&&(ce(I,M.message,B.message),!i))return j(N[R].message),N}if(E&&!Q&&Vr(C)){const{value:M,message:B}=bl(E);if(gf(M)&&!C.match(M)&&(N[R]={type:xa.pattern,message:B,ref:d,...ne(xa.pattern,B)},!i))return j(B),N}if(w){if(br(w)){const M=await w(C,s),B=Nv(M,b);if(B&&(N[R]={...B,...ne(xa.validate,B.message)},!i))return j(B.message),N}else if(Ft(w)){let M={};for(const B in w){if(!On(M)&&!i)break;const I=Nv(await w[B](C,s),b,B);I&&(M={...I,...ne(B,I.message)},j(I.message),i&&(N[R]=M))}if(!On(M)&&(N[R]={ref:b,...M},!i))return N}}return j(!0),N};const eE={mode:vr.onSubmit,reValidateMode:vr.onChange,shouldFocusError:!0};function tE(r={}){let t={...eE,...r},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const i={};let c=Ft(t.defaultValues)||Ft(t.values)?hn(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:hn(c),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const y={array:xv(),state:xv()},E=t.criteriaMode===vr.all,w=U=>V=>{clearTimeout(m),m=setTimeout(U,V)},R=async U=>{if(!t.disabled&&(g.isValid||v.isValid||U)){const V=t.resolver?On((await z()).errors):await Q(i,!0);V!==s.isValid&&y.state.next({isValid:V})}},A=(U,V)=>{!t.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((U||Array.from(h.mount)).forEach(ee=>{ee&&(V?ht(s.validatingFields,ee,V):Kt(s.validatingFields,ee))}),y.state.next({validatingFields:s.validatingFields,isValidating:!On(s.validatingFields)}))},k=(U,V=[],ee,ye,pe=!0,fe=!0)=>{if(ye&&ee&&!t.disabled){if(d.action=!0,fe&&Array.isArray(xe(i,U))){const Ce=ee(xe(i,U),ye.argA,ye.argB);pe&&ht(i,U,Ce)}if(fe&&Array.isArray(xe(s.errors,U))){const Ce=ee(xe(s.errors,U),ye.argA,ye.argB);pe&&ht(s.errors,U,Ce),Jk(s.errors,U)}if((g.touchedFields||v.touchedFields)&&fe&&Array.isArray(xe(s.touchedFields,U))){const Ce=ee(xe(s.touchedFields,U),ye.argA,ye.argB);pe&&ht(s.touchedFields,U,Ce)}(g.dirtyFields||v.dirtyFields)&&(s.dirtyFields=Tc(c,o)),y.state.next({name:U,isDirty:ce(U,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ht(o,U,V)},C=(U,V)=>{ht(s.errors,U,V),y.state.next({errors:s.errors})},b=U=>{s.errors=U,y.state.next({errors:s.errors,isValid:!1})},j=(U,V,ee,ye)=>{const pe=xe(i,U);if(pe){const fe=xe(o,U,qt(ee)?xe(c,U):ee);qt(fe)||ye&&ye.defaultChecked||V?ht(o,U,V?fe:Cv(pe._f)):I(U,fe),d.mount&&R()}},N=(U,V,ee,ye,pe)=>{let fe=!1,Ce=!1;const ze={name:U};if(!t.disabled){if(!ee||ye){(g.isDirty||v.isDirty)&&(Ce=s.isDirty,s.isDirty=ze.isDirty=ce(),fe=Ce!==ze.isDirty);const Qe=gs(xe(c,U),V);Ce=!!xe(s.dirtyFields,U),Qe?Kt(s.dirtyFields,U):ht(s.dirtyFields,U,!0),ze.dirtyFields=s.dirtyFields,fe=fe||(g.dirtyFields||v.dirtyFields)&&Ce!==!Qe}if(ee){const Qe=xe(s.touchedFields,U);Qe||(ht(s.touchedFields,U,ee),ze.touchedFields=s.touchedFields,fe=fe||(g.touchedFields||v.touchedFields)&&Qe!==ee)}fe&&pe&&y.state.next(ze)}return fe?ze:{}},T=(U,V,ee,ye)=>{const pe=xe(s.errors,U),fe=(g.isValid||v.isValid)&&In(V)&&s.isValid!==V;if(t.delayError&&ee?(p=w(()=>C(U,ee)),p(t.delayError)):(clearTimeout(m),p=null,ee?ht(s.errors,U,ee):Kt(s.errors,U)),(ee?!gs(pe,ee):pe)||!On(ye)||fe){const Ce={...ye,...fe&&In(V)?{isValid:V}:{},errors:s.errors,name:U};s={...s,...Ce},y.state.next(Ce)}},z=async U=>{A(U,!0);const V=await t.resolver(o,t.context,Yk(U||h.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return A(U),V},X=async U=>{const{errors:V}=await z(U);if(U)for(const ee of U){const ye=xe(V,ee);ye?ht(s.errors,ee,ye):Kt(s.errors,ee)}else s.errors=V;return V},Q=async(U,V,ee={valid:!0})=>{for(const ye in U){const pe=U[ye];if(pe){const{_f:fe,...Ce}=pe;if(fe){const ze=h.array.has(fe.name),Qe=pe._f&&Gk(pe._f);Qe&&g.validatingFields&&A([ye],!0);const pt=await Tv(pe,h.disabled,o,E,t.shouldUseNativeValidation&&!V,ze);if(Qe&&g.validatingFields&&A([ye]),pt[fe.name]&&(ee.valid=!1,V))break;!V&&(xe(pt,fe.name)?ze?Wk(s.errors,pt,fe.name):ht(s.errors,fe.name,pt[fe.name]):Kt(s.errors,fe.name))}!On(Ce)&&await Q(Ce,V,ee)}}return ee.valid},ne=()=>{for(const U of h.unMount){const V=xe(i,U);V&&(V._f.refs?V._f.refs.every(ee=>!R_(ee)):!R_(V._f.ref))&&ke(U)}h.unMount=new Set},ce=(U,V)=>!t.disabled&&(U&&V&&ht(o,U,V),!gs(O(),c)),M=(U,V,ee)=>yx(U,h,{...d.mount?o:qt(V)?c:Vr(U)?{[U]:V}:V},ee,V),B=U=>Df(xe(d.mount?o:c,U,t.shouldUnregister?xe(c,U,[]):[])),I=(U,V,ee={})=>{const ye=xe(i,U);let pe=V;if(ye){const fe=ye._f;fe&&(!fe.disabled&&ht(o,U,wx(V,fe)),pe=pf(fe.ref)&&Cn(V)?"":V,vx(fe.ref)?[...fe.ref.options].forEach(Ce=>Ce.selected=pe.includes(Ce.value)):fe.refs?eu(fe.ref)?fe.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(pe)?Ce.checked=!!pe.find(ze=>ze===Ce.value):Ce.checked=pe===Ce.value||!!pe)}):fe.refs.forEach(Ce=>Ce.checked=Ce.value===pe):Pp(fe.ref)?fe.ref.value="":(fe.ref.value=pe,fe.ref.type||y.state.next({name:U,values:hn(o)})))}(ee.shouldDirty||ee.shouldTouch)&&N(U,pe,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&ue(U)},de=(U,V,ee)=>{for(const ye in V){if(!V.hasOwnProperty(ye))return;const pe=V[ye],fe=U+"."+ye,Ce=xe(i,fe);(h.array.has(U)||Ft(pe)||Ce&&!Ce._f)&&!Ws(pe)?de(fe,pe,ee):I(fe,pe,ee)}},F=(U,V,ee={})=>{const ye=xe(i,U),pe=h.array.has(U),fe=hn(V);ht(o,U,fe),pe?(y.array.next({name:U,values:hn(o)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&ee.shouldDirty&&y.state.next({name:U,dirtyFields:Tc(c,o),isDirty:ce(U,fe)})):ye&&!ye._f&&!Cn(fe)?de(U,fe,ee):I(U,fe,ee),Av(U,h)&&y.state.next({...s}),y.state.next({name:d.mount?U:void 0,values:hn(o)})},W=async U=>{d.mount=!0;const V=U.target;let ee=V.name,ye=!0;const pe=xe(i,ee),fe=Qe=>{ye=Number.isNaN(Qe)||Ws(Qe)&&isNaN(Qe.getTime())||gs(Qe,xe(o,ee,Qe))},Ce=kv(t.mode),ze=kv(t.reValidateMode);if(pe){let Qe,pt;const Zr=V.type?Cv(pe._f):hx(U),Pn=U.type===_f.BLUR||U.type===_f.FOCUS_OUT,li=!Zk(pe._f)&&!t.resolver&&!xe(s.errors,ee)&&!pe._f.deps||Xk(Pn,xe(s.touchedFields,ee),s.isSubmitted,ze,Ce),ur=Av(ee,h,Pn);ht(o,ee,Zr),Pn?(pe._f.onBlur&&pe._f.onBlur(U),p&&p(0)):pe._f.onChange&&pe._f.onChange(U);const dr=N(ee,Zr,Pn),Gn=!On(dr)||ur;if(!Pn&&y.state.next({name:ee,type:U.type,values:hn(o)}),li)return(g.isValid||v.isValid)&&(t.mode==="onBlur"?Pn&&R():Pn||R()),Gn&&y.state.next({name:ee,...ur?{}:dr});if(!Pn&&ur&&y.state.next({...s}),t.resolver){const{errors:Cr}=await z([ee]);if(fe(Zr),ye){const kr=Rv(s.errors,i,ee),Ss=Rv(Cr,i,kr.name||ee);Qe=Ss.error,ee=Ss.name,pt=On(Cr)}}else A([ee],!0),Qe=(await Tv(pe,h.disabled,o,E,t.shouldUseNativeValidation))[ee],A([ee]),fe(Zr),ye&&(Qe?pt=!1:(g.isValid||v.isValid)&&(pt=await Q(i,!0)));ye&&(pe._f.deps&&ue(pe._f.deps),T(ee,pt,Qe,dr))}},me=(U,V)=>{if(xe(s.errors,V)&&U.focus)return U.focus(),1},ue=async(U,V={})=>{let ee,ye;const pe=$c(U);if(t.resolver){const fe=await X(qt(U)?U:pe);ee=On(fe),ye=U?!pe.some(Ce=>xe(fe,Ce)):ee}else U?(ye=(await Promise.all(pe.map(async fe=>{const Ce=xe(i,fe);return await Q(Ce&&Ce._f?{[fe]:Ce}:Ce)}))).every(Boolean),!(!ye&&!s.isValid)&&R()):ye=ee=await Q(i);return y.state.next({...!Vr(U)||(g.isValid||v.isValid)&&ee!==s.isValid?{}:{name:U},...t.resolver||!U?{isValid:ee}:{},errors:s.errors}),V.shouldFocus&&!ye&&qc(i,me,U?pe:h.mount),ye},O=U=>{const V={...d.mount?o:c};return qt(U)?V:Vr(U)?xe(V,U):U.map(ee=>xe(V,ee))},J=(U,V)=>({invalid:!!xe((V||s).errors,U),isDirty:!!xe((V||s).dirtyFields,U),error:xe((V||s).errors,U),isValidating:!!xe(s.validatingFields,U),isTouched:!!xe((V||s).touchedFields,U)}),ge=U=>{U&&$c(U).forEach(V=>Kt(s.errors,V)),y.state.next({errors:U?s.errors:{}})},_e=(U,V,ee)=>{const ye=(xe(i,U,{_f:{}})._f||{}).ref,pe=xe(s.errors,U)||{},{ref:fe,message:Ce,type:ze,...Qe}=pe;ht(s.errors,U,{...Qe,...V,ref:ye}),y.state.next({name:U,errors:s.errors,isValid:!1}),ee&&ee.shouldFocus&&ye&&ye.focus&&ye.focus()},Ae=(U,V)=>br(U)?y.state.subscribe({next:ee=>U(M(void 0,V),ee)}):M(U,V,!0),Se=U=>y.state.subscribe({next:V=>{Kk(U.name,V.name,U.exact)&&Qk(V,U.formState||g,At,U.reRenderRoot)&&U.callback({values:{...o},...s,...V})}}).unsubscribe,le=U=>(d.mount=!0,v={...v,...U.formState},Se({...U,formState:v})),ke=(U,V={})=>{for(const ee of U?$c(U):h.mount)h.mount.delete(ee),h.array.delete(ee),V.keepValue||(Kt(i,ee),Kt(o,ee)),!V.keepError&&Kt(s.errors,ee),!V.keepDirty&&Kt(s.dirtyFields,ee),!V.keepTouched&&Kt(s.touchedFields,ee),!V.keepIsValidating&&Kt(s.validatingFields,ee),!t.shouldUnregister&&!V.keepDefaultValue&&Kt(c,ee);y.state.next({values:hn(o)}),y.state.next({...s,...V.keepDirty?{isDirty:ce()}:{}}),!V.keepIsValid&&R()},we=({disabled:U,name:V})=>{(In(U)&&d.mount||U||h.disabled.has(V))&&(U?h.disabled.add(V):h.disabled.delete(V))},Et=(U,V={})=>{let ee=xe(i,U);const ye=In(V.disabled)||In(t.disabled);return ht(i,U,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:U}},name:U,mount:!0,...V}}),h.mount.add(U),ee?we({disabled:In(V.disabled)?V.disabled:t.disabled,name:U}):j(U,!0,V.value),{...ye?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:Oc(V.min),max:Oc(V.max),minLength:Oc(V.minLength),maxLength:Oc(V.maxLength),pattern:Oc(V.pattern)}:{},name:U,onChange:W,onBlur:W,ref:pe=>{if(pe){Et(U,V),ee=xe(i,U);const fe=qt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Ce=Ik(fe),ze=ee._f.refs||[];if(Ce?ze.find(Qe=>Qe===fe):fe===ee._f.ref)return;ht(i,U,{_f:{...ee._f,...Ce?{refs:[...ze.filter(R_),fe,...Array.isArray(xe(c,U))?[{}]:[]],ref:{type:fe.type,name:U}}:{ref:fe}}}),j(U,!1,void 0,fe)}else ee=xe(i,U,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(_x(h.array,U)&&d.action)&&h.unMount.add(U)}}},It=()=>t.shouldFocusError&&qc(i,me,h.mount),oe=U=>{In(U)&&(y.state.next({disabled:U}),qc(i,(V,ee)=>{const ye=xe(i,ee);ye&&(V.disabled=ye._f.disabled||U,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(pe=>{pe.disabled=ye._f.disabled||U}))},0,!1))},et=(U,V)=>async ee=>{let ye;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let pe=hn(o);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:fe,values:Ce}=await z();s.errors=fe,pe=Ce}else await Q(i);if(h.disabled.size)for(const fe of h.disabled)ht(pe,fe,void 0);if(Kt(s.errors,"root"),On(s.errors)){y.state.next({errors:{}});try{await U(pe,ee)}catch(fe){ye=fe}}else V&&await V({...s.errors},ee),It(),setTimeout(It);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(s.errors)&&!ye,submitCount:s.submitCount+1,errors:s.errors}),ye)throw ye},st=(U,V={})=>{xe(i,U)&&(qt(V.defaultValue)?F(U,hn(xe(c,U))):(F(U,V.defaultValue),ht(c,U,hn(V.defaultValue))),V.keepTouched||Kt(s.touchedFields,U),V.keepDirty||(Kt(s.dirtyFields,U),s.isDirty=V.defaultValue?ce(U,hn(xe(c,U))):ce()),V.keepError||(Kt(s.errors,U),g.isValid&&R()),y.state.next({...s}))},$e=(U,V={})=>{const ee=U?hn(U):c,ye=hn(ee),pe=On(U),fe=pe?c:ye;if(V.keepDefaultValues||(c=ee),!V.keepValues){if(V.keepDirtyValues){const Ce=new Set([...h.mount,...Object.keys(Tc(c,o))]);for(const ze of Array.from(Ce))xe(s.dirtyFields,ze)?ht(fe,ze,xe(o,ze)):F(ze,xe(fe,ze))}else{if(Tp&&qt(U))for(const Ce of h.mount){const ze=xe(i,Ce);if(ze&&ze._f){const Qe=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(pf(Qe)){const pt=Qe.closest("form");if(pt){pt.reset();break}}}}for(const Ce of h.mount)F(Ce,xe(fe,Ce))}o=hn(fe),y.array.next({values:{...fe}}),y.state.next({values:{...fe}})}h={mount:V.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!g.isValid||!!V.keepIsValid||!!V.keepDirtyValues,d.watch=!!t.shouldUnregister,y.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:pe?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!gs(U,c)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:pe?{}:V.keepDirtyValues?V.keepDefaultValues&&o?Tc(c,o):s.dirtyFields:V.keepDefaultValues&&U?Tc(c,U):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},vt=(U,V)=>$e(br(U)?U(o):U,V),_t=(U,V={})=>{const ee=xe(i,U),ye=ee&&ee._f;if(ye){const pe=ye.refs?ye.refs[0]:ye.ref;pe.focus&&(pe.focus(),V.shouldSelect&&br(pe.select)&&pe.select())}},At=U=>{s={...s,...U}},wt={control:{register:Et,unregister:ke,getFieldState:J,handleSubmit:et,setError:_e,_subscribe:Se,_runSchema:z,_focusError:It,_getWatch:M,_getDirty:ce,_setValid:R,_setFieldArray:k,_setDisabledField:we,_setErrors:b,_getFieldArray:B,_reset:$e,_resetDefaultValues:()=>br(t.defaultValues)&&t.defaultValues().then(U=>{vt(U,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:ne,_disableForm:oe,_subjects:y,_proxyFormState:g,get _fields(){return i},get _formValues(){return o},get _state(){return d},set _state(U){d=U},get _defaultValues(){return c},get _names(){return h},set _names(U){h=U},get _formState(){return s},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:le,trigger:ue,register:Et,handleSubmit:et,watch:Ae,setValue:F,getValues:O,reset:vt,resetField:st,clearErrors:ge,unregister:ke,setError:_e,setFocus:_t,getFieldState:J};return{...wt,formControl:wt}}function Pf(r={}){const t=ot.useRef(void 0),s=ot.useRef(void 0),[i,c]=ot.useState({isDirty:!1,isValidating:!1,isLoading:br(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:br(r.defaultValues)?void 0:r.defaultValues});t.current||(t.current={...r.formControl?r.formControl:tE(r),formState:i},r.formControl&&r.defaultValues&&!br(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const o=t.current.control;return o._options=r,Dp(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>c({...o._formState}),reRenderRoot:!0});return c(h=>({...h,isReady:!0})),o._formState.isReady=!0,d},[o]),ot.useEffect(()=>o._disableForm(r.disabled),[o,r.disabled]),ot.useEffect(()=>{r.mode&&(o._options.mode=r.mode),r.reValidateMode&&(o._options.reValidateMode=r.reValidateMode)},[o,r.mode,r.reValidateMode]),ot.useEffect(()=>{r.errors&&(o._setErrors(r.errors),o._focusError())},[o,r.errors]),ot.useEffect(()=>{r.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,r.shouldUnregister]),ot.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==i.isDirty&&o._subjects.state.next({isDirty:d})}},[o,i.isDirty]),ot.useEffect(()=>{r.values&&!gs(r.values,s.current)?(o._reset(r.values,o._options.resetOptions),s.current=r.values,c(d=>({...d}))):o._resetDefaultValues()},[o,r.values]),ot.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=gx(i,o),t.current}const ae=({name:r,control:t,label:s,type:i="text",placeholder:c,required:o=!1,className:d="",style:h={},as:p="input",rows:m,options:g=[],multiple:v=!1,children:y,...E})=>{const{field:{onChange:w,onBlur:R,value:A,name:k,ref:C},fieldState:{invalid:b,error:j},formState:{isSubmitting:N}}=Xt({name:r,control:t,defaultValue:i==="checkbox"?!1:p==="select"&&v?[]:""}),T={width:"100%",padding:"8px 12px",border:`1px solid ${b?"#dc3545":"#ccc"}`,borderRadius:4,fontSize:"1em",marginBottom:12,background:"#fff",fontFamily:"inherit",...h},z={...T,minHeight:60,resize:"vertical"},X={...T,cursor:"pointer"},Q={marginRight:8,transform:"scale(1.1)"},ne={fontWeight:500,marginBottom:6,display:i==="checkbox"?"flex":"block",alignItems:i==="checkbox"?"center":"flex-start",fontSize:"1em",color:"#333"},ce={color:"#dc3545",fontSize:"0.875em",marginTop:4,marginBottom:8},M=()=>{switch(p){case"textarea":return a.jsx("textarea",{...E,ref:C,name:k,value:A||"",onChange:w,onBlur:R,placeholder:c,rows:m||3,disabled:N,style:z,className:d});case"select":return a.jsxs("select",{...E,ref:C,name:k,value:A||(v?[]:""),onChange:B=>{if(v){const I=Array.from(B.target.selectedOptions,de=>de.value);w(I)}else w(B.target.value)},onBlur:R,disabled:N,multiple:v,style:X,className:d,children:[!v&&a.jsx("option",{value:"",children:"Select..."}),g.map(B=>a.jsx("option",{value:B.value,children:B.label},B.value)),y]});default:return i==="checkbox"?a.jsx("input",{...E,ref:C,type:"checkbox",name:k,checked:!!A,onChange:B=>w(B.target.checked),onBlur:R,disabled:N,style:Q,className:d}):a.jsx("input",{...E,ref:C,type:i,name:k,value:A||"",onChange:w,onBlur:R,placeholder:c,disabled:N,style:T,className:d})}};return a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("label",{style:ne,children:[i==="checkbox"&&M(),s,o&&a.jsx("span",{style:{color:"#dc3545",marginLeft:4},children:"*"})]}),i!=="checkbox"&&M(),j&&a.jsx("div",{style:ce,children:j.message})]})},$t=({title:r,description:t,children:s,style:i,className:c,variant:o="default",...d})=>{const h=()=>{const g={background:"#f8f9fa",borderRadius:8,padding:20,marginBottom:24,boxShadow:"0 1px 4px rgba(0,0,0,0.04)"};switch(o){case"compact":return{...g,padding:16,marginBottom:16};case"bordered":return{...g,background:"#fff",border:"1px solid #e0e0e0",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"};case"card":return{maxWidth:700,margin:"40px auto",background:"#fff",borderRadius:16,boxShadow:"0 2px 16px rgba(0,0,0,0.08)",padding:32};default:return g}},p={fontSize:"1.25rem",fontWeight:600,color:"#333",marginBottom:t?8:16,paddingBottom:8,borderBottom:"2px solid #e9ecef"},m={fontSize:"0.9rem",color:"#6c757d",marginBottom:20,lineHeight:1.5};return a.jsxs("div",{className:`form-section ${c||""}`,style:{...h(),...i},...d,children:[r&&a.jsx("h3",{style:p,children:r}),t&&a.jsx("p",{style:m,children:t}),s]})},Uf=({errors:r={},title:t="Please fix the following errors:",showTitle:s=!0,style:i,className:c,variant:o="default",...d})=>{const h=Object.entries(r).filter(([E,w])=>w);if(h.length===0)return null;const p=()=>{const E={background:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:4,padding:16,marginBottom:20,color:"#721c24"};switch(o){case"compact":return{...E,padding:12,marginBottom:16,fontSize:"0.9rem"};case"inline":return{...E,background:"transparent",border:"none",padding:0,marginBottom:12};default:return E}},m={fontSize:"1rem",fontWeight:600,marginBottom:12,color:"#721c24"},g={margin:0,paddingLeft:20,listStyleType:"disc"},v={marginBottom:8,lineHeight:1.4},y={color:"#dc3545",fontSize:"0.875rem",marginBottom:4};return o==="inline"?a.jsx("div",{className:`validation-summary ${c||""}`,style:{...p(),...i},...d,children:h.map(([E,w])=>a.jsx("div",{style:y,children:w},E))}):a.jsxs("div",{className:`validation-summary ${c||""}`,style:{...p(),...i},...d,children:[s&&a.jsx("div",{style:m,children:t}),a.jsx("ul",{style:g,children:h.map(([E,w])=>a.jsx("li",{style:v,children:w},E))})]})},Gr=({children:r,type:t="button",variant:s="primary",size:i="medium",disabled:c=!1,loading:o=!1,fullWidth:d=!1,onClick:h,style:p,className:m,...g})=>{const v=()=>{const R={primary:{background:"#007bff",color:"#fff",borderColor:"#007bff"},secondary:{background:"#6c757d",color:"#fff",borderColor:"#6c757d"},success:{background:"#28a745",color:"#fff",borderColor:"#28a745"},danger:{background:"#dc3545",color:"#fff",borderColor:"#dc3545"},warning:{background:"#ffc107",color:"#212529",borderColor:"#ffc107"},info:{background:"#17a2b8",color:"#fff",borderColor:"#17a2b8"}};return R[s]||R.primary},y=()=>{const R={small:{padding:"6px 12px",fontSize:"0.875rem"},medium:{padding:"10px 20px",fontSize:"1rem"},large:{padding:"14px 28px",fontSize:"1.125rem"}};return R[i]||R.medium},E={border:"1px solid transparent",borderRadius:6,fontWeight:600,textAlign:"center",cursor:c||o?"not-allowed":"pointer",transition:"all 0.2s ease-in-out",boxShadow:"0 1px 4px rgba(0,0,0,0.06)",fontFamily:"inherit",width:d?"100%":"auto",opacity:c||o?.65:1,...v(),...y()},w=R=>{if(c||o){R.preventDefault();return}h&&h(R)};return a.jsxs("button",{type:t,disabled:c||o,onClick:w,className:`btn btn-${s} btn-${i} ${m||""}`,style:{...E,...p},...g,children:[o&&a.jsx("span",{style:{marginRight:8},children:"⏳"}),r]})},Lf=({size:r="medium",color:t="#007bff",text:s="Loading...",showText:i=!0,style:c,className:o,...d})=>{const p=(()=>{const y={small:{width:20,height:20,borderWidth:2},medium:{width:32,height:32,borderWidth:3},large:{width:48,height:48,borderWidth:4}};return y[r]||y.medium})(),m={border:`${p.borderWidth}px solid #f3f3f3`,borderTop:`${p.borderWidth}px solid ${t}`,borderRadius:"50%",width:p.width,height:p.height,animation:"spin 1s linear infinite",margin:i?"0 auto 12px":"0 auto"},g={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:20,...c},v={fontSize:r==="small"?"0.875rem":r==="large"?"1.125rem":"1rem",color:"#6c757d",fontWeight:500};return a.jsxs("div",{className:`loading-spinner ${o||""}`,style:g,...d,children:[a.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `}),a.jsx("div",{style:m}),i&&s&&a.jsx("div",{style:v,children:s})]})},Ov=r=>{let t;const s=new Set,i=(m,g)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const y=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),s.forEach(E=>E(t,y))}},c=()=>t,h={setState:i,getState:c,getInitialState:()=>p,subscribe:m=>(s.add(m),()=>s.delete(m))},p=t=r(i,c,h);return h},nE=r=>r?Ov(r):Ov,rE=r=>r;function aE(r,t=rE){const s=ot.useSyncExternalStore(r.subscribe,()=>t(r.getState()),()=>t(r.getInitialState()));return ot.useDebugValue(s),s}const sE=r=>{const t=nE(r),s=i=>aE(t,i);return Object.assign(s,t),s},iE=r=>sE,Dv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://esg-calculator-mji3v2td0-sukrits-projects-ec2f3458.vercel.app",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6cnhkcnl0dnZiYnRxZmFjbndyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjI3NzcsImV4cCI6MjA2MzI5ODc3N30.zPjoqzQ1JYRhSkctZyo1_KQhCMGb1YQppNRq-U3hUwQ",VITE_SUPABASE_URL:"https://czrxdrytvvbbtqfacnwr.supabase.co"},Vc=new Map,Kd=r=>{const t=Vc.get(r);return t?Object.fromEntries(Object.entries(t.stores).map(([s,i])=>[s,i.getState()])):{}},lE=(r,t,s)=>{if(r===void 0)return{type:"untracked",connection:t.connect(s)};const i=Vc.get(s.name);if(i)return{type:"tracked",store:r,...i};const c={connection:t.connect(s),stores:{}};return Vc.set(s.name,c),{type:"tracked",store:r,...c}},oE=(r,t)=>{if(t===void 0)return;const s=Vc.get(r);s&&(delete s.stores[t],Object.keys(s.stores).length===0&&Vc.delete(r))},cE=r=>{var t,s;if(!r)return;const i=r.split(`
`),c=i.findIndex(d=>d.includes("api.setState"));if(c<0)return;const o=((t=i[c+1])==null?void 0:t.trim())||"";return(s=/.+ (.+) .+/.exec(o))==null?void 0:s[1]},uE=(r,t={})=>(s,i,c)=>{const{enabled:o,anonymousActionType:d,store:h,...p}=t;let m;try{m=(o??(Dv?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return r(s,i,c);const{connection:g,...v}=lE(h,m,p);let y=!0;c.setState=(R,A,k)=>{const C=s(R,A);if(!y)return C;const b=cE(new Error().stack),j=k===void 0?{type:d||b||"anonymous"}:typeof k=="string"?{type:k}:k;return h===void 0?(g==null||g.send(j,i()),C):(g==null||g.send({...j,type:`${h}/${j.type}`},{...Kd(p.name),[h]:c.getState()}),C)},c.devtools={cleanup:()=>{g&&typeof g.unsubscribe=="function"&&g.unsubscribe(),oE(p.name,h)}};const E=(...R)=>{const A=y;y=!1,s(...R),y=A},w=r(c.setState,i,c);if(v.type==="untracked"?g==null||g.init(w):(v.stores[v.store]=c,g==null||g.init(Object.fromEntries(Object.entries(v.stores).map(([R,A])=>[R,R===v.store?w:A.getState()])))),c.dispatchFromDevtools&&typeof c.dispatch=="function"){let R=!1;const A=c.dispatch;c.dispatch=(...k)=>{(Dv?"production":void 0)!=="production"&&k[0].type==="__setState"&&!R&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),R=!0),A(...k)}}return g.subscribe(R=>{var A;switch(R.type){case"ACTION":if(typeof R.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return N_(R.payload,k=>{if(k.type==="__setState"){if(h===void 0){E(k.state);return}Object.keys(k.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=k.state[h];if(C==null)return;JSON.stringify(c.getState())!==JSON.stringify(C)&&E(C);return}c.dispatchFromDevtools&&typeof c.dispatch=="function"&&c.dispatch(k)});case"DISPATCH":switch(R.payload.type){case"RESET":return E(w),h===void 0?g==null?void 0:g.init(c.getState()):g==null?void 0:g.init(Kd(p.name));case"COMMIT":if(h===void 0){g==null||g.init(c.getState());return}return g==null?void 0:g.init(Kd(p.name));case"ROLLBACK":return N_(R.state,k=>{if(h===void 0){E(k),g==null||g.init(c.getState());return}E(k[h]),g==null||g.init(Kd(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return N_(R.state,k=>{if(h===void 0){E(k);return}JSON.stringify(c.getState())!==JSON.stringify(k[h])&&E(k[h])});case"IMPORT_STATE":{const{nextLiftedState:k}=R.payload,C=(A=k.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;E(h===void 0?C:C[h]),g==null||g.send(null,k);return}case"PAUSE_RECORDING":return y=!y}return}}),w},dE=uE,N_=(r,t)=>{let s;try{s=JSON.parse(r)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}s!==void 0&&t(s)};function fE(r,t){let s;try{s=r()}catch{return}return{getItem:c=>{var o;const d=p=>p===null?null:JSON.parse(p,void 0),h=(o=s.getItem(c))!=null?o:null;return h instanceof Promise?h.then(d):d(h)},setItem:(c,o)=>s.setItem(c,JSON.stringify(o,void 0)),removeItem:c=>s.removeItem(c)}}const tp=r=>t=>{try{const s=r(t);return s instanceof Promise?s:{then(i){return tp(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return tp(i)(s)}}}},hE=(r,t)=>(s,i,c)=>{let o={storage:fE(()=>localStorage),partialize:R=>R,version:0,merge:(R,A)=>({...A,...R}),...t},d=!1;const h=new Set,p=new Set;let m=o.storage;if(!m)return r((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),s(...R)},i,c);const g=()=>{const R=o.partialize({...i()});return m.setItem(o.name,{state:R,version:o.version})},v=c.setState;c.setState=(R,A)=>{v(R,A),g()};const y=r((...R)=>{s(...R),g()},i,c);c.getInitialState=()=>y;let E;const w=()=>{var R,A;if(!m)return;d=!1,h.forEach(C=>{var b;return C((b=i())!=null?b:y)});const k=((A=o.onRehydrateStorage)==null?void 0:A.call(o,(R=i())!=null?R:y))||void 0;return tp(m.getItem.bind(m))(o.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==o.version){if(o.migrate){const b=o.migrate(C.state,C.version);return b instanceof Promise?b.then(j=>[!0,j]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var b;const[j,N]=C;if(E=o.merge(N,(b=i())!=null?b:y),s(E,!0),j)return g()}).then(()=>{k==null||k(E,void 0),E=i(),d=!0,p.forEach(C=>C(E))}).catch(C=>{k==null||k(void 0,C)})};return c.persist={setOptions:R=>{o={...o,...R},R.storage&&(m=R.storage)},clearStorage:()=>{m==null||m.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>d,onHydrate:R=>(h.add(R),()=>{h.delete(R)}),onFinishHydration:R=>(p.add(R),()=>{p.delete(R)})},o.skipHydration||w(),E||y},_E=hE,T_={"section-a":{id:"section-a",name:"General Disclosures",isComplete:!1,isDirty:!1},"section-b":{id:"section-b",name:"Management and Process Disclosures",isComplete:!1,isDirty:!1},"section-c-p1":{id:"section-c-p1",name:"Principle 1: Ethical Conduct",isComplete:!1,isDirty:!1},"section-c-p2":{id:"section-c-p2",name:"Principle 2: Sustainable Goods & Services",isComplete:!1,isDirty:!1},"section-c-p3":{id:"section-c-p3",name:"Principle 3: Employee Wellbeing",isComplete:!1,isDirty:!1},"section-c-p4":{id:"section-c-p4",name:"Principle 4: Stakeholder Engagement",isComplete:!1,isDirty:!1},"section-c-p5":{id:"section-c-p5",name:"Principle 5: Governance Ethics",isComplete:!1,isDirty:!1},"section-c-p6":{id:"section-c-p6",name:"Principle 6: Environmental Circular Economy",isComplete:!1,isDirty:!1},"section-c-p7":{id:"section-c-p7",name:"Principle 7: Social Human Rights",isComplete:!1,isDirty:!1},"section-c-p8":{id:"section-c-p8",name:"Principle 8: Governance Anti-Corruption",isComplete:!1,isDirty:!1},"section-c-p9":{id:"section-c-p9",name:"Principle 9: Governance Responsible Business",isComplete:!1,isDirty:!1},"review-submit":{id:"review-submit",name:"Review & Submit",isComplete:!1,isDirty:!1}},Mf=iE()(dE(_E((r,t)=>({currentSection:"section-a",reportId:null,sections:{...T_},validationErrors:[],visitedSections:[],hasUnsavedChanges:!1,setCurrentSection:s=>{r(i=>({currentSection:s,visitedSections:i.visitedSections.includes(s)?i.visitedSections:[...i.visitedSections,s]}))},setReportId:s=>{r({reportId:s})},updateSectionStatus:(s,i)=>{r(c=>({sections:{...c.sections,[s]:{...c.sections[s],...i,lastUpdated:new Date}}}))},markSectionComplete:s=>{t().updateSectionStatus(s,{isComplete:!0,isDirty:!1})},markSectionDirty:s=>{r(i=>({sections:{...i.sections,[s]:{...i.sections[s],isDirty:!0,lastUpdated:new Date}},hasUnsavedChanges:!0}))},addValidationError:s=>{r(i=>({validationErrors:[...i.validationErrors,s]}))},clearValidationErrors:s=>{r(i=>({validationErrors:s?i.validationErrors.filter(c=>c.section!==s):[]}))},markSectionVisited:s=>{r(i=>({visitedSections:i.visitedSections.includes(s)?i.visitedSections:[...i.visitedSections,s]}))},setUnsavedChanges:s=>{r({hasUnsavedChanges:s})},getCompletedSections:()=>{const{sections:s}=t();return Object.keys(s).filter(i=>s[i].isComplete)},getIncompleteSections:()=>{const{sections:s}=t();return Object.keys(s).filter(i=>!s[i].isComplete)},getSectionProgress:()=>{const{sections:s}=t(),i=Object.values(s),c=i.filter(d=>d.isComplete).length,o=i.length;return{completed:c,total:o,percentage:Math.round(c/o*100)}},reset:()=>{r({currentSection:"section-a",reportId:null,sections:{...T_},validationErrors:[],visitedSections:[],hasUnsavedChanges:!1})},resetSection:s=>{r(i=>({sections:{...i.sections,[s]:{...T_[s]}}}))}}),{name:"brsr-form-store",partialize:r=>({reportId:r.reportId,visitedSections:r.visitedSections,sections:r.sections})}),{name:"BRSR Form Store"})),pE=({children:r})=>{const t=Yn();wr();const{setCurrentSection:s,markSectionVisited:i,hasUnsavedChanges:c}=Mf();return D.useEffect(()=>{const d=t.pathname.split("/"),h=d[d.length-1];["section-a","section-b","section-c-p1","section-c-p2","section-c-p3","section-c-p4","section-c-p5","section-c-p6","section-c-p7","section-c-p8","section-c-p9","review-submit"].includes(h)&&(s(h),i(h))},[t.pathname,s,i]),D.useEffect(()=>{const o=h=>{if(c)return h.preventDefault(),h.returnValue="You have unsaved changes. Are you sure you want to leave?",h.returnValue},d=()=>{c&&(window.confirm("You have unsaved changes. Are you sure you want to leave this page?")||window.history.pushState(null,"",t.pathname))};return window.addEventListener("beforeunload",o),window.addEventListener("popstate",d),()=>{window.removeEventListener("beforeunload",o),window.removeEventListener("popstate",d)}},[c,t.pathname]),a.jsx(a.Fragment,{children:r})},mE=({reportId:r,sections:t,isReadOnly:s=!1})=>{const i=Yn(),{sections:c,visitedSections:o}=Mf(),d=D.useMemo(()=>{const w=Object.values(c),R=w.filter(k=>k.isComplete).length,A=w.length;return{completed:R,total:A,percentage:Math.round(R/A*100)}},[c]),p=(()=>{const R=i.pathname.split("/");return R[R.length-1]})(),m=w=>{const R=c[w];return R?R.isComplete?"completed":R.isDirty?"modified":o.includes(w)?"visited":"not-visited":"not-visited"},g=w=>{switch(w){case"completed":return"✓";case"modified":return"○";case"visited":return"◐";case"not-visited":default:return"○"}},v=(w,R)=>{if(R)return"#1976d2";switch(w){case"completed":return"#43a047";case"modified":return"#f9a825";case"visited":return"#90a4ae";case"not-visited":default:return"#ccc"}},y={width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden",marginBottom:"16px"},E={height:"100%",backgroundColor:"#43a047",width:`${d.percentage}%`,transition:"width 0.3s ease"};return a.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",border:"1px solid #e3e8ee"},children:[a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[a.jsx("h4",{style:{margin:0,color:"#1a237e",fontSize:"1.1em"},children:"Form Progress"}),a.jsxs("span",{style:{color:"#607d8b",fontSize:"0.9em",fontWeight:500},children:[d.completed," of ",d.total," sections complete (",d.percentage,"%)"]})]}),a.jsx("div",{style:y,children:a.jsx("div",{style:E})})]}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center"},children:t.map(w=>{const R=m(w.key),A=p===w.key,k=v(R,A);return a.jsxs(kn,{to:s?"#":`/report-wizard/${r}/${w.key}`,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",textDecoration:"none",border:`2px solid ${k}`,borderRadius:"20px",backgroundColor:A?k:"transparent",color:A?"white":k,fontSize:"0.85em",fontWeight:A?600:500,transition:"all 0.2s ease",cursor:s?"not-allowed":"pointer",opacity:s?.6:1,minHeight:"32px",boxSizing:"border-box"},onClick:s?C=>C.preventDefault():void 0,children:[a.jsx("span",{style:{fontSize:"1.1em",lineHeight:1,minWidth:"16px",textAlign:"center"},children:g(R)}),a.jsx("span",{children:w.label})]},w.key)})}),a.jsxs("div",{style:{marginTop:"16px",paddingTop:"12px",borderTop:"1px solid #eee",display:"flex",justifyContent:"center",gap:"20px",fontSize:"0.75em",color:"#607d8b"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{style:{color:"#43a047"},children:"✓"})," Complete"]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{style:{color:"#f9a825"},children:"○"})," Modified"]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{style:{color:"#90a4ae"},children:"◐"})," Visited"]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("span",{style:{color:"#ccc"},children:"○"})," Not Visited"]})]})]})};function gE(){var b;const{reportId:r}=Hj(),t=wr(),s=Yn(),{session:i,loadingAuth:c}=D.useContext(ii),{setReportId:o,reset:d}=Mf(),p=(()=>{const N=s.pathname.split("/"),T=N[N.length-1];return["section-a","section-b","section-c-p1","section-c-p2","section-c-p3","section-c-p4","section-c-p5","section-c-p6","section-c-p7","section-c-p8","section-c-p9","review-submit"].includes(T)?T:"section-a"})(),[m,g]=D.useState(null),[v,y]=D.useState(!0),[E,w]=D.useState("");D.useEffect(()=>{if(!c){if(!i){t("/login",{state:{message:"You must be logged in to access the report wizard."}});return}return r&&(y(!0),w(""),o(r),dx(r).then(j=>{g(j);const N=s.pathname;!(N.includes("/section-")||N.includes("/review-submit"))&&j&&t(`/report-wizard/${r}/section-a`,{replace:!0})}).catch(j=>{console.error("Error fetching report details:",j),w(j.message||"Failed to load report data."),j.message==="Report not found."&&t("/reports/history",{state:{message:`Report with ID ${r} not found.`}})}).finally(()=>y(!1))),()=>{r||d()}}},[r,i,c,t,s,o,d]);const R=async(j,N)=>{if(!m||m.status==="submitted")return w("Cannot save a submitted report or no report data loaded."),!1;y(!0);try{let T;if(N===void 0&&typeof j=="object"&&j!==null)T=j;else if(typeof j=="string"&&N!==void 0)T={[j]:N};else return console.error("Invalid arguments passed to handleSaveProgress:",j,N),w("Invalid save operation. Check arguments."),y(!1),!1;const z=await Wc(r,T);return g(z),w(""),y(!1),!0}catch(T){return console.error("Error saving report progress:",T),w(T.message||"Failed to save progress."),y(!1),!1}},A=j=>({"section-a":"Section A: General Disclosures","section-b":"Section B: Management and Process Disclosures","section-c-p1":"Section C: Principle 1 - Environmental","section-c-p2":"Section C: Principle 2 - Social (Employees)","section-c-p3":"Section C: Principle 3 - Social (Community)","section-c-p4":"Section C: Principle 4 - Social (Consumers)","section-c-p5":"Section C: Principle 5 - Governance (Ethics)","section-c-p6":"Section C: Principle 6 - Environmental (Circular Economy)","section-c-p7":"Section C: Principle 7 - Social (Human Rights)","section-c-p8":"Section C: Principle 8 - Governance (Anti-Corruption)","section-c-p9":"Section C: Principle 9 - Governance (Responsible Business Conduct)","review-submit":"Review & Submit"})[j]||"Unknown Section";if(c||v&&!m)return a.jsx("div",{className:"wizard-container",style:{padding:"20px",textAlign:"center"},children:"Loading report data..."});if(E&&!m)return a.jsxs("div",{className:"wizard-container error-message",style:{color:"red",padding:"20px",textAlign:"center"},children:[E," ",a.jsx(kn,{to:"/profile",children:"Go to Profile"})]});if(!m)return a.jsxs("div",{className:"wizard-container",style:{padding:"20px",textAlign:"center"},children:["No report data found. This might be an invalid report ID. ",a.jsx(kn,{to:"/reports/history",children:"View Reports"})]});const k=[{key:"section-a",label:"Sec A: General"},{key:"section-b",label:"Sec B: Mgmt & Process"},{key:"section-c-p1",label:"P1 Env."},{key:"section-c-p2",label:"P2 Social Emp."},{key:"section-c-p3",label:"P3 Social Comm."},{key:"section-c-p4",label:"P4 Social Cons."},{key:"section-c-p5",label:"P5 Gov. Ethics"},{key:"section-c-p6",label:"P6 Env. Circular"},{key:"section-c-p7",label:"P7 Social HR"},{key:"section-c-p8",label:"P8 Gov. Anti-Corr."},{key:"section-c-p9",label:"P9 Gov. Resp. Biz."},{key:"review-submit",label:"Review & Submit"}],C=(m==null?void 0:m.status)==="submitted"||((b=s.state)==null?void 0:b.readOnly);return a.jsx(pE,{children:a.jsxs("div",{className:"report-wizard-container",style:{padding:"32px",maxWidth:"1100px",margin:"0 auto",background:"#f4f7fb",minHeight:"100vh",fontFamily:"Segoe UI, Roboto, Arial, sans-serif"},children:[a.jsxs("header",{style:{marginBottom:"28px",borderBottom:"2px solid #e3e8ee",paddingBottom:"18px",background:"white",borderRadius:"12px 12px 0 0",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("h2",{style:{fontWeight:700,color:"#1a237e",fontSize:"2.1em",margin:0},children:["BRSR Report Wizard - FY: ",m.financial_year," ",a.jsxs("span",{style:{fontWeight:400,color:"#607d8b",fontSize:"0.7em"},children:["(",m.reporting_boundary,")"]})]}),a.jsx(kn,{to:"/reports/history",style:{textDecoration:"none",color:"#1976d2",fontWeight:500,fontSize:"1.1em"},children:"Back to Report List"})]}),a.jsxs("p",{style:{margin:"10px 0 0 0",color:"#607d8b"},children:["Report Status: ",a.jsx("strong",{style:{color:m.status==="submitted"?"#43a047":"#f9a825"},children:m.status})]}),a.jsxs("p",{style:{margin:"6px 0 0 0",color:"#607d8b"},children:["Current Section: ",a.jsx("strong",{style:{color:"#1976d2"},children:A(p)})]}),C&&a.jsx("p",{style:{color:"#43a047",fontWeight:"bold",marginTop:8},children:"This report is in read-only mode."}),m.total_esg_score!==void 0&&a.jsxs("div",{style:{marginTop:24,marginBottom:16,background:"#e3e8ee",borderRadius:12,padding:24,boxShadow:"0 2px 8px rgba(0,0,0,0.04)",maxWidth:650},children:[a.jsx("h3",{style:{margin:0,fontSize:"1.3em",color:"#1a237e",fontWeight:600},children:"ESG Scorecard"}),a.jsxs("div",{style:{display:"flex",gap:48,alignItems:"center",marginTop:12},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600,color:"#1976d2"},children:"Total ESG Score"}),a.jsxs("div",{style:{fontSize:"2.2em",color:"#1976d2",fontWeight:700},children:[m.total_esg_score," / 6900"]})]}),m.previous_year_score!==void 0&&m.previous_year_score!==null&&a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600,color:"#607d8b"},children:"Previous Year"}),a.jsxs("div",{style:{fontSize:"1.5em",color:"#90a4ae",fontWeight:600},children:[m.previous_year_score," / 6900"]}),a.jsxs("div",{style:{fontSize:"1.1em",color:m.total_esg_score-m.previous_year_score>=0?"#43a047":"#e53935",fontWeight:600},children:["YoY Δ: ",m.total_esg_score-m.previous_year_score>=0?"+":"",m.total_esg_score-m.previous_year_score]})]})]})]}),"            "]}),a.jsx(mE,{reportId:r,sections:k,isReadOnly:C}),a.jsx("nav",{style:{marginBottom:"28px",display:"flex",gap:"12px",flexWrap:"wrap",justifyContent:"center",background:"white",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.04)",padding:"18px 0"},children:k.map(j=>a.jsx(kn,{to:`/report-wizard/${r}/${j.key}`,style:{padding:"12px 22px",textDecoration:"none",border:"none",borderRadius:"24px",background:p===j.key?"linear-gradient(90deg,#1976d2 60%,#43a047 100%)":"#f4f7fb",color:p===j.key?"white":"#1976d2",fontWeight:p===j.key?700:500,fontSize:"1.05em",boxShadow:p===j.key?"0 2px 8px rgba(25,118,210,0.10)":"none",transition:"all 0.2s",cursor:"pointer",outline:p===j.key?"2px solid #1976d2":"none"},children:j.label},j.key))}),E&&a.jsxs("p",{className:"error-message",style:{color:"#e53935",backgroundColor:"#fff3e0",border:"1px solid #e53935",padding:"12px",borderRadius:"6px",fontWeight:500,fontSize:"1.05em"},children:["Error: ",E]}),a.jsx("div",{className:"wizard-content",style:{border:"1px solid #e3e8ee",padding:"32px",borderRadius:"12px",background:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:a.jsx(vp,{context:{reportData:m,reportId:r,handleSaveProgress:C?void 0:R,isSubmitted:C,isLoadingSave:v&&m,setError:w}})}),"            ",a.jsx("div",{style:{marginTop:"40px",textAlign:"center"},children:a.jsx(kn,{to:"/profile",className:"action-card-button",style:{textDecoration:"none",color:"#1976d2",fontWeight:600,fontSize:"1.1em",background:"#e3e8ee",padding:"12px 32px",borderRadius:"24px",boxShadow:"0 2px 8px rgba(25,118,210,0.06)"},children:"Back to Profile"})})]})})}const yE=({control:r})=>a.jsxs("div",{children:[a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.company_name",control:r,label:"Company Name",required:!0,placeholder:"Enter company name"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.cin",control:r,label:"Corporate Identity Number (CIN)",required:!0,placeholder:"L12345AB1234ABC123456"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.year_of_incorporation",control:r,label:"Year of Incorporation",type:"number",min:"1800",max:new Date().getFullYear(),placeholder:"e.g., 1995"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.paid_up_capital",control:r,label:"Paid-up Capital (in ₹)",type:"number",min:"0",step:"0.01",placeholder:"e.g., 10000000"})})]}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.registered_office_address",control:r,label:"Registered Office Address",required:!0,as:"textarea",rows:3,placeholder:"Enter complete registered office address"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.corporate_address",control:r,label:"Corporate Address (if different from registered office)",as:"textarea",rows:3,placeholder:"Enter corporate address if different from registered office"})}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.email",control:r,label:"Email",type:"email",placeholder:"company@example.com"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.telephone",control:r,label:"Telephone",type:"tel",placeholder:"+91-11-12345678"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.website",control:r,label:"Website",type:"url",placeholder:"https://www.company.com"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.stock_exchange_listed",control:r,label:"Stock Exchange(s) Listed",as:"select",multiple:!0,options:[{value:"BSE",label:"BSE"},{value:"NSE",label:"NSE"},{value:"MSE",label:"MSE"},{value:"CSE",label:"CSE"},{value:"Other",label:"Other"}]})})]})]}),vE=({control:r})=>a.jsxs("div",{children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.brsr_contact_name",control:r,label:"Name",required:!0,placeholder:"Enter contact person name"})}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.brsr_contact_mail",control:r,label:"Email",type:"email",required:!0,placeholder:"contact@example.com"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"companyInfo.brsr_contact_number",control:r,label:"Phone Number",type:"tel",required:!0,placeholder:"+91-9876543210"})})]})]}),bE=({control:r,onAdd:t,onRemove:s})=>{const{watch:i}=Fl(),c=i("sectionAData.sa_business_activities_turnover")||[];return a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:16},children:a.jsx(Gr,{type:"button",onClick:t,style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 16px",cursor:"pointer"},children:"Add Business Activity"})}),c.map((o,d)=>a.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:4,padding:16,marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsxs("h4",{style:{margin:0},children:["Business Activity ",d+1]}),c.length>1&&a.jsx(Gr,{type:"button",onClick:()=>s(d),style:{background:"#dc3545",color:"#fff",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:"0.875em"},children:"Remove"})]}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_business_activities_turnover.${d}.description_main`,control:r,label:"Main Activity",required:!0,placeholder:"Describe the main business activity"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_business_activities_turnover.${d}.description_business`,control:r,label:"Business Description",required:!0,as:"textarea",rows:3,placeholder:"Provide detailed description of the business activity"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_business_activities_turnover.${d}.turnover_percentage`,control:r,label:"% of Turnover of the Entity",required:!0,placeholder:"e.g., 65%"})})]},d))]})},xE=({control:r,onAdd:t,onRemove:s})=>{const{watch:i}=Fl(),c=i("sectionAData.sa_product_services_turnover")||[];return a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:16},children:a.jsx(Gr,{type:"button",onClick:t,style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 16px",cursor:"pointer"},children:"Add Product/Service"})}),c.map((o,d)=>a.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:4,padding:16,marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsxs("h4",{style:{margin:0},children:["Product/Service ",d+1]}),c.length>1&&a.jsx(Gr,{type:"button",onClick:()=>s(d),style:{background:"#dc3545",color:"#fff",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:"0.875em"},children:"Remove"})]}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_product_services_turnover.${d}.product_service`,control:r,label:"Product/Service",required:!0,placeholder:"Describe the product or service"})}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_product_services_turnover.${d}.nic_code`,control:r,label:"NIC Code",required:!0,placeholder:"e.g., 2011"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_product_services_turnover.${d}.turnover_contributed`,control:r,label:"% of Total Turnover Contributed",required:!0,placeholder:"e.g., 45%"})})]})]},d))]})},jE=({control:r,calculatePercentage:t,watch:s})=>{const i=s("sectionAData.sa_employee_details")||{},c=s("sectionAData.sa_workers_details")||{};s("sectionAData.sa_differently_abled_details");const o=s("sectionAData.sa_women_representation_details")||{},d=(i.permanent_male||0)+(i.permanent_female||0)+(i.other_than_permanent_male||0)+(i.other_than_permanent_female||0),h=(c.permanent_male||0)+(c.permanent_female||0)+(c.other_than_permanent_male||0)+(c.other_than_permanent_female||0),p=t((i.permanent_female||0)+(i.other_than_permanent_female||0),d),m=t((c.permanent_female||0)+(c.other_than_permanent_female||0),h),g=t(o.board_number_of_women||0,o.board_total_members||0),v=t(o.kmp_number_of_women||0,o.kmp_total_personnel||0);return a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Employee Details"}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_employee_details.permanent_male",control:r,label:"Permanent - Male",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_employee_details.permanent_female",control:r,label:"Permanent - Female",type:"number",min:"0"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_employee_details.other_than_permanent_male",control:r,label:"Other than Permanent - Male",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_employee_details.other_than_permanent_female",control:r,label:"Other than Permanent - Female",type:"number",min:"0"})})]}),a.jsxs("div",{style:{background:"#f8f9fa",padding:12,borderRadius:4,marginTop:8},children:[a.jsxs("strong",{children:["Total Employees: ",d]})," |",a.jsxs("strong",{children:[" Female Percentage: ",p]})]})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Worker Details"}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_workers_details.permanent_male",control:r,label:"Permanent - Male",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_workers_details.permanent_female",control:r,label:"Permanent - Female",type:"number",min:"0"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_workers_details.other_than_permanent_male",control:r,label:"Other than Permanent - Male",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_workers_details.other_than_permanent_female",control:r,label:"Other than Permanent - Female",type:"number",min:"0"})})]}),a.jsxs("div",{style:{background:"#f8f9fa",padding:12,borderRadius:4,marginTop:8},children:[a.jsxs("strong",{children:["Total Workers: ",h]})," |",a.jsxs("strong",{children:[" Female Percentage: ",m]})]})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Differently Abled Employees and Workers"}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_differently_abled_details.employees_male",control:r,label:"Employees - Male",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_differently_abled_details.employees_female",control:r,label:"Employees - Female",type:"number",min:"0"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_differently_abled_details.workers_male",control:r,label:"Workers - Male",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_differently_abled_details.workers_female",control:r,label:"Workers - Female",type:"number",min:"0"})})]})]}),a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Participation/Inclusion/Representation of Women"}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_women_representation_details.board_total_members",control:r,label:"Total Board Members",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_women_representation_details.board_number_of_women",control:r,label:"No. of Women on Board",type:"number",min:"0"})})]}),a.jsx("div",{style:{background:"#f8f9fa",padding:12,borderRadius:4,marginBottom:12},children:a.jsxs("strong",{children:["Women on Board: ",g]})}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_women_representation_details.kmp_total_personnel",control:r,label:"Total KMP Personnel",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_women_representation_details.kmp_number_of_women",control:r,label:"No. of Women in KMP",type:"number",min:"0"})})]}),a.jsx("div",{style:{background:"#f8f9fa",padding:12,borderRadius:4,marginTop:8},children:a.jsxs("strong",{children:["Women in KMP: ",v]})})]})]})},wE=({control:r,disabled:t=!1})=>a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Statement by Director Responsible for Business Responsibility Report"}),a.jsx(ae,{name:"sb_director_statement",control:r,label:"Statement",as:"textarea",rows:4,placeholder:"Enter the director's statement on business responsibility",disabled:t,required:!0})]}),SE=({control:r,disabled:t=!1})=>a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Details of the Highest Authority Responsible for Implementation and Oversight of the Business Responsibility Policy(ies)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:[a.jsx(ae,{name:"sb_esg_responsible_individual.name",control:r,label:"Name",placeholder:"Enter full name",disabled:t,required:!0}),a.jsx(ae,{name:"sb_esg_responsible_individual.designation",control:r,label:"Designation",placeholder:"Enter designation",disabled:t,required:!0}),a.jsx(ae,{name:"sb_esg_responsible_individual.din_if_director",control:r,label:"DIN (if Director)",placeholder:"Enter DIN if applicable",disabled:t})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16,marginTop:16},children:[a.jsx(ae,{name:"sb_esg_responsible_individual.email",control:r,label:"Email ID",type:"email",placeholder:"Enter email address",disabled:t,required:!0}),a.jsx(ae,{name:"sb_esg_responsible_individual.phone",control:r,label:"Contact Number",type:"tel",placeholder:"Enter phone number",disabled:t,required:!0})]})]}),CE=r=>["Social: Human Rights","Environmental: Natural Capital","Social: Employee Well-being","Social: Stakeholder Engagement","Governance: Ethical Conduct","Environmental: Circular Economy","Governance: Policy Advocacy","Social: Inclusive Development","Social: Customer Value"][r-1]||`Principle ${r}`,kE=({control:r,principleIndex:t,disabled:s=!1})=>{const i=t+1,c=`sb_principle_policies.${t}`,{field:{value:o}}=Xt({name:`${c}.has_policy`,control:r});return a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:16},children:[a.jsxs("h5",{style:{color:"#495057",marginBottom:16,fontSize:"1.1rem"},children:["Principle ",i,": ",CE(i)]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16},children:[a.jsx("div",{children:a.jsx(ae,{name:`${c}.has_policy`,control:r,label:"Do you have a policy?",type:"checkbox",disabled:s})}),o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx(ae,{name:`${c}.is_board_approved`,control:r,label:"Has it been approved by the Board?",type:"checkbox",disabled:s})}),a.jsx("div",{children:a.jsx(ae,{name:`${c}.translated_to_procedures`,control:r,label:"Has it been translated into procedures?",type:"checkbox",disabled:s})}),a.jsx("div",{children:a.jsx(ae,{name:`${c}.extends_to_value_chain`,control:r,label:"Does it extend to the Group/JVs/Suppliers/Contractors/NGOs/Others?",type:"checkbox",disabled:s})})]})]}),o&&a.jsxs("div",{style:{marginTop:16},children:[a.jsx(ae,{name:`${c}.policy_text_or_url`,control:r,label:"Web Link of the Policy to be given or policy to be summarized (max 1000 characters)",as:"textarea",rows:3,disabled:s}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:16},children:[a.jsx(ae,{name:`${c}.adopted_standards`,control:r,label:"Name 3 of your key stakeholder groups",as:"textarea",rows:2,disabled:s}),a.jsx(ae,{name:`${c}.specific_commitments_goals_targets`,control:r,label:"Have you identified the Risks/ business opportunities?",as:"textarea",rows:2,disabled:s})]}),a.jsx(ae,{name:`${c}.performance_against_targets`,control:r,label:"Are there any risks/ opportunities related to the principle which have not been disclosed above? If yes, give ESG risk ID.",as:"textarea",rows:2,disabled:s,style:{marginTop:16}})]}),!o&&a.jsxs("div",{style:{marginTop:16},children:[a.jsx("p",{style:{marginBottom:16,color:"#6c757d"},children:"If answer to question (1) above is 'No' i.e. not applicable, explain why:"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16},children:[a.jsx(ae,{name:`${c}.reason_q12_not_material`,control:r,label:"The entity does not consider the Principles material to its business",type:"checkbox",disabled:s}),a.jsx(ae,{name:`${c}.reason_q12_not_at_stage`,control:r,label:"The entity is not at a stage where it is in a position to formulate and implement the policies on specified principles",type:"checkbox",disabled:s}),a.jsx(ae,{name:`${c}.reason_q12_no_resources`,control:r,label:"The entity does not have the financial or/human and technical resources available for the task",type:"checkbox",disabled:s}),a.jsx(ae,{name:`${c}.reason_q12_planned_next_year`,control:r,label:"It is planned to be done in the next financial year",type:"checkbox",disabled:s})]}),a.jsx(ae,{name:`${c}.reason_q12_other_text`,control:r,label:"Any other reason (please specify)",as:"textarea",rows:2,disabled:s,style:{marginTop:16}})]})]})},EE=({control:r,disabled:t=!1})=>a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{style:{marginBottom:20},children:"Policy and Management Processes for NGRBC Principles"}),Array.from({length:9},(s,i)=>a.jsx(kE,{control:r,principleIndex:i,disabled:t},i))]}),AE=({control:r,disabled:t=!1})=>{const{field:{value:s}}=Xt({name:"sb_sustainability_committee.has_committee",control:r}),{field:{value:i}}=Xt({name:"sb_external_policy_assessment.conducted",control:r});return a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Governance, Leadership and Oversight"}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"Details of the Board/Committee responsible for assessment and improvement of BR performance"}),a.jsx(ae,{name:"sb_sustainability_committee.has_committee",control:r,label:"Whether Committee / Board / Individual",type:"checkbox",disabled:t}),s&&a.jsx(ae,{name:"sb_sustainability_committee.details",control:r,label:"Details",as:"textarea",rows:3,placeholder:"Please provide details about the committee/board structure",disabled:t,style:{marginTop:16}})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"Details of Review of NGRBCs by the Company"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16},children:[a.jsx(ae,{name:"sb_ngrbc_company_review.performance_review_yn",control:r,label:"Performance against above policies and follow up action (Yes/No)",type:"checkbox",disabled:t}),a.jsx(ae,{name:"sb_ngrbc_company_review.compliance_review_yn",control:r,label:"Compliance with statutory requirements (Yes/No)",type:"checkbox",disabled:t})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:16},children:[a.jsx(ae,{name:"sb_ngrbc_company_review.review_undertaken_by",control:r,label:"Review undertaken by",placeholder:"Entity / Regulatory/ E&Y / Other third party",disabled:t}),a.jsx(ae,{name:"sb_ngrbc_company_review.frequency",control:r,label:"Frequency",placeholder:"Annually/Half yearly/Quarterly/Any other – please specify",disabled:t})]})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"Has the entity carried out independent assessment/ evaluation of the working of its policies by an external agency?"}),a.jsx(ae,{name:"sb_external_policy_assessment.conducted",control:r,label:"Assessment conducted",type:"checkbox",disabled:t}),i&&a.jsx(ae,{name:"sb_external_policy_assessment.agency_name",control:r,label:"If yes, provide name of the agency",placeholder:"Enter agency name",disabled:t,style:{marginTop:16}})]})]})},RE=({control:r,disabled:t=!1})=>{const{field:{value:s}}=Xt({name:"essential_indicators.anti_corruption_policy.has_policy",control:r}),{field:{value:i}}=Xt({name:"essential_indicators.esg_training_employees.has_program",control:r});return a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Essential Indicators"}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 1: Anti-Corruption and Bribery Policy"}),a.jsx(ae,{name:"essential_indicators.anti_corruption_policy.has_policy",control:r,label:"Does the entity have an anti-corruption or anti-bribery policy?",type:"checkbox",disabled:t}),s&&a.jsxs("div",{style:{marginTop:16},children:[a.jsx(ae,{name:"essential_indicators.anti_corruption_policy.details",control:r,label:"Policy Details",as:"textarea",rows:3,placeholder:"Provide details about the anti-corruption policy",disabled:t}),a.jsx(ae,{name:"essential_indicators.anti_corruption_policy.weblink",control:r,label:"Web Link",placeholder:"https://...",disabled:t,style:{marginTop:16}})]})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 2: Disciplinary Actions (FY 2022-23)"}),a.jsx("p",{style:{fontSize:"0.9rem",color:"#6c757d",marginBottom:16},children:"Number of Directors/KMPs/employees/workers against whom disciplinary action was taken by any law enforcement agency for the charges of bribery/corruption:"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16},children:[a.jsx(ae,{name:"essential_indicators.disciplinary_actions_by_le_agencies.fy_2022_23.directors",control:r,label:"Directors",type:"number",min:"0",disabled:t}),a.jsx(ae,{name:"essential_indicators.disciplinary_actions_by_le_agencies.fy_2022_23.kmps",control:r,label:"KMPs",type:"number",min:"0",disabled:t}),a.jsx(ae,{name:"essential_indicators.disciplinary_actions_by_le_agencies.fy_2022_23.employees_executives",control:r,label:"Employees (Executives)",type:"number",min:"0",disabled:t}),a.jsx(ae,{name:"essential_indicators.disciplinary_actions_by_le_agencies.fy_2022_23.workers_non_executives",control:r,label:"Workers (Non-Executives)",type:"number",min:"0",disabled:t})]})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 3: Complaints regarding Conflict of Interest"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:16},children:[a.jsx(ae,{name:"essential_indicators.complaints_conflict_of_interest.directors_number",control:r,label:"Number of complaints received regarding Directors",type:"number",min:"0",disabled:t}),a.jsx(ae,{name:"essential_indicators.complaints_conflict_of_interest.kmps_number",control:r,label:"Number of complaints received regarding KMPs",type:"number",min:"0",disabled:t})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[a.jsx(ae,{name:"essential_indicators.complaints_conflict_of_interest.directors_remarks",control:r,label:"Remarks for Directors",as:"textarea",rows:2,disabled:t}),a.jsx(ae,{name:"essential_indicators.complaints_conflict_of_interest.kmps_remarks",control:r,label:"Remarks for KMPs",as:"textarea",rows:2,disabled:t})]})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 4: ESG Training for Employees"}),a.jsx(ae,{name:"essential_indicators.esg_training_employees.has_program",control:r,label:"Does the entity have an ESG training program for employees?",type:"checkbox",disabled:t}),i&&a.jsx(ae,{name:"essential_indicators.esg_training_employees.employees_trained_count",control:r,label:"Number of employees trained",type:"number",min:"0",disabled:t,style:{marginTop:16}})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 5: Corrective Actions"}),a.jsx(ae,{name:"essential_indicators.corrective_actions_on_corruption_coi.details",control:r,label:"Details of any corrective action taken or underway on issues related to fines/penalties/action taken by regulators/law enforcement agencies/judicial institutions, on cases of corruption and conflicts of interest",as:"textarea",rows:4,disabled:t})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 6: Fines and Penalties"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[a.jsx(ae,{name:"essential_indicators.p1_fines_penalties_paid.monetary_details",control:r,label:"Monetary Details",as:"textarea",rows:3,placeholder:"Details of fines/penalties/punishment/award/compounding fees/settlement amount paid",disabled:t}),a.jsx(ae,{name:"essential_indicators.p1_fines_penalties_paid.non_monetary_details",control:r,label:"Non-Monetary Details",as:"textarea",rows:3,placeholder:"Details of non-monetary corrective measures",disabled:t})]})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"EI 7: Appeals and Revisions"}),a.jsx(ae,{name:"essential_indicators.p1_appeal_details_for_fines_penalties.details",control:r,label:"Details of the Appeal/Revision preferred in cases where monetary or non-monetary action has been appealed",as:"textarea",rows:3,disabled:t})]})]})},NE=({control:r,disabled:t=!1})=>a.jsxs("div",{style:{marginBottom:24},children:[a.jsx("h4",{children:"Leadership Indicators"}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"LI 1: Conflict of Interest Policy Communication"}),a.jsx("div",{style:{marginBottom:16},children:a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_policy_communication.communicated",control:r,label:"Has the entity communicated the conflict of interest policy to employees?",type:"checkbox",disabled:t})}),a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_policy_communication.how_communicated",control:r,label:"How was it communicated?",as:"textarea",rows:2,disabled:t}),a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_policy_communication.reasons_if_not",control:r,label:"If not communicated, provide reasons",as:"textarea",rows:2,disabled:t,style:{marginTop:16}})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"LI 2: Conflict of Interest Training Coverage"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:16},children:[a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_training.covered_directors",control:r,label:"Directors Covered",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_training.covered_kmps",control:r,label:"KMPs Covered",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_training.covered_employees",control:r,label:"Employees Covered",type:"checkbox",disabled:t})]}),a.jsx(ae,{name:"leadership_indicators.conflict_of_interest_training.fy_training_details",control:r,label:"Training Details for Current FY",as:"textarea",rows:3,disabled:t})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20,marginBottom:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"LI 3: Anti-Corruption Policy Communication"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:16},children:[a.jsx(ae,{name:"leadership_indicators.anti_corruption_policy_communication.communicated_directors",control:r,label:"Communicated to Directors",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_policy_communication.communicated_kmps",control:r,label:"Communicated to KMPs",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_policy_communication.communicated_employees",control:r,label:"Communicated to Employees",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_policy_communication.communicated_value_chain",control:r,label:"Communicated to Value Chain Partners",type:"checkbox",disabled:t})]}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_policy_communication.fy_communication_details",control:r,label:"Communication Details for Current FY",as:"textarea",rows:3,disabled:t})]}),a.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:20},children:[a.jsx("h5",{style:{marginBottom:16},children:"LI 4: Anti-Corruption Training Coverage"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:16},children:[a.jsx(ae,{name:"leadership_indicators.anti_corruption_training.covered_directors",control:r,label:"Directors Covered",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_training.covered_kmps",control:r,label:"KMPs Covered",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_training.covered_employees",control:r,label:"Employees Covered",type:"checkbox",disabled:t}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_training.covered_value_chain",control:r,label:"Value Chain Partners Covered",type:"checkbox",disabled:t})]}),a.jsx(ae,{name:"leadership_indicators.anti_corruption_training.fy_training_details",control:r,label:"Training Details for Current FY",as:"textarea",rows:3,disabled:t})]})]});function TE({control:r,disabled:t=!1}){const{field:s,fieldState:{error:i}}=Xt({name:"p2_essential_rd_capex_percentages.rd_percentage_current_fy",control:r}),{field:c,fieldState:{error:o}}=Xt({name:"p2_essential_rd_capex_percentages.capex_percentage_current_fy",control:r}),{field:d}=Xt({name:"p2_essential_rd_capex_percentages.rd_improvements_details",control:r}),{field:h}=Xt({name:"p2_essential_rd_capex_percentages.capex_improvements_details",control:r});return a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"1. R&D and Capital Expenditure Investments"}),a.jsx("p",{style:{fontSize:"0.9em",color:"#6c757d",marginBottom:16},children:"Provide details on R&D and capital expenditure investments in sustainable technologies and processes."}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20,marginBottom:20},children:[a.jsx("div",{children:a.jsx(Hr,{label:"R&D Investment (%)",name:s.name,type:"number",value:s.value||"",onChange:p=>s.onChange(p.target.value?parseFloat(p.target.value):null),onBlur:s.onBlur,disabled:t,error:i==null?void 0:i.message,min:"0",max:"100",step:"0.01",placeholder:"e.g., 2.5"})}),a.jsx("div",{children:a.jsx(Hr,{label:"Capital Expenditure (%)",name:c.name,type:"number",value:c.value||"",onChange:p=>c.onChange(p.target.value?parseFloat(p.target.value):null),onBlur:c.onBlur,disabled:t,error:o==null?void 0:o.message,min:"0",max:"100",step:"0.01",placeholder:"e.g., 15.0"})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[a.jsx("div",{children:a.jsx(Hr,{label:"R&D Improvements Details",name:d.name,type:"textarea",value:d.value||"",onChange:p=>d.onChange(p.target.value),onBlur:d.onBlur,disabled:t,placeholder:"Describe specific R&D initiatives and improvements...",rows:4})}),a.jsx("div",{children:a.jsx(Hr,{label:"Capital Expenditure Improvements Details",name:h.name,type:"textarea",value:h.value||"",onChange:p=>h.onChange(p.target.value),onBlur:h.onBlur,disabled:t,placeholder:"Describe specific capital expenditure initiatives and improvements...",rows:4})})]})]})}function OE({control:r,disabled:t=!1}){const{field:s}=Xt({name:"p2_essential_sustainable_sourcing.has_procedures",control:r}),{field:i,fieldState:{error:c}}=Xt({name:"p2_essential_sustainable_sourcing.percentage_inputs_sourced_sustainably",control:r}),o=d=>{s.onChange(d==="yes"?!0:d==="no"?!1:null)};return a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"2. Sustainable Sourcing"}),a.jsx("p",{style:{fontSize:"0.9em",color:"#6c757d",marginBottom:16},children:"Information about sustainable sourcing procedures and practices."}),a.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[a.jsx("label",{style:{fontWeight:600,marginBottom:8,display:"block"},children:"Does the entity have procedures in place for sustainable sourcing?"}),a.jsxs("div",{style:{display:"flex",gap:16},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:"normal"},children:[a.jsx("input",{type:"radio",name:"has_procedures",value:"yes",checked:s.value===!0,onChange:()=>o("yes"),onBlur:s.onBlur,disabled:t}),"Yes"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:"normal"},children:[a.jsx("input",{type:"radio",name:"has_procedures",value:"no",checked:s.value===!1,onChange:()=>o("no"),onBlur:s.onBlur,disabled:t}),"No"]})]})]}),s.value===!0&&a.jsx("div",{children:a.jsx(Hr,{label:"Percentage of inputs sourced sustainably (%)",name:i.name,type:"number",value:i.value||"",onChange:d=>i.onChange(d.target.value?parseFloat(d.target.value):null),onBlur:i.onBlur,disabled:t,error:c==null?void 0:c.message,min:"0",max:"100",step:"0.01",placeholder:"e.g., 75.5"})})]})}function DE({control:r,disabled:t=!1}){const{field:s}=Xt({name:"p2_essential_reclaim_processes_description.plastics",control:r}),{field:i}=Xt({name:"p2_essential_reclaim_processes_description.e_waste",control:r}),{field:c}=Xt({name:"p2_essential_reclaim_processes_description.hazardous_waste",control:r}),{field:o}=Xt({name:"p2_essential_reclaim_processes_description.other_waste",control:r});return a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"3. Reclaim Processes Description"}),a.jsx("p",{style:{fontSize:"0.9em",color:"#6c757d",marginBottom:16},children:"Describe the processes in place for reclaiming different types of waste materials."}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[a.jsx("div",{children:a.jsx(Hr,{label:"Plastics",name:s.name,type:"textarea",value:s.value||"",onChange:d=>s.onChange(d.target.value),onBlur:s.onBlur,disabled:t,placeholder:"Describe plastic reclaim processes...",rows:4})}),a.jsx("div",{children:a.jsx(Hr,{label:"E-Waste",name:i.name,type:"textarea",value:i.value||"",onChange:d=>i.onChange(d.target.value),onBlur:i.onBlur,disabled:t,placeholder:"Describe e-waste reclaim processes...",rows:4})}),a.jsx("div",{children:a.jsx(Hr,{label:"Hazardous Waste",name:c.name,type:"textarea",value:c.value||"",onChange:d=>c.onChange(d.target.value),onBlur:c.onBlur,disabled:t,placeholder:"Describe hazardous waste reclaim processes...",rows:4})}),a.jsx("div",{children:a.jsx(Hr,{label:"Other Waste",name:o.name,type:"textarea",value:o.value||"",onChange:d=>o.onChange(d.target.value),onBlur:o.onBlur,disabled:t,placeholder:"Describe other waste reclaim processes...",rows:4})})]})]})}function BE({control:r,disabled:t=!1}){const{field:s}=Xt({name:"p2_essential_epr_status.is_epr_applicable",control:r}),{field:i}=Xt({name:"p2_essential_epr_status.is_collection_plan_in_line_with_epr",control:r}),{field:c}=Xt({name:"p2_essential_epr_status.steps_to_address_epr_gap",control:r}),o=h=>{s.onChange(h==="yes"?!0:h==="no"?!1:null)},d=h=>{i.onChange(h==="yes"?!0:h==="no"?!1:null)};return a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"4. Extended Producer Responsibility (EPR)"}),a.jsx("p",{style:{fontSize:"0.9em",color:"#6c757d",marginBottom:16},children:"Information about Extended Producer Responsibility applicability and compliance."}),a.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[a.jsx("label",{style:{fontWeight:600,marginBottom:8,display:"block"},children:"Is Extended Producer Responsibility (EPR) applicable to the entity's activities?"}),a.jsxs("div",{style:{display:"flex",gap:16},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:"normal"},children:[a.jsx("input",{type:"radio",name:"is_epr_applicable",value:"yes",checked:s.value===!0,onChange:()=>o("yes"),onBlur:s.onBlur,disabled:t}),"Yes"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:"normal"},children:[a.jsx("input",{type:"radio",name:"is_epr_applicable",value:"no",checked:s.value===!1,onChange:()=>o("no"),onBlur:s.onBlur,disabled:t}),"No"]})]})]}),s.value===!0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",style:{marginBottom:20},children:[a.jsx("label",{style:{fontWeight:600,marginBottom:8,display:"block"},children:"Is the collection plan in line with EPR requirements?"}),a.jsxs("div",{style:{display:"flex",gap:16},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:"normal"},children:[a.jsx("input",{type:"radio",name:"is_collection_plan_in_line_with_epr",value:"yes",checked:i.value===!0,onChange:()=>d("yes"),onBlur:i.onBlur,disabled:t}),"Yes"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:"normal"},children:[a.jsx("input",{type:"radio",name:"is_collection_plan_in_line_with_epr",value:"no",checked:i.value===!1,onChange:()=>d("no"),onBlur:i.onBlur,disabled:t}),"No"]})]})]}),i.value===!1&&a.jsx("div",{children:a.jsx(Hr,{label:"Steps to Address EPR Gap",name:c.name,type:"textarea",value:c.value||"",onChange:h=>c.onChange(h.target.value),onBlur:c.onBlur,disabled:t,placeholder:"Describe the steps being taken to address the EPR gap...",rows:4})})]})]})}const Bv=(r,t,s)=>{if(r&&"reportValidity"in r){const i=xe(s,t);r.setCustomValidity(i&&i.message||""),r.reportValidity()}},np=(r,t)=>{for(const s in t.fields){const i=t.fields[s];i&&i.ref&&"reportValidity"in i.ref?Bv(i.ref,s,r):i&&i.refs&&i.refs.forEach(c=>Bv(c,s,r))}},Pv=(r,t)=>{t.shouldUseNativeValidation&&np(r,t);const s={};for(const i in r){const c=xe(t.fields,i),o=Object.assign(r[i]||{},{ref:c&&c.ref});if(PE(t.names||Object.keys(r),i)){const d=Object.assign({},xe(s,i));ht(d,"root",o),ht(s,i,d)}else ht(s,i,o)}return s},PE=(r,t)=>{const s=Uv(t);return r.some(i=>Uv(i).match(`^${s}\\.\\d+`))};function Uv(r){return r.replace(/\]|\[/g,"")}function Cx(r,t,s){function i(h,p){var m;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(m=h._zod).traits??(m.traits=new Set),h._zod.traits.add(r),t(h,p);for(const g in d.prototype)g in h||Object.defineProperty(h,g,{value:d.prototype[g].bind(h)});h._zod.constr=d,h._zod.def=p}const c=(s==null?void 0:s.Parent)??Object;class o extends c{}Object.defineProperty(o,"name",{value:r});function d(h){var p;const m=s!=null&&s.Parent?new o:this;i(m,h),(p=m._zod).deferred??(p.deferred=[]);for(const g of m._zod.deferred)g();return m}return Object.defineProperty(d,"init",{value:i}),Object.defineProperty(d,Symbol.hasInstance,{value:h=>{var p,m;return s!=null&&s.Parent&&h instanceof s.Parent?!0:(m=(p=h==null?void 0:h._zod)==null?void 0:p.traits)==null?void 0:m.has(r)}}),Object.defineProperty(d,"name",{value:r}),d}class UE extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const LE={};function kx(r){return LE}function ME(r,t){return typeof t=="bigint"?t.toString():t}const Ex=Error.captureStackTrace?Error.captureStackTrace:(...r)=>{};function Xd(r){return typeof r=="string"?r:r==null?void 0:r.message}function Ax(r,t,s){var c,o,d,h,p,m;const i={...r,path:r.path??[]};if(!r.message){const g=Xd((d=(o=(c=r.inst)==null?void 0:c._zod.def)==null?void 0:o.error)==null?void 0:d.call(o,r))??Xd((h=t==null?void 0:t.error)==null?void 0:h.call(t,r))??Xd((p=s.customError)==null?void 0:p.call(s,r))??Xd((m=s.localeError)==null?void 0:m.call(s,r))??"Invalid input";i.message=g}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}const Rx=(r,t)=>{r.name="$ZodError",Object.defineProperty(r,"_zod",{value:r._zod,enumerable:!1}),Object.defineProperty(r,"issues",{value:t,enumerable:!1}),Object.defineProperty(r,"message",{get(){return JSON.stringify(t,ME,2)},enumerable:!0})},zE=Cx("$ZodError",Rx),Nx=Cx("$ZodError",Rx,{Parent:Error}),$E=r=>(t,s,i,c)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},d=t._zod.run({value:s,issues:[]},o);if(d instanceof Promise)throw new UE;if(d.issues.length){const h=new((c==null?void 0:c.Err)??r)(d.issues.map(p=>Ax(p,o,kx())));throw Ex(h,c==null?void 0:c.callee),h}return d.value},qE=$E(Nx),FE=r=>async(t,s,i,c)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let d=t._zod.run({value:s,issues:[]},o);if(d instanceof Promise&&(d=await d),d.issues.length){const h=new((c==null?void 0:c.Err)??r)(d.issues.map(p=>Ax(p,o,kx())));throw Ex(h,c==null?void 0:c.callee),h}return d.value},IE=FE(Nx);function Lv(r,t){try{var s=r()}catch(i){return t(i)}return s&&s.then?s.then(void 0,t):s}function HE(r,t){for(var s={};r.length;){var i=r[0],c=i.code,o=i.message,d=i.path.join(".");if(!s[d])if("unionErrors"in i){var h=i.unionErrors[0].errors[0];s[d]={message:h.message,type:h.code}}else s[d]={message:o,type:c};if("unionErrors"in i&&i.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return r.push(v)})}),t){var p=s[d].types,m=p&&p[i.code];s[d]=Bp(d,t,s,c,m?[].concat(m,i.message):i.message)}r.shift()}return s}function VE(r,t){for(var s={};r.length;){var i=r[0],c=i.code,o=i.message,d=i.path.join(".");if(!s[d])if(i.code==="invalid_union"){var h=i.errors[0][0];s[d]={message:h.message,type:h.code}}else s[d]={message:o,type:c};if(i.code==="invalid_union"&&i.errors.forEach(function(g){return g.forEach(function(v){return r.push(v)})}),t){var p=s[d].types,m=p&&p[i.code];s[d]=Bp(d,t,s,c,m?[].concat(m,i.message):i.message)}r.shift()}return s}function zf(r,t,s){if(s===void 0&&(s={}),function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def}(r))return function(i,c,o){try{return Promise.resolve(Lv(function(){return Promise.resolve(r[s.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(d){return o.shouldUseNativeValidation&&np({},o),{errors:{},values:s.raw?Object.assign({},i):d}})},function(d){if(function(h){return Array.isArray(h==null?void 0:h.issues)}(d))return{values:{},errors:Pv(HE(d.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw d}))}catch(d){return Promise.reject(d)}};if(function(i){return"_zod"in i&&typeof i._zod=="object"}(r))return function(i,c,o){try{return Promise.resolve(Lv(function(){return Promise.resolve((s.mode==="sync"?qE:IE)(r,i,t)).then(function(d){return o.shouldUseNativeValidation&&np({},o),{errors:{},values:s.raw?Object.assign({},i):d}})},function(d){if(function(h){return h instanceof zE}(d))return{values:{},errors:Pv(VE(d.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}var ft;(function(r){r.assertEqual=c=>{};function t(c){}r.assertIs=t;function s(c){throw new Error}r.assertNever=s,r.arrayToEnum=c=>{const o={};for(const d of c)o[d]=d;return o},r.getValidEnumValues=c=>{const o=r.objectKeys(c).filter(h=>typeof c[c[h]]!="number"),d={};for(const h of o)d[h]=c[h];return r.objectValues(d)},r.objectValues=c=>r.objectKeys(c).map(function(o){return c[o]}),r.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const o=[];for(const d in c)Object.prototype.hasOwnProperty.call(c,d)&&o.push(d);return o},r.find=(c,o)=>{for(const d of c)if(o(d))return d},r.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&Number.isFinite(c)&&Math.floor(c)===c;function i(c,o=" | "){return c.map(d=>typeof d=="string"?`'${d}'`:d).join(o)}r.joinValues=i,r.jsonStringifyReplacer=(c,o)=>typeof o=="bigint"?o.toString():o})(ft||(ft={}));var Mv;(function(r){r.mergeShapes=(t,s)=>({...t,...s})})(Mv||(Mv={}));const Re=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ps=r=>{switch(typeof r){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return Number.isNaN(r)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(r)?Re.array:r===null?Re.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Re.promise:typeof Map<"u"&&r instanceof Map?Re.map:typeof Set<"u"&&r instanceof Set?Re.set:typeof Date<"u"&&r instanceof Date?Re.date:Re.object;default:return Re.unknown}},he=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ea extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(o){return o.message},i={_errors:[]},c=o=>{for(const d of o.issues)if(d.code==="invalid_union")d.unionErrors.map(c);else if(d.code==="invalid_return_type")c(d.returnTypeError);else if(d.code==="invalid_arguments")c(d.argumentsError);else if(d.path.length===0)i._errors.push(s(d));else{let h=i,p=0;for(;p<d.path.length;){const m=d.path[p];p===d.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(s(d))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return c(this),i}static assert(t){if(!(t instanceof Ea))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},i=[];for(const c of this.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(t(c))):i.push(t(c));return{formErrors:i,fieldErrors:s}}get formErrors(){return this.flatten()}}Ea.create=r=>new Ea(r);const rp=(r,t)=>{let s;switch(r.code){case he.invalid_type:r.received===Re.undefined?s="Required":s=`Expected ${r.expected}, received ${r.received}`;break;case he.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(r.expected,ft.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:s=`Unrecognized key(s) in object: ${ft.joinValues(r.keys,", ")}`;break;case he.invalid_union:s="Invalid input";break;case he.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ft.joinValues(r.options)}`;break;case he.invalid_enum_value:s=`Invalid enum value. Expected ${ft.joinValues(r.options)}, received '${r.received}'`;break;case he.invalid_arguments:s="Invalid function arguments";break;case he.invalid_return_type:s="Invalid function return type";break;case he.invalid_date:s="Invalid date";break;case he.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(s=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?s=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?s=`Invalid input: must end with "${r.validation.endsWith}"`:ft.assertNever(r.validation):r.validation!=="regex"?s=`Invalid ${r.validation}`:s="Invalid";break;case he.too_small:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:s="Invalid input";break;case he.too_big:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?s=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:s="Invalid input";break;case he.custom:s="Invalid input";break;case he.invalid_intersection_types:s="Intersection results could not be merged";break;case he.not_multiple_of:s=`Number must be a multiple of ${r.multipleOf}`;break;case he.not_finite:s="Number must be finite";break;default:s=t.defaultError,ft.assertNever(r)}return{message:s}};let YE=rp;function GE(){return YE}const ZE=r=>{const{data:t,path:s,errorMaps:i,issueData:c}=r,o=[...s,...c.path||[]],d={...c,path:o};if(c.message!==void 0)return{...c,path:o,message:c.message};let h="";const p=i.filter(m=>!!m).slice().reverse();for(const m of p)h=m(d,{data:t,defaultError:h}).message;return{...c,path:o,message:h}};function je(r,t){const s=GE(),i=ZE({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s,s===rp?void 0:rp].filter(c=>!!c)});r.common.issues.push(i)}class Vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const i=[];for(const c of s){if(c.status==="aborted")return qe;c.status==="dirty"&&t.dirty(),i.push(c.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,s){const i=[];for(const c of s){const o=await c.key,d=await c.value;i.push({key:o,value:d})}return Vn.mergeObjectSync(t,i)}static mergeObjectSync(t,s){const i={};for(const c of s){const{key:o,value:d}=c;if(o.status==="aborted"||d.status==="aborted")return qe;o.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof d.value<"u"||c.alwaysSet)&&(i[o.value]=d.value)}return{status:t.value,value:i}}}const qe=Object.freeze({status:"aborted"}),Uc=r=>({status:"dirty",value:r}),cr=r=>({status:"valid",value:r}),zv=r=>r.status==="aborted",$v=r=>r.status==="dirty",Nl=r=>r.status==="valid",yf=r=>typeof Promise<"u"&&r instanceof Promise;var Ne;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ne||(Ne={}));class xs{constructor(t,s,i,c){this._cachedPath=[],this.parent=t,this.data=s,this._path=i,this._key=c}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qv=(r,t)=>{if(Nl(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ea(r.common.issues);return this._error=s,this._error}}};function We(r){if(!r)return{};const{errorMap:t,invalid_type_error:s,required_error:i,description:c}=r;if(t&&(s||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:c}:{errorMap:(d,h)=>{const{message:p}=r;return d.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??i??h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:p??s??h.defaultError}},description:c}}class ut{get description(){return this._def.description}_getType(t){return ps(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vn,ctx:{common:t.parent.common,data:t.data,parsedType:ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(yf(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const i=this.safeParse(t,s);if(i.success)return i.data;throw i.error}safeParse(t,s){const i={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ps(t)},c=this._parseSync({data:t,path:i.path,parent:i});return qv(i,c)}"~validate"(t){var i,c;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ps(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:s});return Nl(o)?{value:o.value}:{issues:s.common.issues}}catch(o){(c=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&c.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(o=>Nl(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(t,s){const i=await this.safeParseAsync(t,s);if(i.success)return i.data;throw i.error}async safeParseAsync(t,s){const i={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ps(t)},c=this._parse({data:t,path:i.path,parent:i}),o=await(yf(c)?c:Promise.resolve(c));return qv(i,o)}refine(t,s){const i=c=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(c):s;return this._refinement((c,o)=>{const d=t(c),h=()=>o.addIssue({code:he.custom,...i(c)});return typeof Promise<"u"&&d instanceof Promise?d.then(p=>p?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(t,s){return this._refinement((i,c)=>t(i)?!0:(c.addIssue(typeof s=="function"?s(i,c):s),!1))}_refinement(t){return new Dl({schema:this,typeName:Fe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return bs.create(this,this._def)}nullable(){return Bl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this)}promise(){return jf.create(this,this._def)}or(t){return bf.create([this,t],this._def)}and(t){return xf.create(this,t,this._def)}transform(t){return new Dl({...We(this._def),schema:this,typeName:Fe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new lp({...We(this._def),innerType:this,defaultValue:s,typeName:Fe.ZodDefault})}brand(){return new gA({typeName:Fe.ZodBranded,type:this,...We(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new op({...We(this._def),innerType:this,catchValue:s,typeName:Fe.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Lp.create(this,t)}readonly(){return cp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QE=/^c[^\s-]{8,}$/i,KE=/^[0-9a-z]+$/,XE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WE=/^[a-z0-9_-]{21}$/i,eA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let O_;const aA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uA=new RegExp(`^${Tx}$`);function Ox(r){let t="[0-5]\\d";r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`);const s=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function dA(r){return new RegExp(`^${Ox(r)}$`)}function fA(r){let t=`${Tx}T${Ox(r)}`;const s=[];return s.push(r.local?"Z?":"Z"),r.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function hA(r,t){return!!((t==="v4"||!t)&&aA.test(r)||(t==="v6"||!t)&&iA.test(r))}function _A(r,t){if(!eA.test(r))return!1;try{const[s]=r.split("."),i=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),c=JSON.parse(atob(i));return!(typeof c!="object"||c===null||"typ"in c&&(c==null?void 0:c.typ)!=="JWT"||!c.alg||t&&c.alg!==t)}catch{return!1}}function pA(r,t){return!!((t==="v4"||!t)&&sA.test(r)||(t==="v6"||!t)&&lA.test(r))}class ys extends ut{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const o=this._getOrReturnCtx(t);return je(o,{code:he.invalid_type,expected:Re.string,received:o.parsedType}),qe}const i=new Vn;let c;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(c=this._getOrReturnCtx(t,c),je(c,{code:he.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")t.data.length>o.value&&(c=this._getOrReturnCtx(t,c),je(c,{code:he.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const d=t.data.length>o.value,h=t.data.length<o.value;(d||h)&&(c=this._getOrReturnCtx(t,c),d?je(c,{code:he.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):h&&je(c,{code:he.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")nA.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"email",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")O_||(O_=new RegExp(rA,"u")),O_.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"emoji",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")JE.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"uuid",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")WE.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"nanoid",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")QE.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"cuid",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")KE.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"cuid2",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")XE.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"ulid",code:he.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{c=this._getOrReturnCtx(t,c),je(c,{validation:"url",code:he.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"regex",code:he.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(c=this._getOrReturnCtx(t,c),je(c,{code:he.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(c=this._getOrReturnCtx(t,c),je(c,{code:he.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(c=this._getOrReturnCtx(t,c),je(c,{code:he.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?fA(o).test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{code:he.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?uA.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{code:he.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?dA(o).test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{code:he.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?tA.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"duration",code:he.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?hA(t.data,o.version)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"ip",code:he.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?_A(t.data,o.alg)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"jwt",code:he.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?pA(t.data,o.version)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"cidr",code:he.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?oA.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"base64",code:he.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?cA.test(t.data)||(c=this._getOrReturnCtx(t,c),je(c,{validation:"base64url",code:he.invalid_string,message:o.message}),i.dirty()):ft.assertNever(o);return{status:i.value,value:t.data}}_regex(t,s,i){return this.refinement(c=>t.test(c),{validation:s,code:he.invalid_string,...Ne.errToObj(i)})}_addCheck(t){return new ys({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ne.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...Ne.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Ne.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Ne.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Ne.errToObj(s)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ys.create=r=>new ys({checks:[],typeName:Fe.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...We(r)});function mA(r,t){const s=(r.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,c=s>i?s:i,o=Number.parseInt(r.toFixed(c).replace(".","")),d=Number.parseInt(t.toFixed(c).replace(".",""));return o%d/10**c}class Tl extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const o=this._getOrReturnCtx(t);return je(o,{code:he.invalid_type,expected:Re.number,received:o.parsedType}),qe}let i;const c=new Vn;for(const o of this._def.checks)o.kind==="int"?ft.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:he.invalid_type,expected:"integer",received:"float",message:o.message}),c.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:he.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),c.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:he.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),c.dirty()):o.kind==="multipleOf"?mA(t.data,o.value)!==0&&(i=this._getOrReturnCtx(t,i),je(i,{code:he.not_multiple_of,multipleOf:o.value,message:o.message}),c.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:he.not_finite,message:o.message}),c.dirty()):ft.assertNever(o);return{status:c.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Ne.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ne.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ne.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ne.toString(s))}setLimit(t,s,i,c){return new Tl({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:Ne.toString(c)}]})}_addCheck(t){return new Tl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ft.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(s===null||i.value>s)&&(s=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Tl.create=r=>new Tl({checks:[],typeName:Fe.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...We(r)});class Yc extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let i;const c=new Vn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:he.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),c.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:he.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),c.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),je(i,{code:he.not_multiple_of,multipleOf:o.value,message:o.message}),c.dirty()):ft.assertNever(o);return{status:c.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return je(s,{code:he.invalid_type,expected:Re.bigint,received:s.parsedType}),qe}gte(t,s){return this.setLimit("min",t,!0,Ne.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Ne.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Ne.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Ne.toString(s))}setLimit(t,s,i,c){return new Yc({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:Ne.toString(c)}]})}_addCheck(t){return new Yc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Yc.create=r=>new Yc({checks:[],typeName:Fe.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...We(r)});class ap extends ut{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const i=this._getOrReturnCtx(t);return je(i,{code:he.invalid_type,expected:Re.boolean,received:i.parsedType}),qe}return cr(t.data)}}ap.create=r=>new ap({typeName:Fe.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...We(r)});class vf extends ut{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const o=this._getOrReturnCtx(t);return je(o,{code:he.invalid_type,expected:Re.date,received:o.parsedType}),qe}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return je(o,{code:he.invalid_date}),qe}const i=new Vn;let c;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(c=this._getOrReturnCtx(t,c),je(c,{code:he.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(c=this._getOrReturnCtx(t,c),je(c,{code:he.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):ft.assertNever(o);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vf({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}vf.create=r=>new vf({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Fe.ZodDate,...We(r)});class Fv extends ut{_parse(t){if(this._getType(t)!==Re.symbol){const i=this._getOrReturnCtx(t);return je(i,{code:he.invalid_type,expected:Re.symbol,received:i.parsedType}),qe}return cr(t.data)}}Fv.create=r=>new Fv({typeName:Fe.ZodSymbol,...We(r)});class Iv extends ut{_parse(t){if(this._getType(t)!==Re.undefined){const i=this._getOrReturnCtx(t);return je(i,{code:he.invalid_type,expected:Re.undefined,received:i.parsedType}),qe}return cr(t.data)}}Iv.create=r=>new Iv({typeName:Fe.ZodUndefined,...We(r)});class Hv extends ut{_parse(t){if(this._getType(t)!==Re.null){const i=this._getOrReturnCtx(t);return je(i,{code:he.invalid_type,expected:Re.null,received:i.parsedType}),qe}return cr(t.data)}}Hv.create=r=>new Hv({typeName:Fe.ZodNull,...We(r)});class Vv extends ut{constructor(){super(...arguments),this._any=!0}_parse(t){return cr(t.data)}}Vv.create=r=>new Vv({typeName:Fe.ZodAny,...We(r)});class Yv extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(t){return cr(t.data)}}Yv.create=r=>new Yv({typeName:Fe.ZodUnknown,...We(r)});class js extends ut{_parse(t){const s=this._getOrReturnCtx(t);return je(s,{code:he.invalid_type,expected:Re.never,received:s.parsedType}),qe}}js.create=r=>new js({typeName:Fe.ZodNever,...We(r)});class Gv extends ut{_parse(t){if(this._getType(t)!==Re.undefined){const i=this._getOrReturnCtx(t);return je(i,{code:he.invalid_type,expected:Re.void,received:i.parsedType}),qe}return cr(t.data)}}Gv.create=r=>new Gv({typeName:Fe.ZodVoid,...We(r)});class Yr extends ut{_parse(t){const{ctx:s,status:i}=this._processInputParams(t),c=this._def;if(s.parsedType!==Re.array)return je(s,{code:he.invalid_type,expected:Re.array,received:s.parsedType}),qe;if(c.exactLength!==null){const d=s.data.length>c.exactLength.value,h=s.data.length<c.exactLength.value;(d||h)&&(je(s,{code:d?he.too_big:he.too_small,minimum:h?c.exactLength.value:void 0,maximum:d?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),i.dirty())}if(c.minLength!==null&&s.data.length<c.minLength.value&&(je(s,{code:he.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),i.dirty()),c.maxLength!==null&&s.data.length>c.maxLength.value&&(je(s,{code:he.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),i.dirty()),s.common.async)return Promise.all([...s.data].map((d,h)=>c.type._parseAsync(new xs(s,d,s.path,h)))).then(d=>Vn.mergeArray(i,d));const o=[...s.data].map((d,h)=>c.type._parseSync(new xs(s,d,s.path,h)));return Vn.mergeArray(i,o)}get element(){return this._def.type}min(t,s){return new Yr({...this._def,minLength:{value:t,message:Ne.toString(s)}})}max(t,s){return new Yr({...this._def,maxLength:{value:t,message:Ne.toString(s)}})}length(t,s){return new Yr({...this._def,exactLength:{value:t,message:Ne.toString(s)}})}nonempty(t){return this.min(1,t)}}Yr.create=(r,t)=>new Yr({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Fe.ZodArray,...We(t)});function Cl(r){if(r instanceof Yt){const t={};for(const s in r.shape){const i=r.shape[s];t[s]=bs.create(Cl(i))}return new Yt({...r._def,shape:()=>t})}else return r instanceof Yr?new Yr({...r._def,type:Cl(r.element)}):r instanceof bs?bs.create(Cl(r.unwrap())):r instanceof Bl?Bl.create(Cl(r.unwrap())):r instanceof ai?ai.create(r.items.map(t=>Cl(t))):r}class Yt extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=ft.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Re.object){const m=this._getOrReturnCtx(t);return je(m,{code:he.invalid_type,expected:Re.object,received:m.parsedType}),qe}const{status:i,ctx:c}=this._processInputParams(t),{shape:o,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const m in c.data)d.includes(m)||h.push(m);const p=[];for(const m of d){const g=o[m],v=c.data[m];p.push({key:{status:"valid",value:m},value:g._parse(new xs(c,v,c.path,m)),alwaysSet:m in c.data})}if(this._def.catchall instanceof js){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of h)p.push({key:{status:"valid",value:g},value:{status:"valid",value:c.data[g]}});else if(m==="strict")h.length>0&&(je(c,{code:he.unrecognized_keys,keys:h}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of h){const v=c.data[g];p.push({key:{status:"valid",value:g},value:m._parse(new xs(c,v,c.path,g)),alwaysSet:g in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of p){const v=await g.key,y=await g.value;m.push({key:v,value:y,alwaysSet:g.alwaysSet})}return m}).then(m=>Vn.mergeObjectSync(i,m)):Vn.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new Yt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,i)=>{var o,d;const c=((d=(o=this._def).errorMap)==null?void 0:d.call(o,s,i).message)??i.defaultError;return s.code==="unrecognized_keys"?{message:Ne.errToObj(t).message??c}:{message:c}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Yt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Yt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Fe.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new Yt({...this._def,catchall:t})}pick(t){const s={};for(const i of ft.objectKeys(t))t[i]&&this.shape[i]&&(s[i]=this.shape[i]);return new Yt({...this._def,shape:()=>s})}omit(t){const s={};for(const i of ft.objectKeys(this.shape))t[i]||(s[i]=this.shape[i]);return new Yt({...this._def,shape:()=>s})}deepPartial(){return Cl(this)}partial(t){const s={};for(const i of ft.objectKeys(this.shape)){const c=this.shape[i];t&&!t[i]?s[i]=c:s[i]=c.optional()}return new Yt({...this._def,shape:()=>s})}required(t){const s={};for(const i of ft.objectKeys(this.shape))if(t&&!t[i])s[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof bs;)o=o._def.innerType;s[i]=o}return new Yt({...this._def,shape:()=>s})}keyof(){return Dx(ft.objectKeys(this.shape))}}Yt.create=(r,t)=>new Yt({shape:()=>r,unknownKeys:"strip",catchall:js.create(),typeName:Fe.ZodObject,...We(t)});Yt.strictCreate=(r,t)=>new Yt({shape:()=>r,unknownKeys:"strict",catchall:js.create(),typeName:Fe.ZodObject,...We(t)});Yt.lazycreate=(r,t)=>new Yt({shape:r,unknownKeys:"strip",catchall:js.create(),typeName:Fe.ZodObject,...We(t)});class bf extends ut{_parse(t){const{ctx:s}=this._processInputParams(t),i=this._def.options;function c(o){for(const h of o)if(h.result.status==="valid")return h.result;for(const h of o)if(h.result.status==="dirty")return s.common.issues.push(...h.ctx.common.issues),h.result;const d=o.map(h=>new Ea(h.ctx.common.issues));return je(s,{code:he.invalid_union,unionErrors:d}),qe}if(s.common.async)return Promise.all(i.map(async o=>{const d={...s,common:{...s.common,issues:[]},parent:null};return{result:await o._parseAsync({data:s.data,path:s.path,parent:d}),ctx:d}})).then(c);{let o;const d=[];for(const p of i){const m={...s,common:{...s.common,issues:[]},parent:null},g=p._parseSync({data:s.data,path:s.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(o)return s.common.issues.push(...o.ctx.common.issues),o.result;const h=d.map(p=>new Ea(p));return je(s,{code:he.invalid_union,unionErrors:h}),qe}}get options(){return this._def.options}}bf.create=(r,t)=>new bf({options:r,typeName:Fe.ZodUnion,...We(t)});function sp(r,t){const s=ps(r),i=ps(t);if(r===t)return{valid:!0,data:r};if(s===Re.object&&i===Re.object){const c=ft.objectKeys(t),o=ft.objectKeys(r).filter(h=>c.indexOf(h)!==-1),d={...r,...t};for(const h of o){const p=sp(r[h],t[h]);if(!p.valid)return{valid:!1};d[h]=p.data}return{valid:!0,data:d}}else if(s===Re.array&&i===Re.array){if(r.length!==t.length)return{valid:!1};const c=[];for(let o=0;o<r.length;o++){const d=r[o],h=t[o],p=sp(d,h);if(!p.valid)return{valid:!1};c.push(p.data)}return{valid:!0,data:c}}else return s===Re.date&&i===Re.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class xf extends ut{_parse(t){const{status:s,ctx:i}=this._processInputParams(t),c=(o,d)=>{if(zv(o)||zv(d))return qe;const h=sp(o.value,d.value);return h.valid?(($v(o)||$v(d))&&s.dirty(),{status:s.value,value:h.data}):(je(i,{code:he.invalid_intersection_types}),qe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,d])=>c(o,d)):c(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}xf.create=(r,t,s)=>new xf({left:r,right:t,typeName:Fe.ZodIntersection,...We(s)});class ai extends ut{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.array)return je(i,{code:he.invalid_type,expected:Re.array,received:i.parsedType}),qe;if(i.data.length<this._def.items.length)return je(i,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&i.data.length>this._def.items.length&&(je(i,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const o=[...i.data].map((d,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new xs(i,d,i.path,h)):null}).filter(d=>!!d);return i.common.async?Promise.all(o).then(d=>Vn.mergeArray(s,d)):Vn.mergeArray(s,o)}get items(){return this._def.items}rest(t){return new ai({...this._def,rest:t})}}ai.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ai({items:r,typeName:Fe.ZodTuple,rest:null,...We(t)})};class Zv extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.map)return je(i,{code:he.invalid_type,expected:Re.map,received:i.parsedType}),qe;const c=this._def.keyType,o=this._def.valueType,d=[...i.data.entries()].map(([h,p],m)=>({key:c._parse(new xs(i,h,i.path,[m,"key"])),value:o._parse(new xs(i,p,i.path,[m,"value"]))}));if(i.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of d){const m=await p.key,g=await p.value;if(m.status==="aborted"||g.status==="aborted")return qe;(m.status==="dirty"||g.status==="dirty")&&s.dirty(),h.set(m.value,g.value)}return{status:s.value,value:h}})}else{const h=new Map;for(const p of d){const m=p.key,g=p.value;if(m.status==="aborted"||g.status==="aborted")return qe;(m.status==="dirty"||g.status==="dirty")&&s.dirty(),h.set(m.value,g.value)}return{status:s.value,value:h}}}}Zv.create=(r,t,s)=>new Zv({valueType:t,keyType:r,typeName:Fe.ZodMap,...We(s)});class Gc extends ut{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Re.set)return je(i,{code:he.invalid_type,expected:Re.set,received:i.parsedType}),qe;const c=this._def;c.minSize!==null&&i.data.size<c.minSize.value&&(je(i,{code:he.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),s.dirty()),c.maxSize!==null&&i.data.size>c.maxSize.value&&(je(i,{code:he.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),s.dirty());const o=this._def.valueType;function d(p){const m=new Set;for(const g of p){if(g.status==="aborted")return qe;g.status==="dirty"&&s.dirty(),m.add(g.value)}return{status:s.value,value:m}}const h=[...i.data.values()].map((p,m)=>o._parse(new xs(i,p,i.path,m)));return i.common.async?Promise.all(h).then(p=>d(p)):d(h)}min(t,s){return new Gc({...this._def,minSize:{value:t,message:Ne.toString(s)}})}max(t,s){return new Gc({...this._def,maxSize:{value:t,message:Ne.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Gc.create=(r,t)=>new Gc({valueType:r,minSize:null,maxSize:null,typeName:Fe.ZodSet,...We(t)});class Qv extends ut{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Qv.create=(r,t)=>new Qv({getter:r,typeName:Fe.ZodLazy,...We(t)});class ip extends ut{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return je(s,{received:s.data,code:he.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}ip.create=(r,t)=>new ip({value:r,typeName:Fe.ZodLiteral,...We(t)});function Dx(r,t){return new Ol({values:r,typeName:Fe.ZodEnum,...We(t)})}class Ol extends ut{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),i=this._def.values;return je(s,{expected:ft.joinValues(i),received:s.parsedType,code:he.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),i=this._def.values;return je(s,{received:s.data,code:he.invalid_enum_value,options:i}),qe}return cr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Ol.create(t,{...this._def,...s})}exclude(t,s=this._def){return Ol.create(this.options.filter(i=>!t.includes(i)),{...this._def,...s})}}Ol.create=Dx;class Kv extends ut{_parse(t){const s=ft.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Re.string&&i.parsedType!==Re.number){const c=ft.objectValues(s);return je(i,{expected:ft.joinValues(c),received:i.parsedType,code:he.invalid_type}),qe}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const c=ft.objectValues(s);return je(i,{received:i.data,code:he.invalid_enum_value,options:c}),qe}return cr(t.data)}get enum(){return this._def.values}}Kv.create=(r,t)=>new Kv({values:r,typeName:Fe.ZodNativeEnum,...We(t)});class jf extends ut{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Re.promise&&s.common.async===!1)return je(s,{code:he.invalid_type,expected:Re.promise,received:s.parsedType}),qe;const i=s.parsedType===Re.promise?s.data:Promise.resolve(s.data);return cr(i.then(c=>this._def.type.parseAsync(c,{path:s.path,errorMap:s.common.contextualErrorMap})))}}jf.create=(r,t)=>new jf({type:r,typeName:Fe.ZodPromise,...We(t)});class Dl extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Fe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:i}=this._processInputParams(t),c=this._def.effect||null,o={addIssue:d=>{je(i,d),d.fatal?s.abort():s.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),c.type==="preprocess"){const d=c.transform(i.data,o);if(i.common.async)return Promise.resolve(d).then(async h=>{if(s.value==="aborted")return qe;const p=await this._def.schema._parseAsync({data:h,path:i.path,parent:i});return p.status==="aborted"?qe:p.status==="dirty"||s.value==="dirty"?Uc(p.value):p});{if(s.value==="aborted")return qe;const h=this._def.schema._parseSync({data:d,path:i.path,parent:i});return h.status==="aborted"?qe:h.status==="dirty"||s.value==="dirty"?Uc(h.value):h}}if(c.type==="refinement"){const d=h=>{const p=c.refinement(h,o);if(i.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(i.common.async===!1){const h=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return h.status==="aborted"?qe:(h.status==="dirty"&&s.dirty(),d(h.value),{status:s.value,value:h.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(h=>h.status==="aborted"?qe:(h.status==="dirty"&&s.dirty(),d(h.value).then(()=>({status:s.value,value:h.value}))))}if(c.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Nl(d))return qe;const h=c.transform(d.value,o);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:h}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>Nl(d)?Promise.resolve(c.transform(d.value,o)).then(h=>({status:s.value,value:h})):qe);ft.assertNever(c)}}Dl.create=(r,t,s)=>new Dl({schema:r,typeName:Fe.ZodEffects,effect:t,...We(s)});Dl.createWithPreprocess=(r,t,s)=>new Dl({schema:t,effect:{type:"preprocess",transform:r},typeName:Fe.ZodEffects,...We(s)});class bs extends ut{_parse(t){return this._getType(t)===Re.undefined?cr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bs.create=(r,t)=>new bs({innerType:r,typeName:Fe.ZodOptional,...We(t)});class Bl extends ut{_parse(t){return this._getType(t)===Re.null?cr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bl.create=(r,t)=>new Bl({innerType:r,typeName:Fe.ZodNullable,...We(t)});class lp extends ut{_parse(t){const{ctx:s}=this._processInputParams(t);let i=s.data;return s.parsedType===Re.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}lp.create=(r,t)=>new lp({innerType:r,typeName:Fe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...We(t)});class op extends ut{_parse(t){const{ctx:s}=this._processInputParams(t),i={...s,common:{...s.common,issues:[]}},c=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return yf(c)?c.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ea(i.common.issues)},input:i.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new Ea(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}op.create=(r,t)=>new op({innerType:r,typeName:Fe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...We(t)});class Xv extends ut{_parse(t){if(this._getType(t)!==Re.nan){const i=this._getOrReturnCtx(t);return je(i,{code:he.invalid_type,expected:Re.nan,received:i.parsedType}),qe}return{status:"valid",value:t.data}}}Xv.create=r=>new Xv({typeName:Fe.ZodNaN,...We(r)});class gA extends ut{_parse(t){const{ctx:s}=this._processInputParams(t),i=s.data;return this._def.type._parse({data:i,path:s.path,parent:s})}unwrap(){return this._def.type}}class Lp extends ut{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?qe:o.status==="dirty"?(s.dirty(),Uc(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const c=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?qe:c.status==="dirty"?(s.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:i.path,parent:i})}}static create(t,s){return new Lp({in:t,out:s,typeName:Fe.ZodPipeline})}}class cp extends ut{_parse(t){const s=this._def.innerType._parse(t),i=c=>(Nl(c)&&(c.value=Object.freeze(c.value)),c);return yf(s)?s.then(c=>i(c)):i(s)}unwrap(){return this._def.innerType}}cp.create=(r,t)=>new cp({innerType:r,typeName:Fe.ZodReadonly,...We(t)});var Fe;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Fe||(Fe={}));const be=ys.create,Le=Tl.create,ct=ap.create;js.create;const Sa=Yr.create,Be=Yt.create;bf.create;xf.create;ai.create;const Bx=ip.create,yA=Ol.create;jf.create;bs.create;Bl.create;const vA=Be({description_main:be().min(1,"Main activity description is required"),description_business:be().min(1,"Business description is required"),turnover_percentage:be().refine(r=>{const t=parseFloat(r.replace("%",""));return!isNaN(t)&&t>=0&&t<=100},"Turnover percentage must be between 0 and 100")}),bA=Be({product_service:be().min(1,"Product/Service description is required"),nic_code:be().min(1,"NIC code is required"),turnover_contributed:be().refine(r=>{const t=parseFloat(r.replace("%",""));return!isNaN(t)&&t>=0&&t<=100},"Turnover percentage must be between 0 and 100")}),xA=Be({name:be().min(1,"Company name is required"),cin_or_country:be().min(1,"CIN or Country is required"),type:yA(["Holding","Subsidiary","Associate"]),percentage_holding:be().refine(r=>{const t=parseFloat(r.replace("%",""));return!isNaN(t)&&t>=0&&t<=100},"Holding percentage must be between 0 and 100")}),jA=Be({company_name:be().min(1,"Company name is required"),cin:be().min(1,"CIN is required").regex(/^[A-Z]{1}[0-9]{5}[A-Z]{2}[0-9]{4}[A-Z]{3}[0-9]{6}$/,"CIN must be in format L12345AB1234ABC123456"),year_of_incorporation:be().refine(r=>{const t=parseInt(r),s=new Date().getFullYear();return!isNaN(t)&&t>=1800&&t<=s},`Year must be between 1800 and ${new Date().getFullYear()}`),registered_office_address:be().min(1,"Registered office address is required"),corporate_address:be().optional(),email:be().email("Please enter a valid email address").optional().or(Bx("")),telephone:be().optional(),website:be().optional().refine(r=>!r||/^https?:\/\/.+/.test(r),"Website must start with http:// or https://"),paid_up_capital:be().refine(r=>!r||!isNaN(r)&&parseFloat(r)>=0,"Paid up capital must be a valid positive number").optional(),stock_exchange_listed:Sa(be()).optional(),brsr_contact_name:be().min(1,"BRSR contact name is required"),brsr_contact_mail:be().email("Please enter a valid email address"),brsr_contact_number:be().min(1,"BRSR contact number is required")}),wA=Be({sa_business_activities_turnover:Sa(vA).min(1,"At least one business activity is required"),sa_product_services_turnover:Sa(bA).min(1,"At least one product/service is required"),sa_locations_plants_offices:Be({national_plants:Le().min(0,"Must be 0 or greater"),national_offices:Le().min(0,"Must be 0 or greater"),international_plants:Le().min(0,"Must be 0 or greater"),international_offices:Le().min(0,"Must be 0 or greater")}),sa_markets_served:Be({locations:Be({national_states:Le().min(0,"Must be 0 or greater"),international_countries:Le().min(0,"Must be 0 or greater")}),exports_percentage:be().refine(r=>{const t=parseFloat(r.replace("%",""));return!isNaN(t)&&t>=0&&t<=100},"Export percentage must be between 0 and 100"),customer_types:be().optional()}),sa_employee_details:Be({permanent_male:Le().min(0,"Must be 0 or greater"),permanent_female:Le().min(0,"Must be 0 or greater"),other_than_permanent_male:Le().min(0,"Must be 0 or greater"),other_than_permanent_female:Le().min(0,"Must be 0 or greater")}),sa_workers_details:Be({permanent_male:Le().min(0,"Must be 0 or greater"),permanent_female:Le().min(0,"Must be 0 or greater"),other_than_permanent_male:Le().min(0,"Must be 0 or greater"),other_than_permanent_female:Le().min(0,"Must be 0 or greater")}),sa_differently_abled_details:Be({employees_male:Le().min(0,"Must be 0 or greater"),employees_female:Le().min(0,"Must be 0 or greater"),workers_male:Le().min(0,"Must be 0 or greater"),workers_female:Le().min(0,"Must be 0 or greater")}),sa_women_representation_details:Be({board_total_members:Le().min(0,"Must be 0 or greater"),board_number_of_women:Le().min(0,"Must be 0 or greater"),kmp_total_personnel:Le().min(0,"Must be 0 or greater"),kmp_number_of_women:Le().min(0,"Must be 0 or greater")}).refine(r=>r.board_number_of_women<=r.board_total_members,"Number of women on board cannot exceed total board members").refine(r=>r.kmp_number_of_women<=r.kmp_total_personnel,"Number of women in KMP cannot exceed total KMP personnel"),sa_turnover_rate:Be({permanent_employees_turnover_rate:be().refine(r=>{if(!r)return!0;const t=parseFloat(r.replace("%",""));return!isNaN(t)&&t>=0},"Turnover rate must be a valid percentage").optional(),permanent_workers_turnover_rate:be().refine(r=>{if(!r)return!0;const t=parseFloat(r.replace("%",""));return!isNaN(t)&&t>=0},"Turnover rate must be a valid percentage").optional()}),sa_holding_subsidiary_associate_companies:Sa(xA).optional(),sa_csr_applicable:ct(),sa_csr_turnover:be().optional(),sa_csr_net_worth:be().optional(),sa_transparency_complaints:Be({received:Le().min(0,"Must be 0 or greater"),pending:Le().min(0,"Must be 0 or greater"),remarks:be().optional()}).refine(r=>r.pending<=r.received,"Pending complaints cannot exceed total received complaints")}),SA=Be({companyInfo:jA,sectionAData:wA}),CA={company_name:"",cin:"",year_of_incorporation:"",registered_office_address:"",corporate_address:"",email:"",telephone:"",website:"",paid_up_capital:"",stock_exchange_listed:[],brsr_contact_name:"",brsr_contact_mail:"",brsr_contact_number:""},Dc={sa_business_activities_turnover:[{description_main:"",description_business:"",turnover_percentage:""}],sa_product_services_turnover:[{product_service:"",nic_code:"",turnover_contributed:""}],sa_locations_plants_offices:{national_plants:0,national_offices:0,international_plants:0,international_offices:0},sa_markets_served:{locations:{national_states:0,international_countries:0},exports_percentage:"0",customer_types:""},sa_employee_details:{permanent_male:0,permanent_female:0,other_than_permanent_male:0,other_than_permanent_female:0},sa_workers_details:{permanent_male:0,permanent_female:0,other_than_permanent_male:0,other_than_permanent_female:0},sa_differently_abled_details:{employees_male:0,employees_female:0,workers_male:0,workers_female:0},sa_women_representation_details:{board_total_members:0,board_number_of_women:0,kmp_total_personnel:0,kmp_number_of_women:0},sa_turnover_rate:{permanent_employees_turnover_rate:"",permanent_workers_turnover_rate:""},sa_holding_subsidiary_associate_companies:[{name:"",cin_or_country:"",type:"Holding",percentage_holding:""}],sa_csr_applicable:!1,sa_csr_turnover:"",sa_csr_net_worth:"",sa_transparency_complaints:{received:0,pending:0,remarks:""}},kA=(r,t)=>{const[s,i]=D.useState(!1),[c,o]=D.useState(""),[d,h]=D.useState(""),p=Pf({resolver:zf(SA),defaultValues:{companyInfo:CA,sectionAData:Dc},mode:"onChange"}),{reset:m,formState:{errors:g,isSubmitting:v}}=p;return D.useEffect(()=>{(async()=>{try{i(!0);const N=await Np(),T={company_name:N.company_name||"",cin:N.cin||"",year_of_incorporation:N.year_of_incorporation||"",registered_office_address:N.registered_office_address||"",corporate_address:N.corporate_address||"",email:N.email||"",telephone:N.telephone||"",website:N.website||"",paid_up_capital:N.paid_up_capital||"",stock_exchange_listed:N.stock_exchange_listed||[],brsr_contact_name:N.brsr_contact_name||"",brsr_contact_mail:N.brsr_contact_mail||"",brsr_contact_number:N.brsr_contact_number||""};p.setValue("companyInfo",T)}catch(N){console.error("Error fetching company profile:",N),o(N.message||"Failed to fetch company profile")}finally{i(!1)}})()},[p]),D.useEffect(()=>{if(r&&r.section_a_data){const j={...Dc,...Object.fromEntries(Object.keys(Dc).map(N=>[N,r.section_a_data[N]!==void 0?r.section_a_data[N]:Dc[N]]))};p.setValue("sectionAData",j)}else r&&p.setValue("sectionAData",Dc)},[r,p]),{form:p,isLoading:s,isSubmitting:v,localError:c,localSuccess:d,errors:g,onSubmit:async j=>{try{o(""),h(""),t(""),await ux(j.companyInfo),await Wc({section_a_data:j.sectionAData}),h("Section A data saved successfully!")}catch(N){console.error("Error saving Section A data:",N);const T=N.message||"Failed to save data";o(T),t(T)}},setLocalError:o,setLocalSuccess:h,addBusinessActivity:()=>{const j=p.getValues("sectionAData.sa_business_activities_turnover");p.setValue("sectionAData.sa_business_activities_turnover",[...j,{description_main:"",description_business:"",turnover_percentage:""}])},removeBusinessActivity:j=>{const N=p.getValues("sectionAData.sa_business_activities_turnover");N.length>1&&p.setValue("sectionAData.sa_business_activities_turnover",N.filter((T,z)=>z!==j))},addProductService:()=>{const j=p.getValues("sectionAData.sa_product_services_turnover");p.setValue("sectionAData.sa_product_services_turnover",[...j,{product_service:"",nic_code:"",turnover_contributed:""}])},removeProductService:j=>{const N=p.getValues("sectionAData.sa_product_services_turnover");N.length>1&&p.setValue("sectionAData.sa_product_services_turnover",N.filter((T,z)=>z!==j))},addHoldingCompany:()=>{const j=p.getValues("sectionAData.sa_holding_subsidiary_associate_companies")||[];p.setValue("sectionAData.sa_holding_subsidiary_associate_companies",[...j,{name:"",cin_or_country:"",type:"Holding",percentage_holding:""}])},removeHoldingCompany:j=>{const N=p.getValues("sectionAData.sa_holding_subsidiary_associate_companies")||[];p.setValue("sectionAData.sa_holding_subsidiary_associate_companies",N.filter((T,z)=>z!==j))},calculatePercentage:(j,N)=>{const T=parseFloat(j),z=parseFloat(N);return isNaN(T)||isNaN(z)||z===0?"0.00%":(T/z*100).toFixed(2)+"%"}}},gr={background:"#f8f9fa",borderRadius:8,padding:20,marginBottom:24,boxShadow:"0 1px 4px rgba(0,0,0,0.04)"};function EA(){const{reportData:r,setError:t}=or(),{form:s,isLoading:i,isSubmitting:c,localError:o,localSuccess:d,onSubmit:h,addBusinessActivity:p,removeBusinessActivity:m,addProductService:g,removeProductService:v,addHoldingCompany:y,removeHoldingCompany:E,calculatePercentage:w}=kA(r,t),{handleSubmit:R,control:A,watch:k}=s;return i?a.jsx(Lf,{message:"Loading company profile..."}):a.jsx(Bf,{...s,children:a.jsxs("div",{className:"section-form",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{children:"Section A: General Disclosures"}),a.jsx("p",{children:"Please provide company details and basic information required for BRSR reporting."})]}),(o||d)&&a.jsx(Uf,{errors:o?[o]:[],success:d}),a.jsxs("form",{onSubmit:R(h),noValidate:!0,children:[a.jsx($t,{title:"Company Information",style:gr,children:a.jsx(yE,{control:A})}),a.jsx($t,{title:"BRSR Contact Information",style:gr,children:a.jsx(vE,{control:A})}),a.jsx($t,{title:"Business Activities Contributing to Turnover",style:gr,children:a.jsx(bE,{control:A,onAdd:p,onRemove:m})}),a.jsx($t,{title:"Products/Services Contributing to Turnover",style:gr,children:a.jsx(xE,{control:A,onAdd:g,onRemove:v})}),a.jsxs($t,{title:"Locations of Plants and Offices",style:gr,children:[a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_locations_plants_offices.national_plants",control:A,label:"National - Plants",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_locations_plants_offices.national_offices",control:A,label:"National - Offices",type:"number",min:"0"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_locations_plants_offices.international_plants",control:A,label:"International - Plants",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_locations_plants_offices.international_offices",control:A,label:"International - Offices",type:"number",min:"0"})})]})]}),a.jsxs($t,{title:"Markets Served by the Entity",style:gr,children:[a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_markets_served.locations.national_states",control:A,label:"Number of States",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_markets_served.locations.international_countries",control:A,label:"Number of Countries",type:"number",min:"0"})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_markets_served.exports_percentage",control:A,label:"What is the contribution of exports as a percentage of the total turnover?",placeholder:"e.g., 25%"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_markets_served.customer_types",control:A,label:"Types of customers",as:"textarea",rows:3,placeholder:"Describe the types of customers (e.g., B2B, B2C, Government, etc.)"})})]})]}),a.jsx($t,{title:"Employee and Worker Demographics",style:gr,children:a.jsx(jE,{control:A,calculatePercentage:w,watch:k})}),a.jsx($t,{title:"Turnover Rate for the Current Year and Previous Year",style:gr,children:a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_turnover_rate.permanent_employees_turnover_rate",control:A,label:"Permanent Employees Turnover Rate",placeholder:"e.g., 5.2%"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_turnover_rate.permanent_workers_turnover_rate",control:A,label:"Permanent Workers Turnover Rate",placeholder:"e.g., 3.8%"})})]})}),a.jsx($t,{title:"Holding, Subsidiary and Associate Companies",style:gr,children:a.jsx(AA,{control:A,onAdd:y,onRemove:E})}),a.jsxs($t,{title:"CSR Details",style:gr,children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_csr_applicable",control:A,label:"Whether CSR is applicable as per section 135 of Companies Act, 2013",type:"checkbox"})}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_csr_turnover",control:A,label:"Turnover (in ₹)",placeholder:"e.g., 500000000"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_csr_net_worth",control:A,label:"Net worth (in ₹)",placeholder:"e.g., 250000000"})})]})]}),a.jsxs($t,{title:"Transparency and Disclosures Complaints",style:gr,children:[a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_transparency_complaints.received",control:A,label:"Complaints received",type:"number",min:"0"})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_transparency_complaints.pending",control:A,label:"Complaints pending",type:"number",min:"0"})})]}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:"sectionAData.sa_transparency_complaints.remarks",control:A,label:"Remarks",as:"textarea",rows:3,placeholder:"Any additional remarks about transparency and disclosure complaints"})})]}),a.jsx("div",{style:{marginTop:32,textAlign:"center"},children:a.jsx(Gr,{type:"submit",disabled:c,style:{background:"#007bff",color:"#fff",border:"none",borderRadius:6,padding:"12px 24px",fontWeight:600,fontSize:"1em",cursor:c?"not-allowed":"pointer",opacity:c?.7:1,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:c?"Saving...":"Save Section A"})})]})]})})}const AA=({control:r,onAdd:t,onRemove:s})=>{const{watch:i}=Fl(),c=i("sectionAData.sa_holding_subsidiary_associate_companies")||[];return a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:16},children:a.jsx(Gr,{type:"button",onClick:t,style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 16px",cursor:"pointer"},children:"Add Company"})}),c.map((o,d)=>a.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:4,padding:16,marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[a.jsxs("h4",{style:{margin:0},children:["Company ",d+1]}),a.jsx(Gr,{type:"button",onClick:()=>s(d),style:{background:"#dc3545",color:"#fff",border:"none",borderRadius:4,padding:"4px 8px",cursor:"pointer",fontSize:"0.875em"},children:"Remove"})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_holding_subsidiary_associate_companies.${d}.name`,control:r,label:"Name of the company",required:!0})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_holding_subsidiary_associate_companies.${d}.cin_or_country`,control:r,label:"CIN/GLN or Country of Incorporation",required:!0})})]}),a.jsxs("div",{className:"form-row",children:[a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_holding_subsidiary_associate_companies.${d}.type`,control:r,label:"Holding/Subsidiary/Associate",as:"select",options:[{value:"Holding",label:"Holding"},{value:"Subsidiary",label:"Subsidiary"},{value:"Associate",label:"Associate"}],required:!0})}),a.jsx("div",{className:"form-group",children:a.jsx(ae,{name:`sectionAData.sa_holding_subsidiary_associate_companies.${d}.percentage_holding`,control:r,label:"% of shareholding",placeholder:"e.g., 75%",required:!0})})]})]},d))]})},RA=Be({principle:Le().min(1).max(9),has_policy:ct(),is_board_approved:ct(),policy_text_or_url:be().optional(),translated_to_procedures:ct(),extends_to_value_chain:ct(),adopted_standards:be().optional(),specific_commitments_goals_targets:be().optional(),performance_against_targets:be().optional(),reason_q12_not_material:ct(),reason_q12_not_at_stage:ct(),reason_q12_no_resources:ct(),reason_q12_planned_next_year:ct(),reason_q12_other_text:be().optional()}),NA=Be({sb_director_statement:be().min(1,"Director statement is required"),sb_esg_responsible_individual:Be({name:be().min(1,"Name is required"),designation:be().min(1,"Designation is required"),din_if_director:be().optional(),email:be().email("Invalid email address"),phone:be().min(1,"Phone number is required")}),sb_principle_policies:Sa(RA).length(9,"Must have exactly 9 principle policies"),sb_sustainability_committee:Be({has_committee:ct(),details:be().optional()}),sb_ngrbc_company_review:Be({performance_review_yn:ct(),compliance_review_yn:ct(),review_undertaken_by:be().optional(),frequency:be().optional()}),sb_external_policy_assessment:Be({conducted:ct(),agency_name:be().optional()})}),Px=r=>({principle:r,has_policy:!1,is_board_approved:!1,policy_text_or_url:"",translated_to_procedures:!1,extends_to_value_chain:!1,adopted_standards:"",specific_commitments_goals_targets:"",performance_against_targets:"",reason_q12_not_material:!1,reason_q12_not_at_stage:!1,reason_q12_no_resources:!1,reason_q12_planned_next_year:!1,reason_q12_other_text:""}),D_=()=>({sb_director_statement:"",sb_esg_responsible_individual:{name:"",designation:"",din_if_director:"",email:"",phone:""},sb_principle_policies:Array.from({length:9},(r,t)=>Px(t+1)),sb_sustainability_committee:{has_committee:!1,details:""},sb_ngrbc_company_review:{performance_review_yn:!1,compliance_review_yn:!1,review_undertaken_by:"",frequency:""},sb_external_policy_assessment:{conducted:!1,agency_name:""}}),TA=(r,t)=>{const[s,i]=D.useState(!0),[c,o]=D.useState(""),[d,h]=D.useState(""),p=Pf({resolver:zf(NA),defaultValues:D_(),mode:"onChange"}),{reset:m,handleSubmit:g,formState:{isSubmitting:v,errors:y}}=p;D.useEffect(()=>{if(r!=null&&r.section_b_data){const R={...D_(),...r.section_b_data};(!Array.isArray(R.sb_principle_policies)||R.sb_principle_policies.length!==9)&&(R.sb_principle_policies=Array.from({length:9},(A,k)=>{var C;return{...Px(k+1),...((C=r.section_b_data.sb_principle_policies)==null?void 0:C[k])||{}}})),m(R)}else m(D_());i(!1)},[r,m]);const E=D.useCallback(async R=>{o(""),h(""),t==null||t("");try{if(!(r!=null&&r.id))throw new Error("Report ID not found");const A={section_b_data:R};return await Wc(r.id,A),h("Section B saved successfully!"),!0}catch(A){console.error("Error saving Section B:",A);const k=A.message||"Failed to save Section B data";return o(k),t==null||t(k),!1}},[r,t]),w=D.useCallback((R,A,k)=>{const b=p.getValues("sb_principle_policies").map((j,N)=>N===R?{...j,[A]:k}:j);p.setValue("sb_principle_policies",b)},[p]);return{form:p,isLoading:s,isSubmitting:v,localError:c,localSuccess:d,errors:y,onSubmit:g(E),setLocalError:o,setLocalSuccess:h,updatePrinciplePolicy:w}},Jd={background:"#f8f9fa",borderRadius:8,padding:20,marginBottom:24,boxShadow:"0 1px 4px rgba(0,0,0,0.04)"};function OA(){const{reportData:r,isSubmitted:t,isLoadingSave:s,setError:i}=or(),{form:c,isLoading:o,isSubmitting:d,localError:h,localSuccess:p,errors:m,onSubmit:g}=TA(r,i),{handleSubmit:v,control:y}=c;if(o)return a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[a.jsx(Lf,{}),a.jsx("span",{style:{marginLeft:12},children:"Loading Section B data..."})]});const E=t||d||s;return a.jsx(Bf,{...c,children:a.jsxs("form",{onSubmit:v(g),className:"profile-form section-b-form",children:[a.jsx("h3",{children:"Section B: Management and Process Disclosures"}),a.jsx("p",{style:{color:"#6c757d",marginBottom:32},children:"This section covers management and process-related disclosures for your organization's business responsibility practices."}),h&&a.jsx("div",{style:{color:"#dc3545",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:12,borderRadius:4,marginBottom:16},children:h}),p&&a.jsx("div",{style:{color:"#155724",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",padding:12,borderRadius:4,marginBottom:16},children:p}),Object.keys(m).length>0&&a.jsx(Uf,{errors:m}),a.jsx($t,{title:"Director's Statement (Q1)",style:Jd,children:a.jsx(wE,{control:y,disabled:E})}),a.jsx($t,{title:"Highest Authority Responsible for Implementation (Q2)",style:Jd,children:a.jsx(SE,{control:y,disabled:E})}),a.jsx($t,{title:"Policies for NGRBC Principles (Q3)",style:Jd,children:a.jsx(EE,{control:y,disabled:E})}),a.jsx($t,{title:"Governance and Oversight (Q9-Q11)",style:Jd,children:a.jsx(AE,{control:y,disabled:E})}),a.jsx("hr",{style:{margin:"32px 0"}}),!t&&a.jsx(Gr,{type:"submit",variant:"primary",loading:d||s,disabled:d||s,style:{marginTop:20},children:d||s?"Saving...":"Save Section B"}),t&&a.jsx("p",{style:{color:"#28a745",fontWeight:500,textAlign:"center"},children:"This section is part of a submitted report and cannot be edited."})]})})}const DA=Be({anti_corruption_policy:Be({has_policy:ct(),details:be().optional(),weblink:be().optional()}),disciplinary_actions_by_le_agencies:Be({fy_2022_23:Be({directors:Le().nullable(),kmps:Le().nullable(),employees_executives:Le().nullable(),workers_non_executives:Le().nullable()})}),complaints_conflict_of_interest:Be({directors_number:Le().nullable(),directors_remarks:be().optional(),kmps_number:Le().nullable(),kmps_remarks:be().optional()}),corrective_actions_on_corruption_coi:Be({details:be().optional()}),p1_training_coverage:Be({board_of_directors:Be({programs_held:Le().nullable(),topics_principles:be().optional(),percent_covered:Le().nullable()}),kmp:Be({programs_held:Le().nullable(),topics_principles:be().optional(),percent_covered:Le().nullable()}),employees_other_than_bod_kmp_executives:Be({programs_held:Le().nullable(),topics_principles:be().optional(),percent_covered:Le().nullable()}),workers:Be({programs_held:Le().nullable(),topics_principles:be().optional(),percent_covered:Le().nullable()})}),p1_fines_penalties_paid:Be({monetary_details:be().optional(),non_monetary_details:be().optional()}),p1_appeal_details_for_fines_penalties:Be({details:be().optional()}),esg_training_employees:Be({has_program:ct().nullable(),employees_trained_count:Le().nullable()})}),BA=Be({conflict_of_interest_policy_communication:Be({communicated:ct().nullable(),how_communicated:be().nullable(),reasons_if_not:be().nullable()}),conflict_of_interest_training:Be({covered_directors:ct().nullable(),covered_kmps:ct().nullable(),covered_employees:ct().nullable(),fy_training_details:be().nullable()}),anti_corruption_policy_communication:Be({communicated_directors:ct().nullable(),communicated_kmps:ct().nullable(),communicated_employees:ct().nullable(),communicated_value_chain:ct().nullable(),fy_communication_details:be().nullable()}),anti_corruption_training:Be({covered_directors:ct().nullable(),covered_kmps:ct().nullable(),covered_employees:ct().nullable(),covered_value_chain:ct().nullable(),fy_training_details:be().nullable()})}),PA=Be({essential_indicators:DA,leadership_indicators:BA}),Ux=()=>({anti_corruption_policy:{has_policy:!1,details:"",weblink:""},disciplinary_actions_by_le_agencies:{fy_2022_23:{directors:null,kmps:null,employees_executives:null,workers_non_executives:null}},complaints_conflict_of_interest:{directors_number:null,directors_remarks:"",kmps_number:null,kmps_remarks:""},corrective_actions_on_corruption_coi:{details:""},p1_training_coverage:{board_of_directors:{programs_held:null,topics_principles:"",percent_covered:null},kmp:{programs_held:null,topics_principles:"",percent_covered:null},employees_other_than_bod_kmp_executives:{programs_held:null,topics_principles:"",percent_covered:null},workers:{programs_held:null,topics_principles:"",percent_covered:null}},p1_fines_penalties_paid:{monetary_details:"",non_monetary_details:""},p1_appeal_details_for_fines_penalties:{details:""},esg_training_employees:{has_program:null,employees_trained_count:null}}),Lx=()=>({conflict_of_interest_policy_communication:{communicated:null,how_communicated:null,reasons_if_not:null},conflict_of_interest_training:{covered_directors:null,covered_kmps:null,covered_employees:null,fy_training_details:null},anti_corruption_policy_communication:{communicated_directors:null,communicated_kmps:null,communicated_employees:null,communicated_value_chain:null,fy_communication_details:null},anti_corruption_training:{covered_directors:null,covered_kmps:null,covered_employees:null,covered_value_chain:null,fy_training_details:null}}),Jv=()=>({essential_indicators:Ux(),leadership_indicators:Lx()}),UA=(r,t)=>{const[s,i]=D.useState(!0),[c,o]=D.useState(""),[d,h]=D.useState(""),p=Pf({resolver:zf(PA),defaultValues:Jv(),mode:"onChange"}),{reset:m,handleSubmit:g,formState:{isSubmitting:v,errors:y}}=p;D.useEffect(()=>{if(r!=null&&r.sc_p1_ethical_conduct){const w={essential_indicators:{...Ux(),...r.sc_p1_ethical_conduct.essential_indicators||{}},leadership_indicators:{...Lx(),...r.sc_p1_ethical_conduct.leadership_indicators||{}}};m(w)}else m(Jv());i(!1)},[r,m]);const E=D.useCallback(async w=>{o(""),h(""),t==null||t("");try{if(!(r!=null&&r.id))throw new Error("Report ID not found");const R={sc_p1_ethical_conduct:{essential_indicators:w.essential_indicators,leadership_indicators:w.leadership_indicators}};return await Wc(r.id,R),h("Section C, Principle 1 saved successfully!"),!0}catch(R){console.error("Error saving Section C Principle 1:",R);const A=R.message||"Failed to save Section C Principle 1 data";return o(A),t==null||t(A),!1}},[r,t]);return{form:p,isLoading:s,isSubmitting:v,localError:c,localSuccess:d,errors:y,onSubmit:g(E),setLocalError:o,setLocalSuccess:h}},Wv={background:"#f8f9fa",borderRadius:8,padding:20,marginBottom:24,boxShadow:"0 1px 4px rgba(0,0,0,0.04)"};function LA(){const{reportData:r,isSubmitted:t,isLoadingSave:s,setError:i}=or(),{form:c,isLoading:o,isSubmitting:d,localError:h,localSuccess:p,errors:m,onSubmit:g}=UA(r,i),{handleSubmit:v,control:y}=c;if(o)return a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[a.jsx(Lf,{}),a.jsx("span",{style:{marginLeft:12},children:"Loading Section C, Principle 1 data..."})]});const E=t||d||s;return a.jsx(Bf,{...c,children:a.jsxs("form",{onSubmit:v(g),className:"profile-form section-c-form",children:[a.jsx("h3",{children:"Section C: Principle-wise Performance"}),a.jsx("h4",{style:{color:"#495057",marginBottom:8},children:"Principle 1: Businesses should conduct and govern themselves with integrity, and in a manner that is Ethical, Transparent and Accountable"}),a.jsx("p",{style:{color:"#6c757d",marginBottom:32,lineHeight:1.5},children:"This principle emphasizes the importance of ethical business conduct, transparency, and accountability in all business operations and decision-making processes."}),h&&a.jsx("div",{style:{color:"#dc3545",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:12,borderRadius:4,marginBottom:16},children:h}),p&&a.jsx("div",{style:{color:"#155724",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",padding:12,borderRadius:4,marginBottom:16},children:p}),Object.keys(m).length>0&&a.jsx(Uf,{errors:m}),a.jsx($t,{title:"Essential Indicators",style:Wv,children:a.jsx(RE,{control:y,disabled:E})}),a.jsx($t,{title:"Leadership Indicators",style:Wv,children:a.jsx(NE,{control:y,disabled:E})}),a.jsx("hr",{style:{margin:"32px 0"}}),!t&&a.jsx(Gr,{type:"submit",variant:"primary",loading:d||s,disabled:d||s,style:{marginTop:20},children:d||s?"Saving...":"Save Principle 1"}),t&&a.jsx("p",{style:{color:"#28a745",fontWeight:500,textAlign:"center"},children:"This section is part of a submitted report and cannot be edited."})]})})}const MA=Be({nic_code:be().optional(),product_service_name:be().min(1,"Product/Service name is required"),turnover_percentage:Le().min(0).max(100).nullable(),lca_boundary:be().optional(),conducted_by_external_agency:ct().nullable(),results_communicated_publicly:ct().nullable(),lca_summary_weblink:be().url().optional().or(Bx(""))}),zA=Be({product_service_name:be().min(1,"Product/Service name is required"),risk_description:be().min(1,"Risk description is required"),action_taken:be().optional()}),$A=Be({input_material_category:be().min(1,"Material category is required"),percentage_by_value_current_fy:Le().min(0).max(100).nullable()}),qA=Be({product_category:be().min(1,"Product category is required"),reclaimed_as_percentage_of_sold:Le().min(0).max(100).nullable()}),Wd=Be({current_fy_reused_mt:Le().min(0).nullable(),current_fy_recycled_mt:Le().min(0).nullable(),current_fy_safely_disposed_mt:Le().min(0).nullable()}),FA=Be({p2_essential_rd_capex_percentages:Be({rd_percentage_current_fy:Le().min(0).max(100).nullable(),capex_percentage_current_fy:Le().min(0).max(100).nullable(),rd_improvements_details:be().optional(),capex_improvements_details:be().optional()}),p2_essential_sustainable_sourcing:Be({has_procedures:ct().nullable(),percentage_inputs_sourced_sustainably:Le().min(0).max(100).nullable()}),p2_essential_reclaim_processes_description:Be({plastics:be().optional(),e_waste:be().optional(),hazardous_waste:be().optional(),other_waste:be().optional()}),p2_essential_epr_status:Be({is_epr_applicable:ct().nullable(),is_collection_plan_in_line_with_epr:ct().nullable(),steps_to_address_epr_gap:be().optional()}),p2_leadership_lca_details:Be({conducted:ct().nullable(),assessments:Sa(MA)}),p2_leadership_product_risks:Sa(zA),p2_leadership_recycled_input_value_percentage:Sa($A),p2_leadership_reclaimed_waste_quantities:Be({plastics:Wd,e_waste:Wd,hazardous_waste:Wd,other_waste:Wd}),p2_leadership_reclaimed_products_as_percentage_sold:Sa(qA)}),ef=r=>r&&typeof r=="object"&&!Array.isArray(r),ir=(r,t)=>{const s={...r};return ef(r)&&ef(t)&&Object.keys(t).forEach(i=>{ef(t[i])?!(i in r)||!ef(r[i])?Object.assign(s,{[i]:t[i]}):s[i]=ir(r[i],t[i]):Array.isArray(t[i])?t[i]!==void 0?t[i].length===0&&Array.isArray(r[i])&&r[i].length>0?r[i].some(o=>Object.keys(o).length>0)?s[i]=[...r[i]]:s[i]=[...t[i]]:s[i]=[...t[i]]:r[i]!==void 0?s[i]=[...r[i]]:s[i]=[]:t[i]!==void 0?Object.assign(s,{[i]:t[i]}):r[i]!==void 0&&r[i]!==null?Object.assign(s,{[i]:r[i]}):Object.assign(s,{[i]:t[i]})}),s},IA=(r,t,s)=>{const i=Array.isArray(t)?t:t.split("."),c={...r};let o=c;for(let d=0;d<i.length-1;d++)!o[i[d]]||typeof o[i[d]]!="object"?o[i[d]]={}:o[i[d]]={...o[i[d]]},o=o[i[d]];return o[i[i.length-1]]=s,c},eb=()=>({p2_essential_rd_capex_percentages:{rd_percentage_current_fy:null,capex_percentage_current_fy:null,rd_improvements_details:"",capex_improvements_details:""},p2_essential_sustainable_sourcing:{has_procedures:null,percentage_inputs_sourced_sustainably:null},p2_essential_reclaim_processes_description:{plastics:"",e_waste:"",hazardous_waste:"",other_waste:""},p2_essential_epr_status:{is_epr_applicable:null,is_collection_plan_in_line_with_epr:null,steps_to_address_epr_gap:""},p2_leadership_lca_details:{conducted:null,assessments:[]},p2_leadership_product_risks:[],p2_leadership_recycled_input_value_percentage:[],p2_leadership_reclaimed_waste_quantities:{plastics:{current_fy_reused_mt:null,current_fy_recycled_mt:null,current_fy_safely_disposed_mt:null},e_waste:{current_fy_reused_mt:null,current_fy_recycled_mt:null,current_fy_safely_disposed_mt:null},hazardous_waste:{current_fy_reused_mt:null,current_fy_recycled_mt:null,current_fy_safely_disposed_mt:null},other_waste:{current_fy_reused_mt:null,current_fy_recycled_mt:null,current_fy_safely_disposed_mt:null}},p2_leadership_reclaimed_products_as_percentage_sold:[]}),HA=(r,t)=>{const[s,i]=D.useState(!0),[c,o]=D.useState(!1),[d,h]=D.useState(""),[p,m]=D.useState(""),{updateSectionStatus:g,setUnsavedChanges:v,reportId:y}=Mf(),E=Pf({resolver:zf(FA),defaultValues:eb(),mode:"onChange"}),{reset:w,formState:{errors:R,isDirty:A}}=E;D.useEffect(()=>{g("section-c-p2",{isDirty:A,isComplete:!A&&Object.keys(R).length===0})},[A,Object.keys(R).length]),D.useEffect(()=>{v(A)},[A]),D.useEffect(()=>{if(r){i(!0);try{let C=eb();r.sc_p2_sustainable_safe_goods&&(C=ir(C,r.sc_p2_sustainable_safe_goods)),w(C),h("")}catch(C){console.error("Error initializing Section C Principle 2 form:",C),h("Failed to load form data. Please refresh and try again.")}finally{i(!1)}}},[r,w]);const k=D.useCallback(async C=>{if(!y){h("No report ID found. Please try refreshing the page.");return}o(!0),h(""),m(""),t("");try{const j=await Wc({reportId:y,sc_p2_sustainable_safe_goods:C});j&&j.message?(m("Section C, Principle 2 saved successfully!"),w(C,{keepValues:!0})):h("Failed to save Section C, Principle 2.")}catch(b){console.error("Error saving Section C Principle 2 form:",b),h("An error occurred while saving. Please try again.")}finally{o(!1)}},[y,w,t]);return{form:E,isLoading:s,isSubmitting:c,localError:d,localSuccess:p,errors:R,onSubmit:k,setLocalError:h,setLocalSuccess:m}},Bc={background:"#f8f9fa",borderRadius:8,padding:20,marginBottom:24,boxShadow:"0 1px 4px rgba(0,0,0,0.04)"};function VA(){const{reportData:r,isSubmitted:t,isLoadingSave:s,setError:i}=or(),{form:c,isLoading:o,isSubmitting:d,localError:h,localSuccess:p,errors:m,onSubmit:g}=HA(r,i),{handleSubmit:v,control:y}=c;if(o)return a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[a.jsx(Lf,{}),a.jsx("span",{style:{marginLeft:12},children:"Loading Section C, Principle 2 data..."})]});const E=t||d||s;return a.jsx(Bf,{...c,children:a.jsxs("form",{onSubmit:v(g),className:"profile-form section-c-form",children:[a.jsx("h3",{className:"section-title",children:"Section C: Principle-wise Performance"}),a.jsx("h4",{className:"sub-title",children:"Principle 2: Businesses should provide goods and services in a manner that is sustainable and safe"}),a.jsx("p",{style:{color:"#6c757d",marginBottom:32},children:"This section covers your organization's approach to sustainable and safe goods and services, including R&D investments, sustainable sourcing, and waste management practices."}),h&&a.jsx("div",{style:{color:"#dc3545",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:12,borderRadius:4,marginBottom:16},children:h}),p&&a.jsx("div",{style:{color:"#155724",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",padding:12,borderRadius:4,marginBottom:16},children:p}),Object.keys(m).length>0&&a.jsx(Uf,{errors:m}),a.jsx("h4",{style:{marginTop:32,marginBottom:16,color:"#495057"},children:"Essential Indicators"}),a.jsx($t,{title:"R&D and Capital Expenditure Investments",style:Bc,children:a.jsx(TE,{control:y,disabled:E})}),a.jsx($t,{title:"Sustainable Sourcing",style:Bc,children:a.jsx(OE,{control:y,disabled:E})}),a.jsx($t,{title:"Reclaim Processes",style:Bc,children:a.jsx(DE,{control:y,disabled:E})}),a.jsx($t,{title:"Extended Producer Responsibility (EPR)",style:Bc,children:a.jsx(BE,{control:y,disabled:E})}),a.jsx("h4",{style:{marginTop:48,marginBottom:16,color:"#495057"},children:"Leadership Indicators"}),a.jsx("div",{style:Bc,children:a.jsx("p",{style:{color:"#6c757d",fontStyle:"italic"},children:"Leadership indicators for this principle include Life Cycle Assessment details, product risk management, recycled input materials, and end-of-life product reclamation. These advanced sections can be implemented as the application grows."})}),a.jsx("hr",{style:{margin:"32px 0"}}),!t&&a.jsx(Gr,{type:"submit",variant:"primary",loading:d||s,disabled:d||s,style:{marginTop:20},children:d||s?"Saving...":"Save Section C, Principle 2"}),t&&a.jsx("p",{style:{color:"#28a745",fontWeight:500,textAlign:"center"},children:"This section is part of a submitted report and cannot be edited."})]})})}const YA=r=>({principle:r,has_policy:!1,is_board_approved:!1,policy_text_or_url:"",translated_to_procedures:!1,extends_to_value_chain:!1,adopted_standards:"",specific_commitments_goals_targets:"",performance_against_targets:"",reason_q12_not_material:!1,reason_q12_not_at_stage:!1,reason_q12_no_resources:!1,reason_q12_planned_next_year:!1,reason_q12_other_text:""});Array.from({length:9},(r,t)=>YA(t+1));const tb={essential_indicators:{employee_well_being_measures:{employees_current_fy:"",workers_current_fy:""},employee_association_collective_bargaining:{permanent_employees_union_percentage_current_fy:null,permanent_workers_union_percentage_current_fy:null,permanent_employees_collective_bargaining_percentage_current_fy:null,permanent_workers_collective_bargaining_percentage_current_fy:null},retirement_benefits_permanent_employees:{pf_count_current_fy:null,pf_percentage_current_fy:null,gratuity_count_current_fy:null,gratuity_percentage_current_fy:null,superannuation_count_current_fy:null,superannuation_percentage_current_fy:null,other_benefits:[{name:"",count_current_fy:null,percentage_current_fy:null}]},retirement_benefits_other_employees:{pf_count_current_fy:null,pf_percentage_current_fy:null,gratuity_count_current_fy:null,gratuity_percentage_current_fy:null,superannuation_count_current_fy:null,superannuation_percentage_current_fy:null,other_benefits:[{name:"",count_current_fy:null,percentage_current_fy:null}]},workplace_accessibility_differently_abled:{is_accessible_current_fy:null,facilities_details_current_fy:""},paternity_leave_benefits:{is_extended_current_fy:null,details_current_fy:""},training_details_employees:{safety_persons_trained_current_fy:null,safety_avg_hours_current_fy:null,skill_upgradation_persons_trained_current_fy:null,skill_upgradation_avg_hours_current_fy:null,other_persons_trained_current_fy:null,other_avg_hours_current_fy:null},training_details_workers:{safety_persons_trained_current_fy:null,safety_avg_hours_current_fy:null,skill_upgradation_persons_trained_current_fy:null,skill_upgradation_avg_hours_current_fy:null,other_persons_trained_current_fy:null,other_avg_hours_current_fy:null},performance_career_development_reviews_employees:{total_current_fy:null,covered_percentage_current_fy:null},performance_career_development_reviews_workers:{total_current_fy:null,covered_percentage_current_fy:null},health_safety_management_system:{has_system_current_fy:null,is_certified_externally_current_fy:null,certification_agency_current_fy:"",scope_of_coverage_current_fy:""},safety_related_incidents:{employees:{ltifr_current_fy:null,work_related_injuries_current_fy:null,fatalities_current_fy:null},workers:{ltifr_current_fy:null,work_related_injuries_current_fy:null,fatalities_current_fy:null}},life_health_insurance_permanent_employees:{life_insurance_extended_current_fy:null,life_insurance_percentage_current_fy:null,health_insurance_extended_current_fy:null,health_insurance_percentage_current_fy:null,statutory_health_coverage_extended_current_fy:null,statutory_health_coverage_percentage_current_fy:null},life_health_insurance_other_employees:{life_insurance_extended_current_fy:null,life_insurance_percentage_current_fy:null,health_insurance_extended_current_fy:null,health_insurance_percentage_current_fy:null,statutory_health_coverage_extended_current_fy:null,statutory_health_coverage_percentage_current_fy:null},worker_safety_measures_current_fy:"",grievance_redressal_employees:{has_mechanism_current_fy:null,details_current_fy:""},grievance_redressal_workers:{has_mechanism_current_fy:null,details_current_fy:""}},leadership_indicators:{benefits_over_statutory:{is_extended_current_fy:null,details_current_fy:null},provident_fund_over_statutory:{is_contributed_current_fy:null,details_current_fy:null},safe_healthy_workplace_measures_current_fy:null,occupational_health_safety_training_permanent_employees:{trained_count_current_fy:null,trained_percentage_current_fy:null},occupational_health_safety_training_other_employees:{trained_count_current_fy:null,trained_percentage_current_fy:null},transition_assistance_programs:{is_provided_current_fy:null,details_current_fy:null},employee_retention_measures_current_fy:null}};function GA(){const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(tb),[h,p]=D.useState(""),[m,g]=D.useState("");D.useEffect(()=>{var b;(b=r==null?void 0:r.section_c_data)!=null&&b.principle_3?d(j=>ir(j,r.section_c_data.principle_3)):d(tb)},[r]);const v=(b,j)=>{d(N=>IA(N,b,j))},y=(b,j)=>{j==="true"?v(b,!0):j==="false"?v(b,!1):v(b,null)},E=b=>{var T;const j=((T=o.essential_indicators[b])==null?void 0:T.other_benefits)||[],N={name:"",count_current_fy:"",percentage_current_fy:""};v(`essential_indicators.${b}.other_benefits`,[...j,N])},w=(b,j)=>{var z;const T=(((z=o.essential_indicators[b])==null?void 0:z.other_benefits)||[]).filter((X,Q)=>Q!==j);v(`essential_indicators.${b}.other_benefits`,T)},R=(b,j,N,T)=>{var Q;const X=(((Q=o.essential_indicators[b])==null?void 0:Q.other_benefits)||[]).map((ne,ce)=>ce===j?{...ne,[N]:T}:ne);v(`essential_indicators.${b}.other_benefits`,X)},A=(b,j,N)=>{var Q,ne;const T=`essential_indicators.${N}.${b}`,z=`${T}_count_current_fy`,X=`${T}_percentage_current_fy`;return a.jsxs("tr",{children:[a.jsx("td",{children:j}),a.jsxs("td",{children:["                    ",a.jsx("input",{type:"number",value:((Q=o.essential_indicators[N])==null?void 0:Q[`${b}_count_current_fy`])??"",onChange:ce=>v(z,ce.target.value===""?null:parseFloat(ce.target.value)),disabled:C,placeholder:"No. of Employees/Workers"})]}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((ne=o.essential_indicators[N])==null?void 0:ne[`${b}_percentage_current_fy`])??"",onChange:ce=>v(X,ce.target.value===""?null:parseFloat(ce.target.value)),disabled:C,placeholder:"% of total"})})]})},k=async b=>{b.preventDefault(),p(""),g(""),c(""),await t({sc_p3_employee_wellbeing:o})?g("Principle 3 data saved successfully!"):p("Failed to save Principle 3 data. Check wizard errors or console.")},C=s||i;return a.jsxs("form",{onSubmit:k,className:"profile-form",children:[a.jsx("h3",{children:"Principle 3: Businesses should promote the well-being of all employees"}),a.jsx("p",{children:"This principle is aligned with the ILO Declaration on Fundamental Principles and Rights at Work and UN Guiding Principles on Business and Human Rights."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),a.jsx("h4",{children:"Essential Indicators"}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"1. Describe the measures taken for the well-being of employees and workers during the financial year."}),a.jsx("label",{htmlFor:"p3_ei_q1_employees_current_fy",children:"a. Employees (Current FY):"}),a.jsx("textarea",{id:"p3_ei_q1_employees_current_fy",value:o.essential_indicators.employee_well_being_measures.employees_current_fy||"",onChange:b=>v("essential_indicators.employee_well_being_measures.employees_current_fy",b.target.value),disabled:C,rows:3}),a.jsx("label",{htmlFor:"p3_ei_q1_workers_current_fy",children:"b. Workers (Current FY):"}),a.jsx("textarea",{id:"p3_ei_q1_workers_current_fy",value:o.essential_indicators.employee_well_being_measures.workers_current_fy||"",onChange:b=>v("essential_indicators.employee_well_being_measures.workers_current_fy",b.target.value),disabled:C,rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"2. Percentage of permanent employees and workers who are members of registered employee associations/unions recognized by management or covered by collective bargaining agreements (Current FY):"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Percentage (%)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Permanent Employees - Union Membership"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.employee_association_collective_bargaining.permanent_employees_union_percentage_current_fy||"",onChange:b=>v("essential_indicators.employee_association_collective_bargaining.permanent_employees_union_percentage_current_fy",parseFloat(b.target.value)||0),disabled:C})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Permanent Workers - Union Membership"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.employee_association_collective_bargaining.permanent_workers_union_percentage_current_fy||"",onChange:b=>v("essential_indicators.employee_association_collective_bargaining.permanent_workers_union_percentage_current_fy",parseFloat(b.target.value)||0),disabled:C})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Permanent Employees - Collective Bargaining Coverage"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.employee_association_collective_bargaining.permanent_employees_collective_bargaining_percentage_current_fy||"",onChange:b=>v("essential_indicators.employee_association_collective_bargaining.permanent_employees_collective_bargaining_percentage_current_fy",parseFloat(b.target.value)||0),disabled:C})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Permanent Workers - Collective Bargaining Coverage"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.employee_association_collective_bargaining.permanent_workers_collective_bargaining_percentage_current_fy||"",onChange:b=>v("essential_indicators.employee_association_collective_bargaining.permanent_workers_collective_bargaining_percentage_current_fy",parseFloat(b.target.value)||0),disabled:C})})]})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"3. Details of retirement benefits extended to employees (Current FY):"}),a.jsx("h6",{children:"a. Permanent Employees:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Benefit"}),a.jsx("th",{children:"No. of Employees Covered"}),a.jsx("th",{children:"Percentage of Total Permanent Employees"})]})}),a.jsxs("tbody",{children:[A("pf","Provident Fund","retirement_benefits_permanent_employees"),A("gratuity","Gratuity","retirement_benefits_permanent_employees"),A("superannuation","Superannuation Fund","retirement_benefits_permanent_employees"),o.essential_indicators.retirement_benefits_permanent_employees.other_benefits.map((b,j)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"text",value:b.name,onChange:N=>R("retirement_benefits_permanent_employees",j,"name",N.target.value),placeholder:"Other Benefit Name",disabled:C})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:b.count_current_fy,onChange:N=>R("retirement_benefits_permanent_employees",j,"count_current_fy",parseFloat(N.target.value)||0),placeholder:"No. of Employees",disabled:C})}),a.jsxs("td",{children:[a.jsx("input",{type:"number",value:b.percentage_current_fy,onChange:N=>R("retirement_benefits_permanent_employees",j,"percentage_current_fy",parseFloat(N.target.value)||0),placeholder:"% of total",disabled:C}),j>0&&a.jsx("button",{type:"button",onClick:()=>w("retirement_benefits_permanent_employees",j),disabled:C,children:"Remove"})]})]},`perm_other_${j}`)),a.jsx("tr",{children:a.jsx("td",{colSpan:"3",children:a.jsx("button",{type:"button",onClick:()=>E("retirement_benefits_permanent_employees"),disabled:C,children:"Add Other Benefit (Permanent)"})})})]})]}),a.jsx("h6",{children:"b. Other than Permanent Employees:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Benefit"}),a.jsx("th",{children:"No. of Workers Covered"}),a.jsx("th",{children:"Percentage of Total Other than Permanent Employees"})]})}),a.jsxs("tbody",{children:[A("pf","Provident Fund","retirement_benefits_other_employees"),A("gratuity","Gratuity","retirement_benefits_other_employees"),A("superannuation","Superannuation Fund","retirement_benefits_other_employees"),o.essential_indicators.retirement_benefits_other_employees.other_benefits.map((b,j)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"text",value:b.name,onChange:N=>R("retirement_benefits_other_employees",j,"name",N.target.value),placeholder:"Other Benefit Name",disabled:C})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:b.count_current_fy,onChange:N=>R("retirement_benefits_other_employees",j,"count_current_fy",parseFloat(N.target.value)||0),placeholder:"No. of Workers",disabled:C})}),a.jsxs("td",{children:[a.jsx("input",{type:"number",value:b.percentage_current_fy,onChange:N=>R("retirement_benefits_other_employees",j,"percentage_current_fy",parseFloat(N.target.value)||0),placeholder:"% of total",disabled:C}),j>0&&a.jsx("button",{type:"button",onClick:()=>w("retirement_benefits_other_employees",j),disabled:C,children:"Remove"})]})]},`other_other_${j}`)),a.jsx("tr",{children:a.jsx("td",{colSpan:"3",children:a.jsx("button",{type:"button",onClick:()=>E("retirement_benefits_other_employees"),disabled:C,children:"Add Other Benefit (Other)"})})})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"4. Are workplaces accessible to differently abled employees and workers? (Current FY)"}),"                ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q4_is_accessible_current_fy",value:"true",checked:o.essential_indicators.workplace_accessibility_differently_abled.is_accessible_current_fy===!0,onChange:b=>y("essential_indicators.workplace_accessibility_differently_abled.is_accessible_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q4_is_accessible_current_fy",value:"false",checked:o.essential_indicators.workplace_accessibility_differently_abled.is_accessible_current_fy===!1,onChange:b=>y("essential_indicators.workplace_accessibility_differently_abled.is_accessible_current_fy",b.target.value),disabled:C})," ","No"]})]}),o.essential_indicators.workplace_accessibility_differently_abled.is_accessible_current_fy&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"p3_ei_q4_facilities_details_current_fy",children:"If yes, provide details of facilities:"}),a.jsx("textarea",{id:"p3_ei_q4_facilities_details_current_fy",value:o.essential_indicators.workplace_accessibility_differently_abled.facilities_details_current_fy||"",onChange:b=>v("essential_indicators.workplace_accessibility_differently_abled.facilities_details_current_fy",b.target.value),disabled:C,rows:3})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"5. Are paternity leave benefits extended to employees? (Current FY)"}),"                 ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q5_paternity_leave_extended_current_fy",value:"true",checked:o.essential_indicators.paternity_leave_benefits.is_extended_current_fy===!0,onChange:b=>y("essential_indicators.paternity_leave_benefits.is_extended_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q5_paternity_leave_extended_current_fy",value:"false",checked:o.essential_indicators.paternity_leave_benefits.is_extended_current_fy===!1,onChange:b=>y("essential_indicators.paternity_leave_benefits.is_extended_current_fy",b.target.value),disabled:C})," ","No"]})]}),o.essential_indicators.paternity_leave_benefits.is_extended_current_fy&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"p3_ei_q5_paternity_leave_details_current_fy",children:"If yes, provide details:"}),a.jsx("textarea",{id:"p3_ei_q5_paternity_leave_details_current_fy",value:o.essential_indicators.paternity_leave_benefits.details_current_fy||"",onChange:b=>v("essential_indicators.paternity_leave_benefits.details_current_fy",b.target.value),disabled:C,rows:3})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"6. Details of training given to employees and workers (Current FY):"}),["employees","workers"].map(b=>a.jsxs("div",{children:[a.jsxs("h6",{children:["For ",b.charAt(0).toUpperCase()+b.slice(1),":"]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Training Type"}),a.jsx("th",{children:"No. of Persons Trained"}),a.jsx("th",{children:"Average Training Hours"})]})}),a.jsx("tbody",{children:["safety","skill_upgradation","other"].map(j=>{var N,T;return a.jsxs("tr",{children:[a.jsx("td",{children:j.charAt(0).toUpperCase()+j.slice(1).replace("_"," ")}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((N=o.essential_indicators[`training_details_${b}`])==null?void 0:N[`${j}_persons_trained_current_fy`])||"",onChange:z=>v(`essential_indicators.training_details_${b}.${j}_persons_trained_current_fy`,parseFloat(z.target.value)||0),disabled:C})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((T=o.essential_indicators[`training_details_${b}`])==null?void 0:T[`${j}_avg_hours_current_fy`])||"",onChange:z=>v(`essential_indicators.training_details_${b}.${j}_avg_hours_current_fy`,parseFloat(z.target.value)||0),disabled:C})})]},`${b}_${j}`)})})]})]},b))]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"7. Details of performance and career development reviews (Current FY):"}),["employees","workers"].map(b=>{var j,N;return a.jsxs("div",{children:[a.jsxs("h6",{children:["For ",b.charAt(0).toUpperCase()+b.slice(1),":"]}),a.jsx("label",{htmlFor:`p3_ei_q7_${b}_total_current_fy`,children:"Total Number:"}),a.jsx("input",{type:"number",id:`p3_ei_q7_${b}_total_current_fy`,value:((j=o.essential_indicators[`performance_career_development_reviews_${b}`])==null?void 0:j.total_current_fy)||"",onChange:T=>v(`essential_indicators.performance_career_development_reviews_${b}.total_current_fy`,parseFloat(T.target.value)||0),disabled:C}),a.jsx("label",{htmlFor:`p3_ei_q7_${b}_covered_percentage_current_fy`,children:"Percentage Covered by Review:"}),a.jsx("input",{type:"number",id:`p3_ei_q7_${b}_covered_percentage_current_fy`,value:((N=o.essential_indicators[`performance_career_development_reviews_${b}`])==null?void 0:N.covered_percentage_current_fy)||"",onChange:T=>v(`essential_indicators.performance_career_development_reviews_${b}.covered_percentage_current_fy`,parseFloat(T.target.value)||0),disabled:C})]},`perf_${b}`)})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"8. Health and Safety Management System (Current FY):"}),a.jsx("label",{children:"Does the entity have a Health and Safety Management System?"}),"                ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q8_has_system_current_fy",value:"true",checked:o.essential_indicators.health_safety_management_system.has_system_current_fy===!0,onChange:b=>y("essential_indicators.health_safety_management_system.has_system_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q8_has_system_current_fy",value:"false",checked:o.essential_indicators.health_safety_management_system.has_system_current_fy===!1,onChange:b=>y("essential_indicators.health_safety_management_system.has_system_current_fy",b.target.value),disabled:C})," ","No"]})]}),o.essential_indicators.health_safety_management_system.has_system_current_fy&&a.jsxs(a.Fragment,{children:[a.jsx("label",{children:"Is it externally certified?"}),"                        ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q8_is_certified_current_fy",value:"true",checked:o.essential_indicators.health_safety_management_system.is_certified_externally_current_fy===!0,onChange:b=>y("essential_indicators.health_safety_management_system.is_certified_externally_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_ei_q8_is_certified_current_fy",value:"false",checked:o.essential_indicators.health_safety_management_system.is_certified_externally_current_fy===!1,onChange:b=>y("essential_indicators.health_safety_management_system.is_certified_externally_current_fy",b.target.value),disabled:C})," ","No"]})]}),o.essential_indicators.health_safety_management_system.is_certified_externally_current_fy&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"p3_ei_q8_certification_agency_current_fy",children:"Certification Agency:"}),a.jsx("input",{type:"text",id:"p3_ei_q8_certification_agency_current_fy",value:o.essential_indicators.health_safety_management_system.certification_agency_current_fy||"",onChange:b=>v("essential_indicators.health_safety_management_system.certification_agency_current_fy",b.target.value),disabled:C})]}),a.jsx("label",{htmlFor:"p3_ei_q8_scope_of_coverage_current_fy",children:"Scope of Coverage:"}),a.jsx("textarea",{id:"p3_ei_q8_scope_of_coverage_current_fy",value:o.essential_indicators.health_safety_management_system.scope_of_coverage_current_fy||"",onChange:b=>v("essential_indicators.health_safety_management_system.scope_of_coverage_current_fy",b.target.value),disabled:C,rows:2})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"9. Details of safety related incidents:"}),["employees","workers"].map(b=>a.jsxs("div",{children:[a.jsxs("h6",{children:["For ",b.charAt(0).toUpperCase()+b.slice(1),":"]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Indicator"}),a.jsx("th",{children:"Current FY"}),a.jsx("th",{children:"Remarks/Corrective Actions (if any)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Lost Time Injury Frequency Rate (LTIFR)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.safety_related_incidents[b].ltifr_current_fy||"",onChange:j=>v(`essential_indicators.safety_related_incidents.${b}.ltifr_current_fy`,parseFloat(j.target.value)),disabled:C})}),a.jsx("td",{})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"No. of work-related injuries"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.safety_related_incidents[b].work_related_injuries_current_fy||"",onChange:j=>v(`essential_indicators.safety_related_incidents.${b}.work_related_injuries_current_fy`,parseFloat(j.target.value)),disabled:C})}),a.jsx("td",{})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"No. of fatalities"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:o.essential_indicators.safety_related_incidents[b].fatalities_current_fy||"",onChange:j=>v(`essential_indicators.safety_related_incidents.${b}.fatalities_current_fy`,parseFloat(j.target.value)),disabled:C})}),a.jsx("td",{})]})]})]})]},`safety_${b}`))]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"10. Describe the coverage of life and health insurance for employees (Current FY):"}),["permanent_employees","other_employees"].map(b=>a.jsxs("div",{children:[a.jsxs("h6",{children:["For ",b.replace("_"," ").replace(/\b\w/g,j=>j.toUpperCase()),":"]}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Insurance Type"}),a.jsx("th",{children:"Extended? (Yes/No)"}),a.jsx("th",{children:"Percentage Covered"})]})}),a.jsx("tbody",{children:["life_insurance","health_insurance","statutory_health_coverage"].map(j=>{var N,T,z,X;return a.jsxs("tr",{children:[a.jsx("td",{children:j.replace("_"," ").replace(/\b\w/g,Q=>Q.toUpperCase())}),"                                        ",a.jsx("td",{children:a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`p3_ei_q10_${b}_${j}_ext_curr`,value:"true",checked:((N=o.essential_indicators[`life_health_insurance_${b}`])==null?void 0:N[`${j}_extended_current_fy`])===!0,onChange:Q=>y(`essential_indicators.life_health_insurance_${b}.${j}_extended_current_fy`,Q.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`p3_ei_q10_${b}_${j}_ext_curr`,value:"false",checked:((T=o.essential_indicators[`life_health_insurance_${b}`])==null?void 0:T[`${j}_extended_current_fy`])===!1,onChange:Q=>y(`essential_indicators.life_health_insurance_${b}.${j}_extended_current_fy`,Q.target.value),disabled:C})," ","No"]})]})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((z=o.essential_indicators[`life_health_insurance_${b}`])==null?void 0:z[`${j}_percentage_current_fy`])||"",onChange:Q=>v(`essential_indicators.life_health_insurance_${b}.${j}_percentage_current_fy`,parseFloat(Q.target.value)||0),disabled:C||((X=o.essential_indicators[`life_health_insurance_${b}`])==null?void 0:X[`${j}_extended_current_fy`])===!1,placeholder:"% of total"})})]},`${b}_${j}`)})})]})]},b))]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"11. Describe the measures taken for the safety of workers (Current FY):"}),a.jsx("textarea",{id:"p3_ei_q11_worker_safety_measures_current_fy",value:o.essential_indicators.worker_safety_measures_current_fy||"",onChange:b=>v("essential_indicators.worker_safety_measures_current_fy",b.target.value),disabled:C,rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"12. Details of grievance redressal mechanism for employees and workers (Current FY):"}),["employees","workers"].map(b=>{var j,N,T,z;return a.jsxs("div",{children:[a.jsxs("h6",{children:["For ",b.charAt(0).toUpperCase()+b.slice(1),":"]}),a.jsx("label",{children:"Is there a grievance redressal mechanism in place?"}),"                        ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`p3_ei_q12_${b}_has_mech_curr`,value:"true",checked:((j=o.essential_indicators[`grievance_redressal_${b}`])==null?void 0:j.has_mechanism_current_fy)===!0,onChange:X=>y(`essential_indicators.grievance_redressal_${b}.has_mechanism_current_fy`,X.target.value),disabled:C})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`p3_ei_q12_${b}_has_mech_curr`,value:"false",checked:((N=o.essential_indicators[`grievance_redressal_${b}`])==null?void 0:N.has_mechanism_current_fy)===!1,onChange:X=>y(`essential_indicators.grievance_redressal_${b}.has_mechanism_current_fy`,X.target.value),disabled:C})," No"]})]}),((T=o.essential_indicators[`grievance_redressal_${b}`])==null?void 0:T.has_mechanism_current_fy)&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:`p3_ei_q12_${b}_details_curr`,children:"Provide details:"}),a.jsx("textarea",{id:`p3_ei_q12_${b}_details_curr`,value:((z=o.essential_indicators[`grievance_redressal_${b}`])==null?void 0:z.details_current_fy)||"",onChange:X=>v(`essential_indicators.grievance_redressal_${b}.details_current_fy`,X.target.value),disabled:C,rows:3})]})]},`grievance_${b}`)})]}),a.jsx("h4",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"1. Does the entity extend benefits over and above statutory requirements to employees/workers? (Current FY)"}),"                ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q1_benefits_over_statutory_current_fy",value:"true",checked:o.leadership_indicators.benefits_over_statutory.is_extended_current_fy===!0,onChange:b=>y("leadership_indicators.benefits_over_statutory.is_extended_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q1_benefits_over_statutory_current_fy",value:"false",checked:o.leadership_indicators.benefits_over_statutory.is_extended_current_fy===!1,onChange:b=>y("leadership_indicators.benefits_over_statutory.is_extended_current_fy",b.target.value),disabled:C})," ","No"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q1_benefits_over_statutory_current_fy",value:"null",checked:o.leadership_indicators.benefits_over_statutory.is_extended_current_fy===null,onChange:b=>y("leadership_indicators.benefits_over_statutory.is_extended_current_fy",b.target.value),disabled:C})," ","Not Answered"]})]}),o.leadership_indicators.benefits_over_statutory.is_extended_current_fy===!0&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"p3_li_q1_benefits_details_current_fy",children:"If yes, provide details:"}),a.jsx("textarea",{id:"p3_li_q1_benefits_details_current_fy",value:o.leadership_indicators.benefits_over_statutory.details_current_fy||"",onChange:b=>v("leadership_indicators.benefits_over_statutory.details_current_fy",b.target.value||null),disabled:C,rows:3,placeholder:"Optional: Provide details about benefits extended beyond statutory requirements"})]})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"2. Does the entity contribute to Provident Fund over and above the statutory minimum? (Current FY)"}),"                ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q2_pf_over_statutory_current_fy",value:"true",checked:o.leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy===!0,onChange:b=>y("leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q2_pf_over_statutory_current_fy",value:"false",checked:o.leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy===!1,onChange:b=>y("leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy",b.target.value),disabled:C})," ","No"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q2_pf_over_statutory_current_fy",value:"null",checked:o.leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy===null,onChange:b=>y("leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy",b.target.value),disabled:C})," ","Not Answered"]})]}),o.leadership_indicators.provident_fund_over_statutory.is_contributed_current_fy===!0&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"p3_li_q2_pf_details_current_fy",children:"If yes, provide details:"}),a.jsx("textarea",{id:"p3_li_q2_pf_details_current_fy",value:o.leadership_indicators.provident_fund_over_statutory.details_current_fy||"",onChange:b=>v("leadership_indicators.provident_fund_over_statutory.details_current_fy",b.target.value||null),disabled:C,rows:3,placeholder:"Optional: Provide details about PF contributions above statutory minimum"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"3. Describe measures taken to ensure a safe and healthy work place (Current FY):"}),a.jsx("textarea",{id:"p3_li_q3_safe_healthy_workplace_measures_current_fy",value:o.leadership_indicators.safe_healthy_workplace_measures_current_fy||"",onChange:b=>v("leadership_indicators.safe_healthy_workplace_measures_current_fy",b.target.value||null),disabled:C,rows:3,placeholder:"Optional: Describe specific measures for workplace safety and health"})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"4. Details of occupational health and safety training provided (Current FY):"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Provide training data if your organization conducts advanced OHS training programs."})}),["permanent_employees","other_employees"].map(b=>{var j,N;return a.jsxs("div",{children:[a.jsxs("h6",{children:["For ",b.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase()),":"]}),a.jsx("label",{htmlFor:`p3_li_q4_${b}_trained_count_current_fy`,children:"Number of Persons Trained:"}),"                        ",a.jsx("input",{type:"number",id:`p3_li_q4_${b}_trained_count_current_fy`,value:((j=o.leadership_indicators[`occupational_health_safety_training_${b}`])==null?void 0:j.trained_count_current_fy)??"",onChange:T=>v(`leadership_indicators.occupational_health_safety_training_${b}.trained_count_current_fy`,T.target.value===""?null:parseFloat(T.target.value)),disabled:C,placeholder:"Optional: Number trained"}),a.jsxs("label",{htmlFor:`p3_li_q4_${b}_trained_percentage_current_fy`,children:["Percentage of Total ",b.replace("_"," ")," Trained:"]}),a.jsx("input",{type:"number",id:`p3_li_q4_${b}_trained_percentage_current_fy`,value:((N=o.leadership_indicators[`occupational_health_safety_training_${b}`])==null?void 0:N.trained_percentage_current_fy)??"",onChange:T=>v(`leadership_indicators.occupational_health_safety_training_${b}.trained_percentage_current_fy`,T.target.value===""?null:parseFloat(T.target.value)),disabled:C,placeholder:"Optional: Percentage trained"})]},`ohs_training_${b}`)})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"5. Are transition assistance programs provided to employees retiring or separating due to workforce changes? (Current FY)"}),"                ",a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q5_transition_assistance_current_fy",value:"true",checked:o.leadership_indicators.transition_assistance_programs.is_provided_current_fy===!0,onChange:b=>y("leadership_indicators.transition_assistance_programs.is_provided_current_fy",b.target.value),disabled:C})," ","Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q5_transition_assistance_current_fy",value:"false",checked:o.leadership_indicators.transition_assistance_programs.is_provided_current_fy===!1,onChange:b=>y("leadership_indicators.transition_assistance_programs.is_provided_current_fy",b.target.value),disabled:C})," ","No"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p3_li_q5_transition_assistance_current_fy",value:"null",checked:o.leadership_indicators.transition_assistance_programs.is_provided_current_fy===null,onChange:b=>y("leadership_indicators.transition_assistance_programs.is_provided_current_fy",b.target.value),disabled:C})," ","Not Answered"]})]}),o.leadership_indicators.transition_assistance_programs.is_provided_current_fy===!0&&a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"p3_li_q5_transition_details_current_fy",children:"If yes, provide details:"}),a.jsx("textarea",{id:"p3_li_q5_transition_details_current_fy",value:o.leadership_indicators.transition_assistance_programs.details_current_fy||"",onChange:b=>v("leadership_indicators.transition_assistance_programs.details_current_fy",b.target.value||null),disabled:C,rows:3,placeholder:"Optional: Describe transition assistance programs"})]})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("h5",{children:"6. Describe any specific measures taken to improve employee retention (Current FY):"}),a.jsx("textarea",{id:"p3_li_q6_employee_retention_measures_current_fy",value:o.leadership_indicators.employee_retention_measures_current_fy||"",onChange:b=>v("leadership_indicators.employee_retention_measures_current_fy",b.target.value||null),disabled:C,rows:3,placeholder:"Optional: Describe specific employee retention measures"})]}),a.jsx("hr",{}),!s&&a.jsx("button",{type:"submit",className:"form-button",disabled:i,children:i?"Saving...":"Save Principle 3"}),s&&a.jsx("p",{children:"This principle is part of a submitted report and cannot be edited."})]})}const up={processes_for_identifying_stakeholder_groups:"",stakeholder_engagement_data:[]},Mx={consultation_process_with_board_path:null,consultation_used_for_esg_topics:null,consultation_esg_details:null,vulnerable_group_engagement_details:null},nb={essential_indicators:up,leadership_indicators:Mx};function ZA(){const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(nb),[h,p]=D.useState(""),[m,g]=D.useState("");D.useEffect(()=>{var k,C;if(r){const b=((k=r.sc_p4_stakeholder_responsiveness)==null?void 0:k.essential_indicators)||{},j=((C=r.sc_p4_stakeholder_responsiveness)==null?void 0:C.leadership_indicators)||{};d({essential_indicators:{...up,...b,stakeholder_engagement_data:Array.isArray(b.stakeholder_engagement_data)?b.stakeholder_engagement_data:up.stakeholder_engagement_data},leadership_indicators:{...Mx,...j}})}else d(nb)},[r]);const v=(k,C,b,j,N)=>{d(T=>{const z=C.split(".");let X={...T[k]},Q=X;for(let ne=0;ne<z.length-1;ne++)Q[z[ne]]={...Q[z[ne]]||{}},Q=Q[z[ne]];return Q[z[z.length-1]]=j==="checkbox"?N:b,{...T,[k]:X}})},y=(k,C,b)=>{d(j=>{const N=j.essential_indicators.stakeholder_engagement_data.map((T,z)=>z===k?{...T,[C]:b}:T);return{...j,essential_indicators:{...j.essential_indicators,stakeholder_engagement_data:N}}})},E=()=>{d(k=>({...k,essential_indicators:{...k.essential_indicators,stakeholder_engagement_data:[...k.essential_indicators.stakeholder_engagement_data||[],{stakeholder_group_name:"",is_vulnerable_marginalized:null,channels_of_communication:"",frequency_of_engagement:"",purpose_scope_of_engagement:""}]}}))},w=k=>{d(C=>{const b=C.essential_indicators.stakeholder_engagement_data.filter((j,N)=>N!==k);return{...C,essential_indicators:{...C.essential_indicators,stakeholder_engagement_data:b}}})},R=async k=>{k.preventDefault(),p(""),g(""),c("");const C={sc_p4_stakeholder_responsiveness:{...o}};await t(C)?g("Section C, Principle 4 saved successfully!"):p("Failed to save Section C, Principle 4.")};if(!r)return a.jsx("p",{children:"Loading Section C, Principle 4 data..."});const A=s||i;return a.jsxs("form",{onSubmit:R,className:"profile-form section-c-form",children:[a.jsx("h3",{children:"Section C: Principle-wise Performance"}),a.jsx("h4",{children:"Principle 4: Businesses should respect the interests of and be responsive to all their stakeholders."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),a.jsx("h5",{children:"Essential Indicators"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Describe the processes for identifying key stakeholder groups of the entity."}),a.jsx("textarea",{value:o.essential_indicators.processes_for_identifying_stakeholder_groups||"",onChange:k=>v("essential_indicators","processes_for_identifying_stakeholder_groups",k.target.value),disabled:A,rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. List stakeholder groups identified as key for your entity and the frequency of engagement with each stakeholder group."}),o.essential_indicators.stakeholder_engagement_data&&o.essential_indicators.stakeholder_engagement_data.map((k,C)=>a.jsxs("div",{className:"stakeholder-group-entry",style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px",borderRadius:"4px"},children:[a.jsxs("h5",{children:["Stakeholder Group ",C+1]}),a.jsx("label",{children:"Stakeholder Group Name:"}),a.jsx("input",{type:"text",value:k.stakeholder_group_name||"",onChange:b=>y(C,"stakeholder_group_name",b.target.value),disabled:A}),a.jsx("label",{children:"Whether identified as Vulnerable & Marginalized Group (Yes/No):"}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`is_vulnerable_marginalized_${C}`,value:"true",checked:k.is_vulnerable_marginalized===!0,onChange:b=>y(C,"is_vulnerable_marginalized",!0),disabled:A})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`is_vulnerable_marginalized_${C}`,value:"false",checked:k.is_vulnerable_marginalized===!1,onChange:b=>y(C,"is_vulnerable_marginalized",!1),disabled:A})," No"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`is_vulnerable_marginalized_${C}`,value:"null",checked:k.is_vulnerable_marginalized===null,onChange:b=>y(C,"is_vulnerable_marginalized",null),disabled:A})," Not Specified"]})]}),a.jsx("label",{children:"Channels of communication (Email, SMS, Newspaper, Pamphlets, Advertisement, Community Meetings, Notice Board, Website), Other:"}),a.jsx("textarea",{value:k.channels_of_communication||"",onChange:b=>y(C,"channels_of_communication",b.target.value),disabled:A,rows:2}),a.jsx("label",{children:"Frequency of engagement (Annually/ Half yearly/ Quarterly / others - please specify):"}),a.jsx("input",{type:"text",value:k.frequency_of_engagement||"",onChange:b=>y(C,"frequency_of_engagement",b.target.value),disabled:A}),a.jsx("label",{children:"Purpose and scope of engagement including key topics and concerns raised during such engagement:"}),a.jsx("textarea",{value:k.purpose_scope_of_engagement||"",onChange:b=>y(C,"purpose_scope_of_engagement",b.target.value),disabled:A,rows:3}),a.jsx("button",{type:"button",onClick:()=>w(C),disabled:A,style:{marginTop:"5px"},children:"Remove Group"})]},C)),a.jsx("button",{type:"button",onClick:E,disabled:A,style:{marginTop:"10px"},children:"Add Stakeholder Group"})]}),a.jsx("h5",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Provide the processes for consultation between stakeholders and the Board:"}),a.jsx("textarea",{value:o.leadership_indicators.consultation_process_with_board_path||"",onChange:k=>v("leadership_indicators","consultation_process_with_board_path",k.target.value||null),disabled:A,rows:3,placeholder:"Optional: Describe consultation processes between stakeholders and the Board"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Was stakeholder consultation used to support identification/management of environmental and social topics?"}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p4_li_consultation_used_for_esg_topics",value:"true",checked:o.leadership_indicators.consultation_used_for_esg_topics===!0,onChange:k=>v("leadership_indicators","consultation_used_for_esg_topics",!0,"radio"),disabled:A})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p4_li_consultation_used_for_esg_topics",value:"false",checked:o.leadership_indicators.consultation_used_for_esg_topics===!1,onChange:k=>v("leadership_indicators","consultation_used_for_esg_topics",!1,"radio"),disabled:A})," No"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"p4_li_consultation_used_for_esg_topics",value:"null",checked:o.leadership_indicators.consultation_used_for_esg_topics===null,onChange:k=>v("leadership_indicators","consultation_used_for_esg_topics",null,"radio"),disabled:A})," Not Answered"]})]}),o.leadership_indicators.consultation_used_for_esg_topics===!0&&a.jsx("textarea",{placeholder:"Optional: Provide details of how inputs were incorporated.",value:o.leadership_indicators.consultation_esg_details||"",onChange:k=>v("leadership_indicators","consultation_esg_details",k.target.value||null),disabled:A,rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Provide details of engagement with, and actions taken to address concerns of vulnerable/marginalized stakeholder groups:"}),a.jsx("textarea",{value:o.leadership_indicators.vulnerable_group_engagement_details||"",onChange:k=>v("leadership_indicators","vulnerable_group_engagement_details",k.target.value||null),disabled:A,rows:3,placeholder:"Optional: Describe engagement with vulnerable/marginalized stakeholder groups"})]}),a.jsx("hr",{}),!s&&a.jsx("button",{type:"submit",className:"form-button",disabled:i,children:i?"Saving...":"Save Principle 4"}),s&&a.jsx("p",{children:"This section is part of a submitted report and cannot be edited."})]})}const xl=(r=!1)=>({total_a:null,covered_b:null,...r?{}:{percent_b_a:""}}),us=()=>({total_a:null,equal_min_wage_b:null,more_than_min_wage_c:null}),tf=()=>({male_number:null,male_median_remuneration:"",female_number:null,female_median_remuneration:""}),jl=()=>({filed_current_fy:null,pending_current_fy:null,remarks_current_fy:""}),zx={human_rights_training:{employees:{permanent:xl(!0),other_than_permanent:xl(!0),total:xl(!0)},workers:{permanent:xl(!0),other_than_permanent:xl(!0),total:xl(!0)}},minimum_wages:{employees:{permanent_male:us(),permanent_female:us(),other_than_permanent_male:us(),other_than_permanent_female:us()},workers:{permanent_male:us(),permanent_female:us(),other_than_permanent_male:us(),other_than_permanent_female:us()}},remuneration:{bod:tf(),kmp:tf(),employees_other_than_bod_kmp:tf(),workers:tf()},focal_point_for_human_rights:null,grievance_redressal_mechanisms:"",complaints_current_fy:{sexual_harassment:jl(),discrimination_workplace:jl(),child_labour:jl(),forced_labour:jl(),wages:jl(),other_hr_issues:jl()},anti_retaliation_mechanisms:"",hr_in_business_agreements:null,assessments_plants_offices:{child_labour_percent:null,forced_labour_percent:null,sexual_harassment_percent:null,discrimination_workplace_percent:null,wages_percent:null,others_text:"",others_percent:null},corrective_actions_risks_q9:""},$x={process_modification_grievances:null,hr_due_diligence_scope:null,accessibility_for_disabled:null,assessment_value_chain_partners:{sexual_harassment_percent:null,discrimination_workplace_percent:null,child_labour_percent:null,forced_labour_percent:null,wages_percent:null,others_text:null,others_percent:null},corrective_actions_risks_q4_li:null},B_={essential_indicators:zx,leadership_indicators:$x};function QA(){const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(B_),[h,p]=D.useState(""),[m,g]=D.useState("");D.useEffect(()=>{var T,z;if(r&&r.sc_p5_human_rights)try{const X=((T=r.sc_p5_human_rights)==null?void 0:T.essential_indicators)||{},Q=((z=r.sc_p5_human_rights)==null?void 0:z.leadership_indicators)||{};d({essential_indicators:ir(zx,X),leadership_indicators:ir($x,Q)})}catch(X){console.error("Error merging report data:",X),d(B_)}else r&&d(B_)},[r]);const v=T=>{const z=[],X=[],Q=T.essential_indicators;Q.focal_point_for_human_rights===null&&z.push("Please specify if the entity has a focal point for human rights issues"),Q.hr_in_business_agreements===null&&z.push("Please specify if human rights requirements are included in business agreements");const ne=(M,B)=>{if(M!=null&&M!==""){const I=parseFloat(M);(isNaN(I)||I<0||I>100)&&z.push(`${B} must be between 0 and 100%`)}};Object.entries(Q.assessments_plants_offices||{}).forEach(([M,B])=>{if(M.endsWith("_percent")){const I=M.replace("_percent","").replace(/_/g," ");ne(B,`Assessment percentage for ${I}`)}}),Object.entries(T.leadership_indicators.assessment_value_chain_partners||{}).forEach(([M,B])=>{if(M.endsWith("_percent")){const I=M.replace("_percent","").replace(/_/g," ");ne(B,`Value chain assessment percentage for ${I}`)}});const ce=Q.human_rights_training||{};return["employees","workers"].forEach(M=>{const B=ce[M]||{},I=B.permanent||{},de=B.other_than_permanent||{},F=B.total||{};if(I.total_a&&de.total_a&&F.total_a){const W=(I.total_a||0)+(de.total_a||0);Math.abs(W-F.total_a)>.01&&X.push(`Total employees/workers (${F.total_a}) doesn't match sum of permanent and other than permanent (${W}) for ${M}`)}}),{errors:z,warnings:X}},y=(T,z,X,Q,ne)=>{d(ce=>{try{const M=z.split(".");let B={...ce[T]},I=B;for(let F=0;F<M.length-1;F++){const W=M[F];(!I[W]||typeof I[W]!="object")&&(I[W]={}),I[W]={...I[W]},I=I[W]}let de=X;return Q==="checkbox"?de=ne:Q==="radio"?de=X==="true"?!0:X==="false"?!1:null:Q==="number"&&(X===""||X===null||X===void 0?de=null:(de=parseFloat(X),isNaN(de)&&(console.warn(`Invalid number value for ${z}: ${X}`),de=null))),I[M[M.length-1]]=de,{...ce,[T]:B}}catch(M){return console.error("Error updating nested value:",M,{indicatorType:T,path:z,value:X,type:Q}),ce}})},E=(T,z)=>{const X=o.essential_indicators.human_rights_training[T]||{},Q=`human_rights_training.${T}`,ne=X.permanent||{},ce=X.other_than_permanent||{},M=(ne.total_a||0)+(ce.total_a||0),B=(ne.covered_b||0)+(ce.covered_b||0);return a.jsxs(a.Fragment,{children:[a.jsx("h5",{children:z}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Total (A)"}),a.jsxs("th",{children:["No. of ",z.toLowerCase()," covered (B)"]}),a.jsx("th",{children:"% (B/A)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Permanent"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:ne.total_a??"",onChange:I=>y("essential_indicators",`${Q}.permanent.total_a`,I.target.value,"number"),disabled:b,min:"0",id:`${Q}_permanent_total_a`})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:ne.covered_b??"",onChange:I=>y("essential_indicators",`${Q}.permanent.covered_b`,I.target.value,"number"),disabled:b,min:"0",max:ne.total_a||void 0,id:`${Q}_permanent_covered_b`})}),a.jsx("td",{children:ne.total_a&&ne.covered_b?(ne.covered_b/ne.total_a*100).toFixed(2)+"%":"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Other than permanent"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:ce.total_a??"",onChange:I=>y("essential_indicators",`${Q}.other_than_permanent.total_a`,I.target.value,"number"),disabled:b,min:"0",id:`${Q}_other_than_permanent_total_a`})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:ce.covered_b??"",onChange:I=>y("essential_indicators",`${Q}.other_than_permanent.covered_b`,I.target.value,"number"),disabled:b,min:"0",max:ce.total_a||void 0,id:`${Q}_other_than_permanent_covered_b`})}),a.jsx("td",{children:ce.total_a&&ce.covered_b?(ce.covered_b/ce.total_a*100).toFixed(2)+"%":"N/A"})]}),a.jsxs("tr",{style:{backgroundColor:"#f5f5f5",fontWeight:"bold"},children:[a.jsx("td",{children:"Total (Calculated)"}),a.jsx("td",{children:M||0}),a.jsx("td",{children:B||0}),a.jsx("td",{children:M&&B?(B/M*100).toFixed(2)+"%":"N/A"})]})]})]})]})},w=(T,z)=>{const X=o.essential_indicators.minimum_wages[T]||{},Q=`minimum_wages.${T}`,ne=["permanent_male","permanent_female","other_than_permanent_male","other_than_permanent_female"];return a.jsxs(a.Fragment,{children:[a.jsx("h5",{children:z}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Total (A)"}),a.jsx("th",{children:"Equal to Minimum Wage - No. (B)"}),a.jsx("th",{children:"Equal to Minimum Wage - % (B/A)"}),a.jsx("th",{children:"More than Minimum Wage - No. (C)"}),a.jsx("th",{children:"More than Minimum Wage - % (C/A)"})]})}),a.jsx("tbody",{children:ne.map(ce=>{const M=X[ce]||{},B=ce.replace(/_/g," ").replace(/^./,O=>O.toUpperCase()),I=`${Q}_${ce}`,de=M.total_a||0,F=M.equal_min_wage_b||0,W=M.more_than_min_wage_c||0,me=F+W,ue=de>0&&me>de;return a.jsxs("tr",{style:ue?{backgroundColor:"#ffebee"}:{},children:[a.jsx("td",{children:a.jsx("label",{htmlFor:`${I}_total_a`,children:B})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${I}_total_a`,value:M.total_a??"",onChange:O=>y("essential_indicators",`${Q}.${ce}.total_a`,O.target.value,"number"),disabled:b,min:"0","aria-label":`Total ${B}`})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${I}_equal_min_wage_b`,value:M.equal_min_wage_b??"",onChange:O=>y("essential_indicators",`${Q}.${ce}.equal_min_wage_b`,O.target.value,"number"),disabled:b,min:"0",max:de||void 0,"aria-label":`${B} equal to minimum wage`})}),a.jsx("td",{children:M.total_a&&M.equal_min_wage_b?(M.equal_min_wage_b/M.total_a*100).toFixed(2)+"%":"N/A"}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${I}_more_than_min_wage_c`,value:M.more_than_min_wage_c??"",onChange:O=>y("essential_indicators",`${Q}.${ce}.more_than_min_wage_c`,O.target.value,"number"),disabled:b,min:"0",max:de?de-F:void 0,"aria-label":`${B} more than minimum wage`})}),a.jsx("td",{children:M.total_a&&M.more_than_min_wage_c?(M.more_than_min_wage_c/M.total_a*100).toFixed(2)+"%":"N/A"})]},ce)})})]}),X&&Object.values(X).some(ce=>{const M=ce.total_a||0,B=(ce.equal_min_wage_b||0)+(ce.more_than_min_wage_c||0);return M>0&&B>M})&&a.jsx("p",{style:{color:"red",fontSize:"0.9em",marginTop:"5px"},children:'⚠️ Warning: The sum of "Equal to Minimum Wage" and "More than Minimum Wage" should not exceed the Total.'})]})},R=()=>{const T=o.essential_indicators.remuneration||{},z="remuneration",X=["bod","kmp","employees_other_than_bod_kmp","workers"],Q={bod:"Board of Directors (BoD)",kmp:"Key Managerial Personnel (KMP)",employees_other_than_bod_kmp:"Employees other than BoD and KMP",workers:"Workers"};return a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Male - Number"}),a.jsx("th",{children:"Male - Median Remuneration/Salary/Wages"}),a.jsx("th",{children:"Female - Number"}),a.jsx("th",{children:"Female - Median Remuneration/Salary/Wages"})]})}),a.jsx("tbody",{children:X.map(ne=>{const ce=T[ne]||{},M=`${z}_${ne}`;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("label",{htmlFor:`${M}_male_number`,children:Q[ne]})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${M}_male_number`,value:ce.male_number??"",onChange:B=>y("essential_indicators",`${z}.${ne}.male_number`,B.target.value,"number"),disabled:b,min:"0","aria-label":`Male number for ${Q[ne]}`})}),a.jsx("td",{children:a.jsx("input",{type:"text",id:`${M}_male_median_remuneration`,value:ce.male_median_remuneration||"",onChange:B=>y("essential_indicators",`${z}.${ne}.male_median_remuneration`,B.target.value,"text"),disabled:b,"aria-label":`Male median remuneration for ${Q[ne]}`})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${M}_female_number`,value:ce.female_number??"",onChange:B=>y("essential_indicators",`${z}.${ne}.female_number`,B.target.value,"number"),disabled:b,min:"0","aria-label":`Female number for ${Q[ne]}`})}),a.jsx("td",{children:a.jsx("input",{type:"text",id:`${M}_female_median_remuneration`,value:ce.female_median_remuneration||"",onChange:B=>y("essential_indicators",`${z}.${ne}.female_median_remuneration`,B.target.value,"text"),disabled:b,"aria-label":`Female median remuneration for ${Q[ne]}`})})]},ne)})})]})},A=()=>{const T=o.essential_indicators.complaints_current_fy||{},z="complaints_current_fy",X=["sexual_harassment","discrimination_workplace","child_labour","forced_labour","wages","other_hr_issues"],Q={sexual_harassment:"Sexual Harassment",discrimination_workplace:"Discrimination at workplace",child_labour:"Child Labour",forced_labour:"Forced Labour/Involuntary Labour",wages:"Wages",other_hr_issues:"Other human rights related issues"};return a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Nature of Complaint"}),a.jsx("th",{children:"Filed during the year (Current FY)"}),a.jsx("th",{children:"Pending resolution at end of year (Current FY)"}),a.jsx("th",{children:"Remarks (Current FY)"})]})}),a.jsx("tbody",{children:X.map(ne=>{const ce=T[ne]||{},M=`${z}_${ne}`;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("label",{htmlFor:`${M}_filed`,children:Q[ne]})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${M}_filed`,value:ce.filed_current_fy??"",onChange:B=>y("essential_indicators",`${z}.${ne}.filed_current_fy`,B.target.value,"number"),disabled:b,min:"0","aria-label":`Number of ${Q[ne]} complaints filed`})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${M}_pending`,value:ce.pending_current_fy??"",onChange:B=>y("essential_indicators",`${z}.${ne}.pending_current_fy`,B.target.value,"number"),disabled:b,min:"0",max:ce.filed_current_fy||void 0,"aria-label":`Number of ${Q[ne]} complaints pending`})}),a.jsx("td",{children:a.jsx("textarea",{id:`${M}_remarks`,value:ce.remarks_current_fy||"",onChange:B=>y("essential_indicators",`${z}.${ne}.remarks_current_fy`,B.target.value,"text"),disabled:b,rows:2,"aria-label":`Remarks for ${Q[ne]} complaints`})})]},ne)})})]})},k=(T,z,X,Q)=>{var M;const ne=((M=o[T])==null?void 0:M[z])||{},ce=`${T}.${z}`;return a.jsxs(a.Fragment,{children:[a.jsx("h5",{children:X}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Assessment Area"}),a.jsx("th",{children:"% Assessed"})]})}),a.jsxs("tbody",{children:[Object.keys(Q).map(B=>{const I=`${ce}_${B}`;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("label",{htmlFor:I,children:Q[B]})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:I,value:ne[B]??"",onChange:de=>y(T,`${z}.${B}`,de.target.value,"number"),disabled:b,placeholder:"%",min:"0",max:"100","aria-label":`Percentage assessed for ${Q[B]}`})})]},B)}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"text",id:`${ce}_others_text`,placeholder:"Others - please specify",value:ne.others_text||"",onChange:B=>y(T,`${z}.others_text`,B.target.value,"text"),disabled:b,"aria-label":"Other assessment areas - please specify"})}),a.jsx("td",{children:a.jsx("input",{type:"number",id:`${ce}_others_percent`,value:ne.others_percent??"",onChange:B=>y(T,`${z}.others_percent`,B.target.value,"number"),disabled:b,placeholder:"%",min:"0",max:"100","aria-label":"Percentage for other assessment areas"})})]})]})]})]})},C=async T=>{T.preventDefault(),p(""),g(""),c("");const z=v(o);if(z.errors.length>0){p(`Please fix the following errors before submitting:
${z.errors.join(`
`)}`);return}if(z.warnings.length>0){const Q=`The following warnings were found:
${z.warnings.join(`
`)}

Do you want to continue saving?`;if(!window.confirm(Q))return}const X={sc_p5_human_rights:o};try{await t(X)?(g("Section C, Principle 5 saved successfully!"),z.warnings.length>0&&g("Section C, Principle 5 saved successfully! (with warnings acknowledged)")):p("Failed to save Section C, Principle 5.")}catch(Q){console.error("Error saving form:",Q),p("An error occurred while saving. Please try again.")}};if(!r)return a.jsx("p",{children:"Loading Section C, Principle 5 data..."});const b=s||i,j={child_labour_percent:"Child labour",forced_labour_percent:"Forced/involuntary labour",sexual_harassment_percent:"Sexual harassment",discrimination_workplace_percent:"Discrimination at workplace",wages_percent:"Wages"},N={sexual_harassment_percent:"Sexual Harassment",discrimination_workplace_percent:"Discrimination at workplace",child_labour_percent:"Child Labour",forced_labour_percent:"Forced Labour/Involuntary Labour",wages_percent:"Wages"};return a.jsxs("form",{onSubmit:C,className:"profile-form section-c-form",children:[a.jsx("h3",{children:"Section C: Principle-wise Performance"}),a.jsx("h4",{children:"Principle 5: Businesses should respect and promote human rights."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),a.jsx("h5",{children:"Essential Indicators"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Employees and workers who have been provided training on human rights issues and policy(ies) of the entity (Current Financial Year):"}),E("employees","Employees"),E("workers","Workers")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Details of minimum wages paid to employees and workers (Current Financial Year):"}),w("employees","Employees"),w("workers","Workers")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Details of remuneration/salary/wages:"}),R()]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_focal_point_for_human_rights",children:"4. Do you have a focal point (Individual/Committee) responsible for addressing human rights impacts or issues caused or contributed to by the business?"}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"p5_focal_point_for_human_rights_yes",children:[a.jsx("input",{type:"radio",id:"p5_focal_point_for_human_rights_yes",name:"p5_focal_point_for_human_rights",value:"true",checked:o.essential_indicators.focal_point_for_human_rights===!0,onChange:T=>y("essential_indicators","focal_point_for_human_rights","true","radio"),disabled:b})," Yes"]}),a.jsxs("label",{htmlFor:"p5_focal_point_for_human_rights_no",children:[a.jsx("input",{type:"radio",id:"p5_focal_point_for_human_rights_no",name:"p5_focal_point_for_human_rights",value:"false",checked:o.essential_indicators.focal_point_for_human_rights===!1,onChange:T=>y("essential_indicators","focal_point_for_human_rights","false","radio"),disabled:b})," No"]})]})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_grievance_redressal_mechanisms",children:"5. Describe the internal mechanisms in place to redress grievances related to human rights issues:"}),a.jsx("textarea",{id:"p5_grievance_redressal_mechanisms",value:o.essential_indicators.grievance_redressal_mechanisms||"",onChange:T=>y("essential_indicators","grievance_redressal_mechanisms",T.target.value,"text"),disabled:b,rows:3,"aria-label":"Describe grievance redressal mechanisms"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"6. Number of Complaints on the following made by employees and workers (Current Financial Year):"}),A()]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_anti_retaliation_mechanisms",children:"7. Mechanisms to prevent adverse consequences to the complainant in discrimination and harassment cases:"}),a.jsx("textarea",{id:"p5_anti_retaliation_mechanisms",value:o.essential_indicators.anti_retaliation_mechanisms||"",onChange:T=>y("essential_indicators","anti_retaliation_mechanisms",T.target.value,"text"),disabled:b,rows:3,"aria-label":"Describe anti-retaliation mechanisms"})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_hr_in_business_agreements",children:"8. Do human rights requirements form part of your business agreements and contracts?"}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"p5_hr_in_business_agreements_yes",children:[a.jsx("input",{type:"radio",id:"p5_hr_in_business_agreements_yes",name:"p5_hr_in_business_agreements",value:"true",checked:o.essential_indicators.hr_in_business_agreements===!0,onChange:T=>y("essential_indicators","hr_in_business_agreements","true","radio"),disabled:b})," Yes"]}),a.jsxs("label",{htmlFor:"p5_hr_in_business_agreements_no",children:[a.jsx("input",{type:"radio",id:"p5_hr_in_business_agreements_no",name:"p5_hr_in_business_agreements",value:"false",checked:o.essential_indicators.hr_in_business_agreements===!1,onChange:T=>y("essential_indicators","hr_in_business_agreements","false","radio"),disabled:b})," No"]})]})]}),a.jsx("div",{className:"form-group",children:k("essential_indicators","assessments_plants_offices","9. Assessments for the year: (% of your plants and offices that were assessed by entity or statutory authorities or third parties)",j)}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_corrective_actions_risks_q9",children:"10. Provide details of any corrective actions taken or underway to address significant risks / concerns arising from the assessments at Question 9 above:"}),a.jsx("textarea",{id:"p5_corrective_actions_risks_q9",value:o.essential_indicators.corrective_actions_risks_q9||"",onChange:T=>y("essential_indicators","corrective_actions_risks_q9",T.target.value,"text"),disabled:b,rows:3,"aria-label":"Describe corrective actions for assessment risks"})]}),"            ",a.jsx("h5",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_process_modification_grievances",children:"1. Details of a business process being modified / introduced as a result of addressing human rights grievances/complaints:"}),a.jsx("textarea",{id:"p5_process_modification_grievances",value:o.leadership_indicators.process_modification_grievances||"",onChange:T=>y("leadership_indicators","process_modification_grievances",T.target.value||null,"text"),disabled:b,rows:3,placeholder:"Optional: Describe business process modifications due to human rights grievances","aria-label":"Describe business process modifications"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_hr_due_diligence_scope",children:"2. Details of the scope and coverage of any Human rights due-diligence conducted:"}),a.jsx("textarea",{id:"p5_hr_due_diligence_scope",value:o.leadership_indicators.hr_due_diligence_scope||"",onChange:T=>y("leadership_indicators","hr_due_diligence_scope",T.target.value||null,"text"),disabled:b,rows:3,placeholder:"Optional: Describe human rights due-diligence scope and coverage","aria-label":"Describe human rights due-diligence scope"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_accessibility_for_disabled",children:"3. Is the premise/office of the entity accessible to differently abled visitors, as per the requirements of the Rights of Persons with Disabilities Act, 2016?"}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"p5_accessibility_for_disabled_yes",children:[a.jsx("input",{type:"radio",id:"p5_accessibility_for_disabled_yes",name:"p5_accessibility_for_disabled",value:"true",checked:o.leadership_indicators.accessibility_for_disabled===!0,onChange:T=>y("leadership_indicators","accessibility_for_disabled","true","radio"),disabled:b})," Yes"]}),a.jsxs("label",{htmlFor:"p5_accessibility_for_disabled_no",children:[a.jsx("input",{type:"radio",id:"p5_accessibility_for_disabled_no",name:"p5_accessibility_for_disabled",value:"false",checked:o.leadership_indicators.accessibility_for_disabled===!1,onChange:T=>y("leadership_indicators","accessibility_for_disabled","false","radio"),disabled:b})," No"]}),a.jsxs("label",{htmlFor:"p5_accessibility_for_disabled_null",children:[a.jsx("input",{type:"radio",id:"p5_accessibility_for_disabled_null",name:"p5_accessibility_for_disabled",value:"null",checked:o.leadership_indicators.accessibility_for_disabled===null,onChange:T=>y("leadership_indicators","accessibility_for_disabled","null","radio"),disabled:b})," Not Answered"]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("p",{children:a.jsx("em",{children:"Optional: Provide assessment data for value chain partners if your organization conducts such assessments."})}),k("leadership_indicators","assessment_value_chain_partners","4. Details on assessment of value chain partners: (% of value chain partners (by value of business done with such partners) that were assessed)",N)]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p5_corrective_actions_risks_q4_li",children:"5. Provide details of any corrective actions taken or underway to address significant risks / concerns arising from the assessments at Question 4 above:"}),a.jsx("textarea",{id:"p5_corrective_actions_risks_q4_li",value:o.leadership_indicators.corrective_actions_risks_q4_li||"",onChange:T=>y("leadership_indicators","corrective_actions_risks_q4_li",T.target.value||null,"text"),disabled:b,rows:3,placeholder:"Optional: Describe corrective actions for value chain assessment risks","aria-label":"Describe corrective actions for value chain assessment risks"})]}),a.jsx("hr",{}),!s&&a.jsx("button",{type:"submit",className:"form-button",disabled:i,children:i?"Saving...":"Save Principle 5"}),s&&a.jsx("p",{children:"This section is part of a submitted report and cannot be edited."})]})}const Hn=()=>({conducted:null,agency_name:""}),hs={energy_consumption_intensity:{current_fy:{electricity_consumption_a:null,fuel_consumption_b:null,other_sources_consumption_c:null,energy_intensity_turnover:"",energy_intensity_optional_metric:""},assessment_info:Hn()},designated_consumers_pat:{is_dc:null,targets_achieved:null,remedial_action_not_achieved:""},water_disclosures:{current_fy:{withdrawal_surface:null,withdrawal_groundwater:null,withdrawal_third_party:null,withdrawal_seawater_desalinated:null,withdrawal_others:null,total_consumption:null,water_intensity_turnover:"",water_intensity_optional_metric:""},assessment_info:Hn()},zero_liquid_discharge:{implemented:null,coverage_implementation_details:""},air_emissions_other_ghg:{current_fy:[{parameter:"NOx",unit:"",value:null},{parameter:"SOx",unit:"",value:null},{parameter:"Particulate matter (PM)",unit:"",value:null},{parameter:"Persistent organic pollutants (POP)",unit:"",value:null},{parameter:"Volatile organic compounds (VOC)",unit:"",value:null},{parameter:"Hazardous air pollutants (HAP)",unit:"",value:null},{parameter:"Others",unit:"",value:null,specify_others:""}],assessment_info:Hn()},ghg_emissions_scope1_2:{current_fy:{scope1_total:null,scope1_breakup:"",scope2_total:null,scope2_breakup:"",scope1_2_intensity_turnover:"",scope1_2_intensity_optional_metric:""},assessment_info:Hn()},ghg_reduction_projects:{has_projects:null,details:""},waste_management:{current_fy:{generated:{plastic_a:null,e_waste_b:null,bio_medical_c:null,construction_demolition_d:null,battery_e:null,radioactive_f:null,other_hazardous_g_specify:"",other_hazardous_g_value:null,other_non_hazardous_h_specify:"",other_non_hazardous_h_composition:"",other_non_hazardous_h_value:null},recovered:{recycled:null,re_used:null,other_recovery_ops:null},disposed:{incineration:null,landfilling:null,other_disposal_ops:null}},previous_fy:{generated:{plastic_a:null,e_waste_b:null,bio_medical_c:null,construction_demolition_d:null,battery_e:null,radioactive_f:null,other_hazardous_g_value:null,other_non_hazardous_h_value:null},recovered:{recycled:null,re_used:null,other_recovery_ops:null},disposed:{incineration:null,landfilling:null,other_disposal_ops:null}},assessment_info:Hn()},waste_management_practices_desc:"",ecologically_sensitive_operations:{list:[],assessment_info:Hn()},eia_current_fy:{list:[],assessment_info:Hn()},env_law_compliance:{is_compliant:null,non_compliances:[]},operations_in_or_near_biodiversity_hotspots:"",plantation_initiatives:{undertaken:null,details:""},deforestation_impact:{tracked_reported:null,details:""},afforestation_reforestation_sustainability:{undertaken:null,details:""},soil_quality_management:{monitored_managed:null,details:""},green_building_certification:{has_certified_buildings:null,details:""},biodiversity_impact_assessment:{assessed_reported:null,details:""},noise_pollution_monitoring_mitigation:{has_monitoring_mitigation_plan:null,details:""},significant_environmental_incidents_details:""},cf={energy_breakup:{current_fy:{renewable:{electricity_a:null,fuel_b:null,other_sources_c:null},non_renewable:{electricity_d:null,fuel_e:null,other_sources_f:null}},assessment_info:Hn()},water_discharged_details:{current_fy:{surface:{no_treatment:null,with_treatment_value:null,with_treatment_specify:null},groundwater:{no_treatment:null,with_treatment_value:null,with_treatment_specify:null},seawater:{no_treatment:null,with_treatment_value:null,with_treatment_specify:null},third_parties:{no_treatment:null,with_treatment_value:null,with_treatment_specify:null},others:{no_treatment:null,with_treatment_value:null,with_treatment_specify:null,specify_others:null}},assessment_info:Hn()},water_stress_areas:{list:[{facility_name_area:null,nature_operations:null,current_fy:{withdrawal_surface:null,withdrawal_groundwater:null,withdrawal_third_party:null,withdrawal_seawater_desalinated:null,withdrawal_others:null,total_consumption:null,intensity_turnover:null,intensity_optional_metric:null,discharge_surface_no_treatment:null,discharge_surface_with_treatment_value:null,discharge_surface_with_treatment_specify:null,discharge_groundwater_no_treatment:null,discharge_groundwater_with_treatment_value:null,discharge_groundwater_with_treatment_specify:null,discharge_seawater_no_treatment:null,discharge_seawater_with_treatment_value:null,discharge_seawater_with_treatment_specify:null,discharge_third_parties_no_treatment:null,discharge_third_parties_with_treatment_value:null,discharge_third_parties_with_treatment_specify:null,discharge_others_no_treatment:null,discharge_others_with_treatment_value:null,discharge_others_with_treatment_specify:null}}],assessment_info:Hn()},scope_3_emissions:{current_fy:{total_scope_3_emissions:null,scope_3_breakup:null,intensity_turnover:null,intensity_optional_metric:null},previous_fy:{scope_3_breakup:null},assessment_info:Hn()},biodiversity_impact_ecologically_sensitive_areas_details:null,resource_efficiency_initiatives:{list:[{sr_no:null,initiative_undertaken:null,details_of_initiative:null,outcome_of_initiative:null}],assessment_info:Hn()},env_business_continuity_disaster_plan_details:null,value_chain_adverse_env_impact_mitigation_details:null,value_chain_partners_env_assessment_percent:null},rb={essential_indicators:hs,leadership_indicators:cf};function KA(){var X,Q,ne,ce,M,B,I,de,F,W,me,ue,O,J,ge,_e,Ae,Se,le,ke,we,Et,It,oe,et,st,$e,vt,_t,At,Dt,wt,U,V,ee,ye,pe,fe,Ce,ze,Qe,pt,Zr,Pn,li,ur,dr,Gn,Cr,kr,Ss,Il,Hl,oi,Aa,tu,Vl,Yl,ci,ui,Gl,nu,fr,Gt,on,Qr,di,ru,au,Zl,Ra,fi,Kr,Xr,Na,Jr,Lt,Ql,Kl,Er,Wr,su,Xl,Jl,iu,Cs,ks,Zn,hi,Wl,ea,_i,pi,lu,eo,vn,to,ou,Es,no,As,cu,bn,mi,ro,gi,ta,ao,so,na,uu,io,lo,yi,du,fu,Rs,vi,bi,ra,aa,oo,xi,co,Ta,Qn,ji,Oa,hr,wi,Ns,uo,Ts,Os,fo,cn,Ar,Ds,Da,hu,Si,Ci,Ba,Bs,ho,_u,pu,mu,ki,gu,yu,vu,bu,xu,_o,ju,wu,Su,Cu,Ei,ku,Eu,Au,po,Ru,Nu,Tu,Ou,Du,Bu,Pu,Uu,Lu,Ai,Pa,Mu,mo,go,yo,vo,bo,sa,zu,$u,qu,xo,jo,Ua,La,Fu,Ps,wo,So,Ri,Ni,Co,ko,Eo,Iu,Hu,Vu,Yu,Gu,_n,Ma,Ao,Ro,No,To,Ti,Zu,ia,Oi,za,Di,Oo,Rr,la,Bi,Do,Nr,Bo,Po,Uo,Qu,Ku,Xu,Lo,Mo,Pi,En,zo,xn,jn,oa,Ui,Us,Ls,Li,ca,$o,Ms,ua,Ju,pn,Mi,Kn,qo,zs,Tr,zi,$i,da,fa,$s,qs,wn,Sn,Or,Xn,Jn,Dr,Fo,qi,Fi,Jt,Rt,it,Br,Un,Ii,Pr,Io,Ho,$a,qa,Vo,Fa,Hi,Ur,Wn,_r,er,Vi,Yi,Ia,Fs,Lr,Zt,Is,Yo;const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(rb),[h,p]=D.useState(""),[m,g]=D.useState("");D.useEffect(()=>{if(r&&r.section_c_principle_6){const L=ir(hs,r.section_c_principle_6.essential_indicators||{}),se=ir(cf,r.section_c_principle_6.leadership_indicators||{}),ve=r.section_c_principle_6.essential_indicators,Oe=r.section_c_principle_6.leadership_indicators,Ke=(Ie,De,mt,at)=>{const Xe=De[mt];let He=Ie[mt];Array.isArray(at)?He={list:at,assessment_info:Xe.assessment_info}:(typeof He!="object"||He===null)&&(He={...Xe}),Array.isArray(He.list)||(He.list=Xe.list||[]),(typeof He.assessment_info!="object"||He.assessment_info===null)&&(He.assessment_info=Xe.assessment_info||Hn()),Ie[mt]=He};Ke(L,hs,"eia_current_fy",ve==null?void 0:ve.eia_current_fy),Ke(L,hs,"ecologically_sensitive_operations",ve==null?void 0:ve.ecologically_sensitive_operations),Ke(se,cf,"water_stress_areas",Oe==null?void 0:Oe.water_stress_areas),Ke(se,cf,"resource_efficiency_initiatives",Oe==null?void 0:Oe.resource_efficiency_initiatives),L.air_emissions_other_ghg?Array.isArray(L.air_emissions_other_ghg.current_fy)||(L.air_emissions_other_ghg.current_fy=hs.air_emissions_other_ghg.current_fy):L.air_emissions_other_ghg=ir({},hs.air_emissions_other_ghg),L.env_law_compliance&&!Array.isArray(L.env_law_compliance.non_compliances)&&(L.env_law_compliance.non_compliances=hs.env_law_compliance.non_compliances||[]),d({essential_indicators:L,leadership_indicators:se})}else d(rb)},[r]);const v=async L=>{L.preventDefault(),p(""),g(""),c("");const ve=(Ie=>{var mt,at,Xe,He,mn,Wt,en,tn,tr;const De=[];return!((at=(mt=Ie.essential_indicators.energy_consumption_intensity)==null?void 0:mt.current_fy)!=null&&at.electricity_consumption_a)&&!((He=(Xe=Ie.essential_indicators.energy_consumption_intensity)==null?void 0:Xe.current_fy)!=null&&He.fuel_consumption_b)&&De.push("Please provide at least one energy consumption value in Essential Indicator 1"),((mn=Ie.essential_indicators.designated_consumers_pat)==null?void 0:mn.is_dc)===null&&De.push("Please answer the PAT scheme question in Essential Indicator 2"),(en=(Wt=Ie.essential_indicators.water_disclosures)==null?void 0:Wt.current_fy)!=null&&en.total_consumption||De.push("Please provide total water consumption in Essential Indicator 3"),((tn=Ie.essential_indicators.zero_liquid_discharge)==null?void 0:tn.implemented)===null&&De.push("Please answer the Zero Liquid Discharge question in Essential Indicator 4"),((tr=Ie.essential_indicators.env_law_compliance)==null?void 0:tr.is_compliant)===null&&De.push("Please answer the environmental compliance question in Essential Indicator 12"),De})(o);if(ve.length>0){p(`Please complete required fields:
• ${ve.join(`
• `)}`);return}const Oe={sc_p6_environment_protection:{essential_indicators:o.essential_indicators,leadership_indicators:o.leadership_indicators}};await t(Oe)?g("Section C, Principle 6 saved successfully!"):p("Failed to save Section C, Principle 6. Check wizard errors or console.")},y=D.useCallback((L,se,ve,Oe="text",Ke=null)=>{d(Ie=>{const De=se.split("."),mt={...Ie[L]};let at=mt;for(let mn=0;mn<De.length-1;mn++){const Wt=De[mn],en=at[Wt],tn=!isNaN(parseInt(De[mn+1]));typeof en!="object"||en===null?at[Wt]=tn?[]:{}:at[Wt]=Array.isArray(en)?[...en]:{...en},at=at[Wt]}const Xe=De[De.length-1];let He=ve;return Oe==="checkbox"?He=Ke:Oe==="radio"?He=ve==="true"?!0:ve==="false"?!1:null:Oe==="number"&&(He=ve===""?null:parseFloat(ve),isNaN(He)&&(He=null)),at[Xe]=He,{...Ie,[L]:mt}})},[]),E=D.useCallback((L,se,ve)=>{d(Oe=>{const Ke=se.split("."),Ie={...Oe[L]};let De=Ie;for(let Xe=0;Xe<Ke.length-1;Xe++){const He=Ke[Xe];De[He]=Array.isArray(De[He])?[...De[He]]:{...De[He]},De=De[He]}const mt=Ke[Ke.length-1],at=Array.isArray(De[mt])?De[mt]:[];return De[mt]=[...at,ve],{...Oe,[L]:Ie}})},[]),w=D.useCallback((L,se,ve)=>{d(Oe=>{const Ke=se.split("."),Ie={...Oe[L]};let De=Ie;for(let Xe=0;Xe<Ke.length-1;Xe++){const He=Ke[Xe];De[He]=Array.isArray(De[He])?[...De[He]]:{...De[He]},De=De[He]}const mt=Ke[Ke.length-1],at=Array.isArray(De[mt])?De[mt]:[];return De[mt]=at.filter((Xe,He)=>He!==ve),{...Oe,[L]:Ie}})},[]),R=D.useCallback((L,se,ve,Oe,Ke=void 0)=>{d(Ie=>{const De=se.split("."),mt={...Ie[L]};let at=mt;for(let Wt=0;Wt<De.length-1;Wt++)at[De[Wt]]={...at[De[Wt]]},at=at[De[Wt]];const Xe=De[De.length-1],mn=[...at[Xe]||[]];if(ve<0||ve>=mn.length)return console.error("UpdateArrayItem: Index out of bounds"),Ie;if(Ke===void 0)mn[ve]=Oe;else{const Wt={...mn[ve]},en=Oe.split(".");let tn=Wt;for(let tr=0;tr<en.length-1;tr++)tn[en[tr]]={...tn[en[tr]]},tn=tn[en[tr]];tn[en[en.length-1]]=Ke,mn[ve]=Wt}return at[Xe]=mn,{...Ie,[L]:mt}})},[]),A=D.useCallback((L,se)=>{E("leadership_indicators",`${L}.list`,se)},[E]),k=D.useCallback((L,se)=>{w("leadership_indicators",`${L}.list`,se)},[w]),C=D.useCallback((L,se,ve,Oe,Ke=null,Ie=null,De="text")=>{const mt=`${L}.list`,at=Ke?`${ve}.${Ke}`:ve;let Xe=Oe;De==="checkbox"?Xe=Ie:De==="radio"?Xe=Oe==="true"?!0:Oe==="false"?!1:null:De==="number"&&(Xe=Oe===""?null:parseFloat(Oe),isNaN(Xe)&&(Xe=null)),R("leadership_indicators",mt,se,at,Xe)},[R]),b=D.useCallback(()=>{E("essential_indicators","air_emissions_other_ghg.current_fy",{parameter:"",unit:"",value:null,specify_others:""})},[E]),j=D.useCallback(L=>{w("essential_indicators","air_emissions_other_ghg.current_fy",L)},[w]),N=D.useCallback((L,se,ve)=>{R("essential_indicators","air_emissions_other_ghg.current_fy",L,se,ve)},[R]);if(!o)return a.jsx("div",{children:"Loading..."});const T=s||i,z=(L,se)=>{var ve,Oe,Ke,Ie,De,mt,at,Xe;return a.jsxs("div",{className:"assessment-info",children:[a.jsx("p",{children:"Indicate if any independent assessment/ evaluation/assurance has been carried out by an external agency?"}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`${se}.conducted`,value:"true",checked:((Oe=(ve=o[L][se.split(".")[0]])==null?void 0:ve.assessment_info)==null?void 0:Oe.conducted)===!0,onChange:He=>y(L,`${se}.conducted`,He.target.value,"radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:`${se}.conducted`,value:"false",checked:((Ie=(Ke=o[L][se.split(".")[0]])==null?void 0:Ke.assessment_info)==null?void 0:Ie.conducted)===!1,onChange:He=>y(L,`${se}.conducted`,He.target.value,"radio"),disabled:T})," No"]}),((mt=(De=o[L][se.split(".")[0]])==null?void 0:De.assessment_info)==null?void 0:mt.conducted)===!0&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:`${se}.agency_name`,children:"If yes, name of the external agency:"}),a.jsx("input",{type:"text",id:`${se}.agency_name`,value:((Xe=(at=o[L][se.split(".")[0]])==null?void 0:at.assessment_info)==null?void 0:Xe.agency_name)||"",onChange:He=>y(L,`${se}.agency_name`,He.target.value),disabled:T})]})]})};return a.jsxs("form",{onSubmit:v,className:"profile-form section-c-form",children:[a.jsx("h3",{className:"section-title",children:"Section C: Principle-wise Performance"}),a.jsx("h4",{className:"sub-title",children:"Principle 6: Businesses should respect and make efforts to protect and restore the environment."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Essential Indicators"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Details of total energy consumption (in Joules or multiples) and energy intensity, in the following format (Current Financial Year):"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total electricity consumption (A)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Q=(X=o.essential_indicators.energy_consumption_intensity)==null?void 0:X.current_fy)==null?void 0:Q.electricity_consumption_a)??"",onChange:L=>y("essential_indicators","energy_consumption_intensity.current_fy.electricity_consumption_a",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total fuel consumption (B)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((ce=(ne=o.essential_indicators.energy_consumption_intensity)==null?void 0:ne.current_fy)==null?void 0:ce.fuel_consumption_b)??"",onChange:L=>y("essential_indicators","energy_consumption_intensity.current_fy.fuel_consumption_b",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Energy consumption through other sources (C)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((B=(M=o.essential_indicators.energy_consumption_intensity)==null?void 0:M.current_fy)==null?void 0:B.other_sources_consumption_c)??"",onChange:L=>y("essential_indicators","energy_consumption_intensity.current_fy.other_sources_consumption_c",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total energy consumption (A+B+C)"}),a.jsx("td",{children:((((de=(I=o.essential_indicators.energy_consumption_intensity)==null?void 0:I.current_fy)==null?void 0:de.electricity_consumption_a)||0)+(((W=(F=o.essential_indicators.energy_consumption_intensity)==null?void 0:F.current_fy)==null?void 0:W.fuel_consumption_b)||0)+(((ue=(me=o.essential_indicators.energy_consumption_intensity)==null?void 0:me.current_fy)==null?void 0:ue.other_sources_consumption_c)||0)).toFixed(2)})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Energy intensity per rupee of turnover (Total energy consumption/ turnover in rupees)"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((J=(O=o.essential_indicators.energy_consumption_intensity)==null?void 0:O.current_fy)==null?void 0:J.energy_intensity_turnover)||"",onChange:L=>y("essential_indicators","energy_consumption_intensity.current_fy.energy_intensity_turnover",L.target.value),disabled:T,placeholder:"Value or Calculation Basis"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Energy intensity (optional) – the relevant metric may be selected by the entity"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((_e=(ge=o.essential_indicators.energy_consumption_intensity)==null?void 0:ge.current_fy)==null?void 0:_e.energy_intensity_optional_metric)||"",onChange:L=>y("essential_indicators","energy_consumption_intensity.current_fy.energy_intensity_optional_metric",L.target.value),disabled:T})})]})]})]}),z("essential_indicators","energy_consumption_intensity.assessment_info")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Does the entity have any sites / facilities identified as designated consumers (DCs) under the Performance, Achieve and Trade (PAT) Scheme of the Government of India? (Y/N)"}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei2_is_dc",value:"true",checked:((Ae=o.essential_indicators.designated_consumers_pat)==null?void 0:Ae.is_dc)===!0,onChange:L=>y("essential_indicators","designated_consumers_pat.is_dc","true","radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei2_is_dc",value:"false",checked:((Se=o.essential_indicators.designated_consumers_pat)==null?void 0:Se.is_dc)===!1,onChange:L=>y("essential_indicators","designated_consumers_pat.is_dc","false","radio"),disabled:T})," No"]})]}),((le=o.essential_indicators.designated_consumers_pat)==null?void 0:le.is_dc)===!0&&a.jsxs(a.Fragment,{children:[a.jsx("label",{children:"If yes, disclose whether targets set under the PAT scheme have been achieved."}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei2_targets_achieved",value:"true",checked:((ke=o.essential_indicators.designated_consumers_pat)==null?void 0:ke.targets_achieved)===!0,onChange:L=>y("essential_indicators","designated_consumers_pat.targets_achieved","true","radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei2_targets_achieved",value:"false",checked:((we=o.essential_indicators.designated_consumers_pat)==null?void 0:we.targets_achieved)===!1,onChange:L=>y("essential_indicators","designated_consumers_pat.targets_achieved","false","radio"),disabled:T})," No"]})]}),((Et=o.essential_indicators.designated_consumers_pat)==null?void 0:Et.targets_achieved)===!1&&a.jsxs("div",{children:[a.jsx("label",{children:"In case targets have not been achieved, provide the remedial action taken, if any."}),a.jsx("textarea",{value:((It=o.essential_indicators.designated_consumers_pat)==null?void 0:It.remedial_action_not_achieved)||"",onChange:L=>y("essential_indicators","designated_consumers_pat.remedial_action_not_achieved",L.target.value),disabled:T,rows:3})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Water withdrawal and consumption details (in Kilolitres) for the current financial year:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total water withdrawal from surface water sources"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((et=(oe=o.essential_indicators.water_disclosures)==null?void 0:oe.current_fy)==null?void 0:et.withdrawal_surface)??"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.withdrawal_surface",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total water withdrawal from groundwater sources"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:(($e=(st=o.essential_indicators.water_disclosures)==null?void 0:st.current_fy)==null?void 0:$e.withdrawal_groundwater)??"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.withdrawal_groundwater",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total water withdrawal from third-party sources"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((_t=(vt=o.essential_indicators.water_disclosures)==null?void 0:vt.current_fy)==null?void 0:_t.withdrawal_third_party)??"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.withdrawal_third_party",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total water withdrawal from desalinated seawater"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Dt=(At=o.essential_indicators.water_disclosures)==null?void 0:At.current_fy)==null?void 0:Dt.withdrawal_seawater_desalinated)??"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.withdrawal_seawater_desalinated",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total water withdrawal from other sources"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((U=(wt=o.essential_indicators.water_disclosures)==null?void 0:wt.current_fy)==null?void 0:U.withdrawal_others)??"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.withdrawal_others",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total volume of water withdrawal (in kilolitres) (i + ii + iii + iv + v)"})}),a.jsx("td",{children:((((ee=(V=o.essential_indicators.water_disclosures)==null?void 0:V.current_fy)==null?void 0:ee.withdrawal_surface)||0)+(((pe=(ye=o.essential_indicators.water_disclosures)==null?void 0:ye.current_fy)==null?void 0:pe.withdrawal_groundwater)||0)+(((Ce=(fe=o.essential_indicators.water_disclosures)==null?void 0:fe.current_fy)==null?void 0:Ce.withdrawal_third_party)||0)+(((Qe=(ze=o.essential_indicators.water_disclosures)==null?void 0:ze.current_fy)==null?void 0:Qe.withdrawal_seawater_desalinated)||0)+(((Zr=(pt=o.essential_indicators.water_disclosures)==null?void 0:pt.current_fy)==null?void 0:Zr.withdrawal_others)||0)).toFixed(2)})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total water consumption"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((li=(Pn=o.essential_indicators.water_disclosures)==null?void 0:Pn.current_fy)==null?void 0:li.total_consumption)??"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.total_consumption",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water intensity per rupee of turnover (Water consumed / turnover)"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((dr=(ur=o.essential_indicators.water_disclosures)==null?void 0:ur.current_fy)==null?void 0:dr.water_intensity_turnover)||"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.water_intensity_turnover",L.target.value),disabled:T,placeholder:"Value or Calculation Basis"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water intensity (optional) – the relevant metric may be selected by the entity"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((Cr=(Gn=o.essential_indicators.water_disclosures)==null?void 0:Gn.current_fy)==null?void 0:Cr.water_intensity_optional_metric)||"",onChange:L=>y("essential_indicators","water_disclosures.current_fy.water_intensity_optional_metric",L.target.value),disabled:T})})]})]})]}),z("essential_indicators","water_disclosures.assessment_info")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"4. Is the entity implementing the Zero Liquid Discharge (ZLD) system?"}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei4_implemented",value:"true",checked:((kr=o.essential_indicators.zero_liquid_discharge)==null?void 0:kr.implemented)===!0,onChange:L=>y("essential_indicators","zero_liquid_discharge.implemented","true","radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei4_implemented",value:"false",checked:((Ss=o.essential_indicators.zero_liquid_discharge)==null?void 0:Ss.implemented)===!1,onChange:L=>y("essential_indicators","zero_liquid_discharge.implemented","false","radio"),disabled:T})," No"]})]}),((Il=o.essential_indicators.zero_liquid_discharge)==null?void 0:Il.implemented)===!0&&a.jsxs("div",{children:[a.jsx("label",{children:"Details of coverage and implementation of ZLD:"}),a.jsx("textarea",{value:((Hl=o.essential_indicators.zero_liquid_discharge)==null?void 0:Hl.coverage_implementation_details)||"",onChange:L=>y("essential_indicators","zero_liquid_discharge.coverage_implementation_details",L.target.value),disabled:T,rows:3})]})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"5. Air emissions (other than GHG) for the current financial year:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"Unit"}),a.jsx("th",{children:"Value"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(Array.isArray((Aa=(oi=o==null?void 0:o.essential_indicators)==null?void 0:oi.air_emissions_other_ghg)==null?void 0:Aa.current_fy)?o.essential_indicators.air_emissions_other_ghg.current_fy:[]).map((L,se)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"text",value:L.parameter||"",onChange:ve=>N(se,"parameter",ve.target.value),disabled:T,placeholder:"Parameter"})}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.unit||"",onChange:ve=>N(se,"unit",ve.target.value),disabled:T,placeholder:"Unit"})}),a.jsx("td",{children:a.jsx("input",{type:"number",value:L.value??"",onChange:ve=>N(se,"value",ve.target.value===""?null:parseFloat(ve.target.value)),disabled:T,placeholder:"Value"})}),a.jsx("td",{children:a.jsx("button",{type:"button",onClick:()=>j(se),disabled:T,className:"remove-btn",children:"Remove"})})]},se))})]}),a.jsx("button",{type:"button",onClick:b,disabled:T,className:"add-btn",children:"Add Parameter"}),z("essential_indicators","air_emissions_other_ghg.assessment_info")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"6. GHG emissions for the current financial year:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"Value (Metric tonnes of CO2 equivalent)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Scope 1 emissions"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Vl=(tu=o.essential_indicators.ghg_emissions_scope1_2)==null?void 0:tu.current_fy)==null?void 0:Vl.scope1_total)??"",onChange:L=>y("essential_indicators","ghg_emissions_scope1_2.current_fy.scope1_total",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Break-up of Scope 1 emissions"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((ci=(Yl=o.essential_indicators.ghg_emissions_scope1_2)==null?void 0:Yl.current_fy)==null?void 0:ci.scope1_breakup)||"",onChange:L=>y("essential_indicators","ghg_emissions_scope1_2.current_fy.scope1_breakup",L.target.value),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Scope 2 emissions"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Gl=(ui=o.essential_indicators.ghg_emissions_scope1_2)==null?void 0:ui.current_fy)==null?void 0:Gl.scope2_total)??"",onChange:L=>y("essential_indicators","ghg_emissions_scope1_2.current_fy.scope2_total",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Break-up of Scope 2 emissions"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((fr=(nu=o.essential_indicators.ghg_emissions_scope1_2)==null?void 0:nu.current_fy)==null?void 0:fr.scope2_breakup)||"",onChange:L=>y("essential_indicators","ghg_emissions_scope1_2.current_fy.scope2_breakup",L.target.value),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Scope 1 and Scope 2 emissions per rupee of turnover"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((on=(Gt=o.essential_indicators.ghg_emissions_scope1_2)==null?void 0:Gt.current_fy)==null?void 0:on.scope1_2_intensity_turnover)||"",onChange:L=>y("essential_indicators","ghg_emissions_scope1_2.current_fy.scope1_2_intensity_turnover",L.target.value),disabled:T,placeholder:"Value or Calculation Basis"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total Scope 1 and Scope 2 emission intensity (optional) – the relevant metric may be selected by the entity"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((di=(Qr=o.essential_indicators.ghg_emissions_scope1_2)==null?void 0:Qr.current_fy)==null?void 0:di.scope1_2_intensity_optional_metric)||"",onChange:L=>y("essential_indicators","ghg_emissions_scope1_2.current_fy.scope1_2_intensity_optional_metric",L.target.value),disabled:T})})]})]})]}),z("essential_indicators","ghg_emissions_scope1_2.assessment_info")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"7. Does the entity have any projects or initiatives for GHG emissions reduction?"}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei7_has_projects",value:"true",checked:((ru=o.essential_indicators.ghg_reduction_projects)==null?void 0:ru.has_projects)===!0,onChange:L=>y("essential_indicators","ghg_reduction_projects.has_projects","true","radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei7_has_projects",value:"false",checked:((au=o.essential_indicators.ghg_reduction_projects)==null?void 0:au.has_projects)===!1,onChange:L=>y("essential_indicators","ghg_reduction_projects.has_projects","false","radio"),disabled:T})," No"]})]}),((Zl=o.essential_indicators.ghg_reduction_projects)==null?void 0:Zl.has_projects)===!0&&a.jsxs("div",{children:[a.jsx("label",{children:"Details of GHG reduction projects:"}),a.jsx("textarea",{value:((Ra=o.essential_indicators.ghg_reduction_projects)==null?void 0:Ra.details)||"",onChange:L=>y("essential_indicators","ghg_reduction_projects.details",L.target.value),disabled:T,rows:3})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"8. Provide details related to waste management by the entity, in the following format:"}),a.jsx("p",{style:{marginTop:"10px",fontWeight:"bold"},children:"Total Waste generated (in metric tonnes)"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Plastic waste (A)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Xr=(Kr=(fi=o.essential_indicators.waste_management)==null?void 0:fi.current_fy)==null?void 0:Kr.generated)==null?void 0:Xr.plastic_a)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.plastic_a",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"E-waste (B)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Lt=(Jr=(Na=o.essential_indicators.waste_management)==null?void 0:Na.current_fy)==null?void 0:Jr.generated)==null?void 0:Lt.e_waste_b)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.e_waste_b",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Bio-medical waste (C)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Er=(Kl=(Ql=o.essential_indicators.waste_management)==null?void 0:Ql.current_fy)==null?void 0:Kl.generated)==null?void 0:Er.bio_medical_c)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.bio_medical_c",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Construction and demolition waste (D)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Xl=(su=(Wr=o.essential_indicators.waste_management)==null?void 0:Wr.current_fy)==null?void 0:su.generated)==null?void 0:Xl.construction_demolition_d)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.construction_demolition_d",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Battery waste (E)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Cs=(iu=(Jl=o.essential_indicators.waste_management)==null?void 0:Jl.current_fy)==null?void 0:iu.generated)==null?void 0:Cs.battery_e)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.battery_e",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Radioactive waste (F)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((hi=(Zn=(ks=o.essential_indicators.waste_management)==null?void 0:ks.current_fy)==null?void 0:Zn.generated)==null?void 0:hi.radioactive_f)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.radioactive_f",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Other Hazardous waste. Please specify, if any. (G)",a.jsx("input",{type:"text",placeholder:"Specify hazardous waste",value:((_i=(ea=(Wl=o.essential_indicators.waste_management)==null?void 0:Wl.current_fy)==null?void 0:ea.generated)==null?void 0:_i.other_hazardous_g_specify)||"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.other_hazardous_g_specify",L.target.value),disabled:T,style:{marginTop:"5px",display:"block",width:"100%"}})]}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((eo=(lu=(pi=o.essential_indicators.waste_management)==null?void 0:pi.current_fy)==null?void 0:lu.generated)==null?void 0:eo.other_hazardous_g_value)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.other_hazardous_g_value",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Other Non-hazardous waste generated (H). Please specify, if any.",a.jsx("input",{type:"text",placeholder:"Specify non-hazardous waste",value:((ou=(to=(vn=o.essential_indicators.waste_management)==null?void 0:vn.current_fy)==null?void 0:to.generated)==null?void 0:ou.other_non_hazardous_h_specify)||"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.other_non_hazardous_h_specify",L.target.value),disabled:T,style:{marginTop:"5px",display:"block",width:"100%"}}),"(Break-up by composition i.e. by materials relevant to the sector)",a.jsx("input",{type:"text",placeholder:"Composition break-up",value:((As=(no=(Es=o.essential_indicators.waste_management)==null?void 0:Es.current_fy)==null?void 0:no.generated)==null?void 0:As.other_non_hazardous_h_composition)||"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.other_non_hazardous_h_composition",L.target.value),disabled:T,style:{marginTop:"5px",display:"block",width:"100%"}})]}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((mi=(bn=(cu=o.essential_indicators.waste_management)==null?void 0:cu.current_fy)==null?void 0:bn.generated)==null?void 0:mi.other_non_hazardous_h_value)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.generated.other_non_hazardous_h_value",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total (A+B+C+D+E+F+G+H)"})}),a.jsx("td",{children:((((ta=(gi=(ro=o.essential_indicators.waste_management)==null?void 0:ro.current_fy)==null?void 0:gi.generated)==null?void 0:ta.plastic_a)||0)+(((na=(so=(ao=o.essential_indicators.waste_management)==null?void 0:ao.current_fy)==null?void 0:so.generated)==null?void 0:na.e_waste_b)||0)+(((lo=(io=(uu=o.essential_indicators.waste_management)==null?void 0:uu.current_fy)==null?void 0:io.generated)==null?void 0:lo.bio_medical_c)||0)+(((fu=(du=(yi=o.essential_indicators.waste_management)==null?void 0:yi.current_fy)==null?void 0:du.generated)==null?void 0:fu.construction_demolition_d)||0)+(((bi=(vi=(Rs=o.essential_indicators.waste_management)==null?void 0:Rs.current_fy)==null?void 0:vi.generated)==null?void 0:bi.battery_e)||0)+(((oo=(aa=(ra=o.essential_indicators.waste_management)==null?void 0:ra.current_fy)==null?void 0:aa.generated)==null?void 0:oo.radioactive_f)||0)+(((Ta=(co=(xi=o.essential_indicators.waste_management)==null?void 0:xi.current_fy)==null?void 0:co.generated)==null?void 0:Ta.other_hazardous_g_value)||0)+(((Oa=(ji=(Qn=o.essential_indicators.waste_management)==null?void 0:Qn.current_fy)==null?void 0:ji.generated)==null?void 0:Oa.other_non_hazardous_h_value)||0)).toFixed(2)})]})]})]}),a.jsx("p",{style:{marginTop:"20px",fontWeight:"bold"},children:"For each category of waste generated, total waste recovered through recycling, re-using or other recovery operations (in metric tonnes)"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category of waste"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"(i) Recycled"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Ns=(wi=(hr=o.essential_indicators.waste_management)==null?void 0:hr.current_fy)==null?void 0:wi.recovered)==null?void 0:Ns.recycled)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.recovered.recycled",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"(ii) Re-used"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Os=(Ts=(uo=o.essential_indicators.waste_management)==null?void 0:uo.current_fy)==null?void 0:Ts.recovered)==null?void 0:Os.re_used)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.recovered.re_used",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"(iii) Other recovery operations"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Ar=(cn=(fo=o.essential_indicators.waste_management)==null?void 0:fo.current_fy)==null?void 0:cn.recovered)==null?void 0:Ar.other_recovery_ops)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.recovered.other_recovery_ops",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total"})}),a.jsx("td",{children:((((hu=(Da=(Ds=o.essential_indicators.waste_management)==null?void 0:Ds.current_fy)==null?void 0:Da.recovered)==null?void 0:hu.recycled)||0)+(((Ba=(Ci=(Si=o.essential_indicators.waste_management)==null?void 0:Si.current_fy)==null?void 0:Ci.recovered)==null?void 0:Ba.re_used)||0)+(((_u=(ho=(Bs=o.essential_indicators.waste_management)==null?void 0:Bs.current_fy)==null?void 0:ho.recovered)==null?void 0:_u.other_recovery_ops)||0)).toFixed(2)})]})]})]}),a.jsx("p",{style:{marginTop:"20px",fontWeight:"bold"},children:"For each category of waste generated, total waste disposed by nature of disposal method (in metric tonnes)"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category of waste"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"(i) Incineration"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((ki=(mu=(pu=o.essential_indicators.waste_management)==null?void 0:pu.current_fy)==null?void 0:mu.disposed)==null?void 0:ki.incineration)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.disposed.incineration",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"(ii) Landfilling"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((vu=(yu=(gu=o.essential_indicators.waste_management)==null?void 0:gu.current_fy)==null?void 0:yu.disposed)==null?void 0:vu.landfilling)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.disposed.landfilling",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"(iii) Other disposal operations"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((_o=(xu=(bu=o.essential_indicators.waste_management)==null?void 0:bu.current_fy)==null?void 0:xu.disposed)==null?void 0:_o.other_disposal_ops)??"",onChange:L=>y("essential_indicators","waste_management.current_fy.disposed.other_disposal_ops",L.target.value,"number"),disabled:T})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total"})}),a.jsx("td",{children:((((Su=(wu=(ju=o.essential_indicators.waste_management)==null?void 0:ju.current_fy)==null?void 0:wu.disposed)==null?void 0:Su.incineration)||0)+(((ku=(Ei=(Cu=o.essential_indicators.waste_management)==null?void 0:Cu.current_fy)==null?void 0:Ei.disposed)==null?void 0:ku.landfilling)||0)+(((po=(Au=(Eu=o.essential_indicators.waste_management)==null?void 0:Eu.current_fy)==null?void 0:Au.disposed)==null?void 0:po.other_disposal_ops)||0)).toFixed(2)})]})]})]}),z("essential_indicators","waste_management.assessment_info")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"9. Description of waste management practices, including recycling and recovery operations:"}),a.jsx("textarea",{value:o.essential_indicators.waste_management_practices_desc||"",onChange:L=>y("essential_indicators","waste_management_practices_desc",L.target.value),disabled:T,rows:3})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"10. Details of operations in or near ecologically sensitive areas/biodiversity hotspots:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No"}),a.jsx("th",{children:"Location"}),a.jsx("th",{children:"Type of Operations"}),a.jsx("th",{children:"Compliance Status"}),a.jsx("th",{children:"Non-compliance Reason/Corrective Action"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(((Nu=(Ru=o==null?void 0:o.essential_indicators)==null?void 0:Ru.ecologically_sensitive_operations)==null?void 0:Nu.list)||[]).map((L,se)=>a.jsxs("tr",{children:[a.jsx("td",{children:se+1}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.location||"",onChange:ve=>R("essential_indicators","ecologically_sensitive_operations.list",se,"location",ve.target.value),disabled:T})}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.type_of_operations||"",onChange:ve=>R("essential_indicators","ecologically_sensitive_operations.list",se,"type_of_operations",ve.target.value),disabled:T})}),a.jsx("td",{children:a.jsxs("select",{value:L.compliance_status||"",onChange:ve=>R("essential_indicators","ecologically_sensitive_operations.list",se,"compliance_status",ve.target.value),disabled:T,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"Compliant",children:"Compliant"}),a.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"})]})}),a.jsx("td",{children:a.jsx("textarea",{value:L.non_compliance_reason_corrective||"",onChange:ve=>R("essential_indicators","ecologically_sensitive_operations.list",se,"non_compliance_reason_corrective",ve.target.value),disabled:T,rows:3})}),a.jsx("td",{children:a.jsx("button",{type:"button",onClick:()=>w("essential_indicators","ecologically_sensitive_operations.list",se),disabled:T,className:"remove-btn",children:"Remove"})})]},se))})]}),a.jsx("button",{type:"button",onClick:()=>E("essential_indicators","ecologically_sensitive_operations.list",{location:"",type_of_operations:"",compliance_status:"",non_compliance_reason_corrective:""}),disabled:T,className:"add-btn",children:"Add Operation"}),z("essential_indicators","ecologically_sensitive_operations.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"11. Details of Environmental Impact Assessments (EIA) conducted during the current financial year:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No"}),a.jsx("th",{children:"Project Details"}),a.jsx("th",{children:"EIA Notification No."}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Conducted by (External/ Internal)"}),a.jsx("th",{children:"Results in Public Domain?"}),a.jsx("th",{children:"Web Link"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(((Ou=(Tu=o==null?void 0:o.essential_indicators)==null?void 0:Tu.eia_current_fy)==null?void 0:Ou.list)||[]).map((L,se)=>a.jsxs("tr",{children:[a.jsx("td",{children:se+1}),a.jsx("td",{children:a.jsx("textarea",{value:L.project_details||"",onChange:ve=>R("essential_indicators","eia_current_fy.list",se,"project_details",ve.target.value),disabled:T,rows:3})}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.eia_notification_no||"",onChange:ve=>R("essential_indicators","eia_current_fy.list",se,"eia_notification_no",ve.target.value),disabled:T})}),a.jsx("td",{children:a.jsx("input",{type:"date",value:L.date||"",onChange:ve=>R("essential_indicators","eia_current_fy.list",se,"date",ve.target.value),disabled:T})}),a.jsx("td",{children:a.jsxs("select",{value:L.conducted_by_external||"",onChange:ve=>R("essential_indicators","eia_current_fy.list",se,"conducted_by_external",ve.target.value),disabled:T,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"External",children:"External"}),a.jsx("option",{value:"Internal",children:"Internal"})]})}),a.jsx("td",{children:a.jsx("input",{type:"checkbox",checked:L.results_public_domain===!0,onChange:ve=>R("essential_indicators","eia_current_fy.list",se,"results_public_domain",ve.target.checked),disabled:T})}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.web_link||"",onChange:ve=>R("essential_indicators","eia_current_fy.list",se,"web_link",ve.target.value),disabled:T})}),a.jsx("td",{children:a.jsx("button",{type:"button",onClick:()=>w("essential_indicators","eia_current_fy.list",se),disabled:T,className:"remove-btn",children:"Remove"})})]},se))})]}),a.jsx("button",{type:"button",onClick:()=>E("essential_indicators","eia_current_fy.list",{project_details:"",eia_notification_no:"",date:"",conducted_by_external:"",results_public_domain:!1,web_link:""}),disabled:T,className:"add-btn",children:"Add EIA Record"}),z("essential_indicators","eia_current_fy.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"12. Compliance with environmental laws and regulations:"}),a.jsxs("div",{children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei12_is_compliant",value:"true",checked:((Du=o.essential_indicators.env_law_compliance)==null?void 0:Du.is_compliant)===!0,onChange:L=>y("essential_indicators","env_law_compliance.is_compliant","true","radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"ei12_is_compliant",value:"false",checked:((Bu=o.essential_indicators.env_law_compliance)==null?void 0:Bu.is_compliant)===!1,onChange:L=>y("essential_indicators","env_law_compliance.is_compliant","false","radio"),disabled:T})," No"]})]}),((Pu=o.essential_indicators.env_law_compliance)==null?void 0:Pu.is_compliant)===!1&&a.jsxs("div",{children:[a.jsx("label",{children:"Details of non-compliance, if any:"}),"                        ",a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Law/Regulation"}),a.jsx("th",{children:"Non-compliance Details"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(((Lu=(Uu=o==null?void 0:o.essential_indicators)==null?void 0:Uu.env_law_compliance)==null?void 0:Lu.non_compliances)||[]).map((L,se)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"text",value:L.law_regulation||"",onChange:ve=>R("essential_indicators","env_law_compliance.non_compliances",se,"law_regulation",ve.target.value),disabled:T,placeholder:"Law/Regulation"})}),a.jsx("td",{children:a.jsx("textarea",{value:L.non_compliance_details||"",onChange:ve=>R("essential_indicators","env_law_compliance.non_compliances",se,"non_compliance_details",ve.target.value),disabled:T,rows:3,placeholder:"Details of non-compliance"})}),a.jsx("td",{children:a.jsx("button",{type:"button",onClick:()=>w("essential_indicators","env_law_compliance.non_compliances",se),disabled:T,className:"remove-btn",children:"Remove"})})]},se))})]}),a.jsx("button",{type:"button",onClick:()=>E("essential_indicators","env_law_compliance.non_compliances",{law_regulation:"",non_compliance_details:""}),disabled:T,className:"add-btn",children:"Add Non-compliance Record"})]})]}),a.jsx("h6",{children:"Biodiversity"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Details of operations in or near ecologically sensitive areas/biodiversity hotspots:"}),a.jsx("textarea",{value:o.essential_indicators.operations_in_or_near_biodiversity_hotspots||"",onChange:L=>y("essential_indicators","operations_in_or_near_biodiversity_hotspots",L.target.value),disabled:T,rows:3})]}),Object.keys(hs).map(L=>{if(["plantation_initiatives","deforestation_impact","afforestation_reforestation_sustainability","soil_quality_management","green_building_certification","biodiversity_impact_assessment"].includes(L)){const se=o.essential_indicators[L],ve={plantation_initiatives:"Does the company undertake plantation drives or afforestation initiatives as part of its sustainability commitments?",deforestation_impact:"Does the company track and report its impact on deforestation due to its operations?",afforestation_reforestation_sustainability:"Does the company undertake afforestation or reforestation initiatives as part of its sustainability commitments (alternate wording)?",soil_quality_management:"Does the company monitor and manage soil quality affected by its operations?",green_building_certification:"Does the company have buildings certified under recognized green building standards such as LEED, IGBC, or GRIHA?",biodiversity_impact_assessment:"Does the company assess and report its impact on biodiversity, including potential contributions to species extinction?"}[L];return a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"checkbox",checked:(se==null?void 0:se.undertaken)||(se==null?void 0:se.tracked_reported)||(se==null?void 0:se.monitored_managed)||(se==null?void 0:se.has_certified_buildings)||(se==null?void 0:se.assessed_reported)||!1,onChange:Ke=>y("essential_indicators",`${L}.${Object.keys(se)[0]}`,Ke.target.checked,"checkbox",Ke.target.checked),disabled:T,style:{margin:"0"}}),ve]}),((se==null?void 0:se.undertaken)||(se==null?void 0:se.tracked_reported)||(se==null?void 0:se.monitored_managed)||(se==null?void 0:se.has_certified_buildings)||(se==null?void 0:se.assessed_reported))&&a.jsxs("div",{style:{marginTop:"8px"},children:[a.jsx("label",{htmlFor:`${L}_details`,children:"If yes, provide details:"}),a.jsx("textarea",{id:`${L}_details`,value:(se==null?void 0:se.details)||"",onChange:Ke=>y("essential_indicators",`${L}.details`,Ke.target.value),disabled:T,rows:3,style:{width:"100%",marginTop:"4px"}})]})]},L)}return null}),a.jsx("h6",{children:"Noise Pollution"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Does the company monitor and mitigate noise pollution generated from its operations?"}),a.jsxs("div",{className:"radio-group",children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"noise_pollution_plan",value:"true",checked:((Ai=o.essential_indicators.noise_pollution_monitoring_mitigation)==null?void 0:Ai.has_monitoring_mitigation_plan)===!0,onChange:()=>y("essential_indicators","noise_pollution_monitoring_mitigation.has_monitoring_mitigation_plan","true","radio"),disabled:T})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"noise_pollution_plan",value:"false",checked:((Pa=o.essential_indicators.noise_pollution_monitoring_mitigation)==null?void 0:Pa.has_monitoring_mitigation_plan)===!1,onChange:()=>y("essential_indicators","noise_pollution_monitoring_mitigation.has_monitoring_mitigation_plan","false","radio"),disabled:T})," No"]})]}),((Mu=o.essential_indicators.noise_pollution_monitoring_mitigation)==null?void 0:Mu.has_monitoring_mitigation_plan)===!0&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"noise_pollution_details",children:"If yes, provide details on the sources, measurement methodologies, regulatory compliance, and mitigation strategies implemented:"}),a.jsx("textarea",{id:"noise_pollution_details",value:o.essential_indicators.noise_pollution_monitoring_mitigation.details||"",onChange:L=>y("essential_indicators","noise_pollution_monitoring_mitigation.details",L.target.value),disabled:T,rows:3})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Significant Environmental Incidents (if any):"}),a.jsx("textarea",{value:o.essential_indicators.significant_environmental_incidents_details||"",onChange:L=>y("essential_indicators","significant_environmental_incidents_details",L.target.value),disabled:T,rows:3,placeholder:"Describe any significant environmental incidents during the reporting period"})]}),"            "]}),a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Provide break-up of the total energy consumed (in Joules or multiples) from renewable and non-renewable sources, in the following format:"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colspan:"2",style:{fontWeight:"bold",textAlign:"center",backgroundColor:"#f5f5f5"},children:"From renewable sources"})}),"                        ",a.jsxs("tr",{children:[a.jsx("td",{children:"Total electricity consumption (A)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((vo=(yo=(go=(mo=o.leadership_indicators)==null?void 0:mo.energy_breakup)==null?void 0:go.current_fy)==null?void 0:yo.renewable)==null?void 0:vo.electricity_a)??"",onChange:L=>y("leadership_indicators","energy_breakup.current_fy.renewable.electricity_a",L.target.value,"number"),disabled:T,placeholder:"Optional: Enter renewable electricity consumption"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total fuel consumption (B)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:(($u=(zu=(sa=(bo=o.leadership_indicators)==null?void 0:bo.energy_breakup)==null?void 0:sa.current_fy)==null?void 0:zu.renewable)==null?void 0:$u.fuel_b)??"",onChange:L=>y("leadership_indicators","energy_breakup.current_fy.renewable.fuel_b",L.target.value,"number"),disabled:T,placeholder:"Optional: Enter renewable fuel consumption"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Energy consumption through other sources (C)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Ua=(jo=(xo=(qu=o.leadership_indicators)==null?void 0:qu.energy_breakup)==null?void 0:xo.current_fy)==null?void 0:jo.renewable)==null?void 0:Ua.other_sources_c)??"",onChange:L=>y("leadership_indicators","energy_breakup.current_fy.renewable.other_sources_c",L.target.value,"number"),disabled:T,placeholder:"Optional: Enter other renewable sources"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total energy consumption from renewable sources (A+B+C)"})}),a.jsx("td",{children:((((wo=(Ps=(Fu=(La=o.leadership_indicators)==null?void 0:La.energy_breakup)==null?void 0:Fu.current_fy)==null?void 0:Ps.renewable)==null?void 0:wo.electricity_a)||0)+(((Co=(Ni=(Ri=(So=o.leadership_indicators)==null?void 0:So.energy_breakup)==null?void 0:Ri.current_fy)==null?void 0:Ni.renewable)==null?void 0:Co.fuel_b)||0)+(((Hu=(Iu=(Eo=(ko=o.leadership_indicators)==null?void 0:ko.energy_breakup)==null?void 0:Eo.current_fy)==null?void 0:Iu.renewable)==null?void 0:Hu.other_sources_c)||0)).toFixed(2)})]}),a.jsx("tr",{children:a.jsx("td",{colspan:"2",style:{fontWeight:"bold",textAlign:"center",backgroundColor:"#f5f5f5"},children:"From non-renewable sources"})}),"                        ",a.jsxs("tr",{children:[a.jsx("td",{children:"Total electricity consumption (D)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((_n=(Gu=(Yu=(Vu=o.leadership_indicators)==null?void 0:Vu.energy_breakup)==null?void 0:Yu.current_fy)==null?void 0:Gu.non_renewable)==null?void 0:_n.electricity_d)??"",onChange:L=>y("leadership_indicators","energy_breakup.current_fy.non_renewable.electricity_d",L.target.value,"number"),disabled:T,placeholder:"Optional: Enter non-renewable electricity consumption"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Total fuel consumption (E)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((No=(Ro=(Ao=(Ma=o.leadership_indicators)==null?void 0:Ma.energy_breakup)==null?void 0:Ao.current_fy)==null?void 0:Ro.non_renewable)==null?void 0:No.fuel_e)??"",onChange:L=>y("leadership_indicators","energy_breakup.current_fy.non_renewable.fuel_e",L.target.value,"number"),disabled:T,placeholder:"Optional: Enter non-renewable fuel consumption"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Energy consumption through other sources (F)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((ia=(Zu=(Ti=(To=o.leadership_indicators)==null?void 0:To.energy_breakup)==null?void 0:Ti.current_fy)==null?void 0:Zu.non_renewable)==null?void 0:ia.other_sources_f)??"",onChange:L=>y("leadership_indicators","energy_breakup.current_fy.non_renewable.other_sources_f",L.target.value,"number"),disabled:T,placeholder:"Optional: Enter other non-renewable sources"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total energy consumption from non-renewable sources (D+E+F)"})}),a.jsx("td",{children:((((Oo=(Di=(za=(Oi=o.leadership_indicators)==null?void 0:Oi.energy_breakup)==null?void 0:za.current_fy)==null?void 0:Di.non_renewable)==null?void 0:Oo.electricity_d)||0)+(((Do=(Bi=(la=(Rr=o.leadership_indicators)==null?void 0:Rr.energy_breakup)==null?void 0:la.current_fy)==null?void 0:Bi.non_renewable)==null?void 0:Do.fuel_e)||0)+(((Uo=(Po=(Bo=(Nr=o.leadership_indicators)==null?void 0:Nr.energy_breakup)==null?void 0:Bo.current_fy)==null?void 0:Po.non_renewable)==null?void 0:Uo.other_sources_f)||0)).toFixed(2)})]})]})]}),z("leadership_indicators","energy_breakup.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Provide the following details related to water discharged:"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Provide detailed water discharge information to demonstrate environmental stewardship."})}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"FY (Current Financial Year)"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Water discharge to surface water"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Lo=(Xu=(Ku=(Qu=o.leadership_indicators)==null?void 0:Qu.water_discharged_details)==null?void 0:Ku.current_fy)==null?void 0:Xu.surface)==null?void 0:Lo.no_treatment)??"",onChange:L=>y("leadership_indicators","water_discharged_details.current_fy.surface.no_treatment",L.target.value,"number"),disabled:T,placeholder:"Optional: kilolitres discharged"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water discharge to groundwater"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((zo=(En=(Pi=(Mo=o.leadership_indicators)==null?void 0:Mo.water_discharged_details)==null?void 0:Pi.current_fy)==null?void 0:En.groundwater)==null?void 0:zo.no_treatment)??"",onChange:L=>y("leadership_indicators","water_discharged_details.current_fy.groundwater.no_treatment",L.target.value,"number"),disabled:T,placeholder:"Optional: kilolitres discharged"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water discharge to seawater"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Ui=(oa=(jn=(xn=o.leadership_indicators)==null?void 0:xn.water_discharged_details)==null?void 0:jn.current_fy)==null?void 0:oa.seawater)==null?void 0:Ui.no_treatment)??"",onChange:L=>y("leadership_indicators","water_discharged_details.current_fy.seawater.no_treatment",L.target.value,"number"),disabled:T,placeholder:"Optional: kilolitres discharged"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Water sent to third-parties"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((ca=(Li=(Ls=(Us=o.leadership_indicators)==null?void 0:Us.water_discharged_details)==null?void 0:Ls.current_fy)==null?void 0:Li.third_parties)==null?void 0:ca.no_treatment)??"",onChange:L=>y("leadership_indicators","water_discharged_details.current_fy.third_parties.no_treatment",L.target.value,"number"),disabled:T,placeholder:"Optional: kilolitres sent"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Treatment level - With treatment (specify)"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((Ju=(ua=(Ms=($o=o.leadership_indicators)==null?void 0:$o.water_discharged_details)==null?void 0:Ms.current_fy)==null?void 0:ua.surface)==null?void 0:Ju.with_treatment_specify)||"",onChange:L=>y("leadership_indicators","water_discharged_details.current_fy.surface.with_treatment_specify",L.target.value||null),disabled:T,placeholder:"Optional: Specify treatment details"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Treatment level - Without treatment"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((qo=(Kn=(Mi=(pn=o.leadership_indicators)==null?void 0:pn.water_discharged_details)==null?void 0:Mi.current_fy)==null?void 0:Kn.others)==null?void 0:qo.no_treatment)??"",onChange:L=>y("leadership_indicators","water_discharged_details.current_fy.others.no_treatment",L.target.value,"number"),disabled:T,placeholder:"Optional: kilolitres without treatment"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total water discharged (in kilolitres)"})}),a.jsx("td",{children:(((($i=(zi=(Tr=(zs=o.leadership_indicators)==null?void 0:zs.water_discharged_details)==null?void 0:Tr.current_fy)==null?void 0:zi.surface)==null?void 0:$i.no_treatment)||0)+(((qs=($s=(fa=(da=o.leadership_indicators)==null?void 0:da.water_discharged_details)==null?void 0:fa.current_fy)==null?void 0:$s.groundwater)==null?void 0:qs.no_treatment)||0)+(((Xn=(Or=(Sn=(wn=o.leadership_indicators)==null?void 0:wn.water_discharged_details)==null?void 0:Sn.current_fy)==null?void 0:Or.seawater)==null?void 0:Xn.no_treatment)||0)+(((qi=(Fo=(Dr=(Jn=o.leadership_indicators)==null?void 0:Jn.water_discharged_details)==null?void 0:Dr.current_fy)==null?void 0:Fo.third_parties)==null?void 0:qi.no_treatment)||0)+(((it=(Rt=(Jt=(Fi=o.leadership_indicators)==null?void 0:Fi.water_discharged_details)==null?void 0:Jt.current_fy)==null?void 0:Rt.others)==null?void 0:it.no_treatment)||0)).toFixed(2)})]})]})]}),z("leadership_indicators","water_discharged_details.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Water withdrawal in areas of water stress (in kilolitres):"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Add facilities operating in water-stressed areas to demonstrate responsible water management."})}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No"}),a.jsx("th",{children:"Name of the area"}),a.jsx("th",{children:"Nature of operations"}),a.jsx("th",{children:"Water withdrawal, consumption and discharge in kilolitres"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(((Un=(Br=o==null?void 0:o.leadership_indicators)==null?void 0:Br.water_stress_areas)==null?void 0:Un.list)||[]).map((L,se)=>{var ve,Oe,Ke;return a.jsxs("tr",{children:[a.jsx("td",{children:se+1}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.facility_name_area||"",onChange:Ie=>C("water_stress_areas",se,"facility_name_area",Ie.target.value||null),disabled:T,placeholder:"Area/facility name"})}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.nature_operations||"",onChange:Ie=>C("water_stress_areas",se,"nature_operations",Ie.target.value||null),disabled:T,placeholder:"Nature of operations"})}),a.jsxs("td",{children:[a.jsxs("div",{children:[a.jsx("label",{children:"Surface Withdrawal: "}),a.jsx("input",{type:"number",value:((ve=L.current_fy)==null?void 0:ve.withdrawal_surface)??"",onChange:Ie=>C("water_stress_areas",se,"current_fy",Ie.target.value,"withdrawal_surface",null,"number"),disabled:T,placeholder:"kilolitres"})]}),a.jsxs("div",{children:[a.jsx("label",{children:"Groundwater Withdrawal: "}),a.jsx("input",{type:"number",value:((Oe=L.current_fy)==null?void 0:Oe.withdrawal_groundwater)??"",onChange:Ie=>C("water_stress_areas",se,"current_fy",Ie.target.value,"withdrawal_groundwater",null,"number"),disabled:T,placeholder:"kilolitres"})]}),a.jsxs("div",{children:[a.jsx("label",{children:"Total Consumption: "}),a.jsx("input",{type:"number",value:((Ke=L.current_fy)==null?void 0:Ke.total_consumption)??"",onChange:Ie=>C("water_stress_areas",se,"current_fy",Ie.target.value,"total_consumption",null,"number"),disabled:T,placeholder:"kilolitres"})]})]}),a.jsx("td",{children:a.jsx("button",{type:"button",onClick:()=>k("water_stress_areas",se),disabled:T,className:"remove-btn",children:"Remove"})})]},se)})})]}),a.jsx("button",{type:"button",onClick:()=>A("water_stress_areas",{facility_name_area:null,nature_operations:null,current_fy:{withdrawal_surface:null,withdrawal_groundwater:null,withdrawal_third_party:null,withdrawal_seawater_desalinated:null,withdrawal_others:null,total_consumption:null,intensity_turnover:null,intensity_optional_metric:null}}),disabled:T,className:"add-btn",children:"Add Water Stress Area"}),z("leadership_indicators","water_stress_areas.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"4. Details of the following disclosures related to Scope 3 emissions, in a format that allows for easy understanding:"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Provide Scope 3 emissions data to demonstrate comprehensive carbon footprint tracking."})}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Parameter"}),a.jsx("th",{children:"Current FY"}),a.jsx("th",{children:"Previous FY"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Total Scope 3 emissions (metric tonnes of CO2 equivalent)"}),a.jsx("td",{children:a.jsx("input",{type:"number",value:((Io=(Pr=(Ii=o.leadership_indicators)==null?void 0:Ii.scope_3_emissions)==null?void 0:Pr.current_fy)==null?void 0:Io.total_scope_3_emissions)??"",onChange:L=>y("leadership_indicators","scope_3_emissions.current_fy.total_scope_3_emissions",L.target.value,"number"),disabled:T,placeholder:"Optional: tonnes CO2e"})}),a.jsx("td",{children:"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Break-up of Scope 3 emissions"}),a.jsx("td",{children:a.jsx("textarea",{value:((qa=($a=(Ho=o.leadership_indicators)==null?void 0:Ho.scope_3_emissions)==null?void 0:$a.current_fy)==null?void 0:qa.scope_3_breakup)||"",onChange:L=>y("leadership_indicators","scope_3_emissions.current_fy.scope_3_breakup",L.target.value||null),disabled:T,rows:3,placeholder:"Optional: Provide category-wise breakdown of Scope 3 emissions"})}),a.jsx("td",{children:a.jsx("textarea",{value:((Hi=(Fa=(Vo=o.leadership_indicators)==null?void 0:Vo.scope_3_emissions)==null?void 0:Fa.previous_fy)==null?void 0:Hi.scope_3_breakup)||"",onChange:L=>y("leadership_indicators","scope_3_emissions.previous_fy.scope_3_breakup",L.target.value||null),disabled:T,rows:3,placeholder:"Optional: Previous FY breakdown"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Scope 3 emissions per rupee of turnover"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((_r=(Wn=(Ur=o.leadership_indicators)==null?void 0:Ur.scope_3_emissions)==null?void 0:Wn.current_fy)==null?void 0:_r.intensity_turnover)||"",onChange:L=>y("leadership_indicators","scope_3_emissions.current_fy.intensity_turnover",L.target.value||null),disabled:T,placeholder:"Optional: Value or Calculation Basis"})}),a.jsx("td",{children:"-"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Scope 3 emissions intensity (optional metric)"}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((Yi=(Vi=(er=o.leadership_indicators)==null?void 0:er.scope_3_emissions)==null?void 0:Vi.current_fy)==null?void 0:Yi.intensity_optional_metric)||"",onChange:L=>y("leadership_indicators","scope_3_emissions.current_fy.intensity_optional_metric",L.target.value||null),disabled:T,placeholder:"Optional: Custom intensity metric"})}),a.jsx("td",{children:"-"})]})]})]}),z("leadership_indicators","scope_3_emissions.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"5. With respect to the ecologically sensitive areas reported in Essential Indicator 10, provide details of significant direct & indirect impact of the entity on biodiversity in such areas along-with prevention and remediation activities:"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Demonstrate environmental stewardship in ecologically sensitive areas."})}),a.jsx("textarea",{value:((Ia=o.leadership_indicators)==null?void 0:Ia.biodiversity_impact_ecologically_sensitive_areas_details)||"",onChange:L=>y("leadership_indicators","biodiversity_impact_ecologically_sensitive_areas_details",L.target.value||null),disabled:T,rows:5,placeholder:"Optional: Describe biodiversity impact and remediation activities in ecologically sensitive areas"})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"6. Details of initiatives taken by the entity to achieve the resource efficiency initiatives:"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Add resource efficiency initiatives to demonstrate sustainability efforts."})}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No"}),a.jsx("th",{children:"Initiative Undertaken"}),a.jsx("th",{children:"Details of Initiative"}),a.jsx("th",{children:"Outcome of Initiative"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(((Lr=(Fs=o==null?void 0:o.leadership_indicators)==null?void 0:Fs.resource_efficiency_initiatives)==null?void 0:Lr.list)||[]).map((L,se)=>a.jsxs("tr",{children:[a.jsx("td",{children:se+1}),a.jsx("td",{children:a.jsx("input",{type:"text",value:L.initiative_undertaken||"",onChange:ve=>C("resource_efficiency_initiatives",se,"initiative_undertaken",ve.target.value||null),disabled:T,placeholder:"Optional: Initiative undertaken"})}),a.jsx("td",{children:a.jsx("textarea",{value:L.details_of_initiative||"",onChange:ve=>C("resource_efficiency_initiatives",se,"details_of_initiative",ve.target.value||null),disabled:T,rows:3,placeholder:"Optional: Details of initiative"})}),a.jsx("td",{children:a.jsx("textarea",{value:L.outcome_of_initiative||"",onChange:ve=>C("resource_efficiency_initiatives",se,"outcome_of_initiative",ve.target.value||null),disabled:T,rows:3,placeholder:"Optional: Outcome of initiative"})}),a.jsx("td",{children:a.jsx("button",{type:"button",onClick:()=>k("resource_efficiency_initiatives",se),disabled:T,className:"remove-btn",children:"Remove"})})]},se))})]}),a.jsx("button",{type:"button",onClick:()=>A("resource_efficiency_initiatives",{sr_no:null,initiative_undertaken:null,details_of_initiative:null,outcome_of_initiative:null}),disabled:T,className:"add-btn",children:"Add Initiative"}),z("leadership_indicators","resource_efficiency_initiatives.assessment_info")]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"7. Does the entity have a business continuity and disaster management plan?"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Demonstrate risk management capabilities for environmental incidents."})}),a.jsx("textarea",{value:((Zt=o.leadership_indicators)==null?void 0:Zt.env_business_continuity_disaster_plan_details)||"",onChange:L=>y("leadership_indicators","env_business_continuity_disaster_plan_details",L.target.value||null),disabled:T,rows:4,placeholder:"Optional: Provide details (in 100 words/weblink) about the business continuity and disaster management plan, particularly focusing on environmental aspects"})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"8. Provide details of any significant environmental impact arising from value chain of the entity:"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Demonstrate comprehensive environmental impact assessment beyond direct operations."})}),a.jsx("textarea",{value:((Is=o.leadership_indicators)==null?void 0:Is.value_chain_adverse_env_impact_mitigation_details)||"",onChange:L=>y("leadership_indicators","value_chain_adverse_env_impact_mitigation_details",L.target.value||null),disabled:T,rows:5,placeholder:"Optional: Describe significant environmental impacts from value chain and mitigation measures"})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"9. Percentage of value chain partners (by value of business done with such partners) that were assessed for environmental impacts:"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Track environmental assessment coverage across value chain partners."})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("input",{type:"number",min:"0",max:"100",value:((Yo=o.leadership_indicators)==null?void 0:Yo.value_chain_partners_env_assessment_percent)??"",onChange:L=>y("leadership_indicators","value_chain_partners_env_assessment_percent",L.target.value,"number"),disabled:T,style:{width:"100px"},placeholder:"%"}),a.jsx("span",{children:"%"})]})]})]}),a.jsx("div",{className:"form-actions",children:a.jsx("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:T||i,children:i?"Saving...":"Save Principle 6"})})]})}const qx={number_of_affiliations:null,trade_and_industry_chambers_associations:[],anti_competitive_conduct_corrective_actions:[]},Fx={public_policy_positions_advocated:[]},P_={essential_indicators:qx,leadership_indicators:Fx};function XA(){const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(P_),[h,p]=D.useState(""),[m,g]=D.useState("");D.useEffect(()=>{if(r&&(r.sc_p7_policy_advocacy||r.sc_p7_essential_indicators||r.sc_p7_leadership_indicators))try{let C={...qx},b={...Fx};if(r.sc_p7_policy_advocacy&&(C=ir(C,r.sc_p7_policy_advocacy.essential_indicators||{}),b=ir(b,r.sc_p7_policy_advocacy.leadership_indicators||{})),r.sc_p7_essential_indicators){const j=r.sc_p7_essential_indicators;j.number_of_affiliations!==void 0&&C.number_of_affiliations===null&&(C.number_of_affiliations=parseFloat(j.number_of_affiliations)||null),j.memberships_associations&&(!C.trade_and_industry_chambers_associations||C.trade_and_industry_chambers_associations.length===0)&&(C.trade_and_industry_chambers_associations=[{name:j.memberships_associations,reach:""}]),j.policy_advocacy_involvement&&(!b.public_policy_positions_advocated||b.public_policy_positions_advocated.length===0)&&(b.public_policy_positions_advocated=[{policy_advocated:j.policy_advocacy_involvement,method_of_advocacy:"",info_in_public_domain:"No",board_review_frequency:"",web_link:""}])}if(r.sc_p7_leadership_indicators){const j=r.sc_p7_leadership_indicators;j.policy_advocacy_beyond_compliance&&(!b.public_policy_positions_advocated||b.public_policy_positions_advocated.length===0)&&(b.public_policy_positions_advocated=[{policy_advocated:j.policy_advocacy_beyond_compliance,method_of_advocacy:"",info_in_public_domain:"No",board_review_frequency:"",web_link:""}])}d({essential_indicators:C,leadership_indicators:b})}catch(C){console.error("Error merging P7 report data:",C),d(P_)}else r&&d(P_)},[r]);const v=C=>{const b=[],j=[],N=C.essential_indicators;N.number_of_affiliations!==null&&N.number_of_affiliations!==void 0&&N.number_of_affiliations!==""&&(isNaN(N.number_of_affiliations)||N.number_of_affiliations<0)&&b.push("Number of affiliations must be a non-negative number"),N.trade_and_industry_chambers_associations&&N.trade_and_industry_chambers_associations.length>0&&N.trade_and_industry_chambers_associations.forEach((z,X)=>{(!z.name||z.name.trim()==="")&&j.push(`Association #${X+1}: Name is required`),(!z.reach||z.reach==="")&&j.push(`Association #${X+1}: Reach (State/National) should be specified`)}),N.anti_competitive_conduct_corrective_actions&&N.anti_competitive_conduct_corrective_actions.length>0&&N.anti_competitive_conduct_corrective_actions.forEach((z,X)=>{(!z.name_of_authority||z.name_of_authority.trim()==="")&&j.push(`Anti-competitive Action #${X+1}: Name of Authority is required`),(!z.brief_of_case||z.brief_of_case.trim()==="")&&j.push(`Anti-competitive Action #${X+1}: Brief of Case is required`)});const T=C.leadership_indicators;return T.public_policy_positions_advocated&&T.public_policy_positions_advocated.length>0&&T.public_policy_positions_advocated.forEach((z,X)=>{(!z.policy_advocated||z.policy_advocated.trim()==="")&&j.push(`Policy Position #${X+1}: Policy Advocated is required`),(!z.method_of_advocacy||z.method_of_advocacy==="")&&j.push(`Policy Position #${X+1}: Method of Advocacy should be specified`)}),{errors:b,warnings:j}},y=(C,b,j,N,T)=>{d(z=>{try{const X=b.split(".");let Q={...z[C]},ne=Q;for(let M=0;M<X.length-1;M++){const B=X[M];(!ne[B]||typeof ne[B]!="object")&&(ne[B]={}),ne[B]={...ne[B]},ne=ne[B]}let ce=j;return N==="checkbox"||N==="radio"||N==="number"&&(j===""||j===null||j===void 0?ce=null:(ce=parseFloat(j),isNaN(ce)&&(console.warn(`Invalid number value for ${b}: ${j}`),ce=null))),ne[X[X.length-1]]=ce,{...z,[C]:Q}}catch(X){return console.error("Error updating nested value:",X,{indicatorType:C,path:b,value:j,type:N}),z}})},E=(C,b,j,N,T)=>{d(z=>{const X=[...z[C][b]||[]];return X[j]={...X[j],[N]:T},{...z,[C]:{...z[C],[b]:X}}})},w=(C,b,j)=>{d(N=>({...N,[C]:{...N[C],[b]:[...N[C][b]||[],{...j}]}}))},R=(C,b,j)=>{d(N=>({...N,[C]:{...N[C],[b]:N[C][b].filter((T,z)=>z!==j)}}))},A=async C=>{C.preventDefault(),p(""),g(""),c("");const b=v(o);if(b.errors.length>0){p(`Please fix the following errors before submitting:
${b.errors.join(`
`)}`);return}if(b.warnings.length>0){const N=`The following warnings were found:
${b.warnings.join(`
`)}

Do you want to continue saving?`;if(!window.confirm(N))return}const j={sc_p7_policy_advocacy:{essential_indicators:o.essential_indicators,leadership_indicators:o.leadership_indicators}};try{await t(j)?(g("Section C, Principle 7 saved successfully!"),b.warnings.length>0&&g("Section C, Principle 7 saved successfully! (with warnings acknowledged)")):p("Failed to save Section C, Principle 7.")}catch(N){console.error("Error saving P7 form:",N),p("An error occurred while saving. Please try again.")}};if(!r)return a.jsx("p",{children:"Loading Section C, Principle 7 data..."});const k=s||i;return a.jsxs("form",{onSubmit:A,className:"profile-form section-c-form",children:[a.jsx("h3",{className:"section-title",children:"Section C: Principle-wise Performance"}),a.jsx("h4",{className:"sub-title",children:"Principle 7: Businesses, when engaging in influencing public and regulatory policy, should do so in a responsible manner."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),"            ",a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Essential Indicators"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p7_number_of_affiliations",children:"1. Number of affiliations with trade and industry chambers/associations:"}),a.jsx("input",{type:"number",id:"p7_number_of_affiliations",value:o.essential_indicators.number_of_affiliations??"",onChange:C=>y("essential_indicators","number_of_affiliations",C.target.value,"number"),disabled:k,min:"0","aria-label":"Number of affiliations"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Details of affiliations with trade and industry chambers/associations:"}),a.jsxs("div",{className:"array-container",children:[(o.essential_indicators.trade_and_industry_chambers_associations||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"Name of Association"}),a.jsx("th",{children:"Reach"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(o.essential_indicators.trade_and_industry_chambers_associations||[]).map((C,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:b+1}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Name of Association",value:C.name||"",onChange:j=>E("essential_indicators","trade_and_industry_chambers_associations",b,"name",j.target.value),disabled:k,"aria-label":`Association ${b+1} name`})}),a.jsx("td",{children:a.jsxs("select",{value:C.reach||"",onChange:j=>E("essential_indicators","trade_and_industry_chambers_associations",b,"reach",j.target.value),disabled:k,"aria-label":`Association ${b+1} reach`,children:[a.jsx("option",{value:"",children:"Select Reach"}),a.jsx("option",{value:"State",children:"State"}),a.jsx("option",{value:"National",children:"National"})]})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("essential_indicators","trade_and_industry_chambers_associations",b),className:"remove-button","aria-label":`Remove association ${b+1}`,children:"Remove"})})]},b))})]}):a.jsx("p",{children:"No affiliations added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("essential_indicators","trade_and_industry_chambers_associations",{name:"",reach:""}),className:"add-button",children:"Add Affiliation"})]})]}),"            ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Details of any anti-competitive conduct proceedings against the entity by any competition authority (National/International) and corrective action taken, if any:"}),a.jsxs("div",{className:"array-container",children:[(o.essential_indicators.anti_competitive_conduct_corrective_actions||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"Name of Authority"}),a.jsx("th",{children:"Brief of Case"}),a.jsx("th",{children:"Corrective Action Taken"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(o.essential_indicators.anti_competitive_conduct_corrective_actions||[]).map((C,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:b+1}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Name of Authority",value:C.name_of_authority||"",onChange:j=>E("essential_indicators","anti_competitive_conduct_corrective_actions",b,"name_of_authority",j.target.value),disabled:k,"aria-label":`Authority ${b+1} name`})}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Brief of Case",value:C.brief_of_case||"",onChange:j=>E("essential_indicators","anti_competitive_conduct_corrective_actions",b,"brief_of_case",j.target.value),disabled:k,rows:2,"aria-label":`Case ${b+1} brief`})}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Corrective Action Taken",value:C.corrective_action_taken||"",onChange:j=>E("essential_indicators","anti_competitive_conduct_corrective_actions",b,"corrective_action_taken",j.target.value),disabled:k,rows:2,"aria-label":`Corrective action ${b+1}`})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("essential_indicators","anti_competitive_conduct_corrective_actions",b),className:"remove-button","aria-label":`Remove case ${b+1}`,children:"Remove"})})]},b))})]}):a.jsx("p",{children:"No anti-competitive conduct cases reported."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("essential_indicators","anti_competitive_conduct_corrective_actions",{name_of_authority:"",brief_of_case:"",corrective_action_taken:""}),className:"add-button",children:"Add Case"})]})]}),"            "]}),"            ",a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Details of public policy positions advocated by the entity that are not covered in essential indicators (e.g., on emerging issues, international agreements):"}),a.jsx("p",{children:a.jsx("em",{children:"Optional: Add public policy positions if your organization actively advocates on policy matters."})}),a.jsxs("div",{className:"array-container",children:[(o.leadership_indicators.public_policy_positions_advocated||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"Policy Advocated"}),a.jsx("th",{children:"Method of Advocacy"}),a.jsx("th",{children:"Board Review Frequency"}),a.jsx("th",{children:"Web Link (if any)"}),a.jsx("th",{children:"Info in Public Domain"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:(o.leadership_indicators.public_policy_positions_advocated||[]).map((C,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:b+1}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Policy Advocated",value:C.policy_advocated||"",onChange:j=>E("leadership_indicators","public_policy_positions_advocated",b,"policy_advocated",j.target.value),disabled:k,rows:2,"aria-label":`Policy ${b+1} advocated`})}),a.jsx("td",{children:a.jsxs("select",{value:C.method_of_advocacy||"",onChange:j=>E("leadership_indicators","public_policy_positions_advocated",b,"method_of_advocacy",j.target.value),disabled:k,"aria-label":`Method of advocacy ${b+1}`,children:[a.jsx("option",{value:"",children:"Select Method"}),a.jsx("option",{value:"Direct",children:"Direct Engagement"}),a.jsx("option",{value:"Indirect",children:"Indirect (via Trade Org.)"})]})}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Board Review Frequency",value:C.board_review_frequency||"",onChange:j=>E("leadership_indicators","public_policy_positions_advocated",b,"board_review_frequency",j.target.value),disabled:k,"aria-label":`Board review frequency ${b+1}`})}),a.jsx("td",{children:a.jsx("input",{type:"url",placeholder:"Web Link (if any)",value:C.web_link||"",onChange:j=>E("leadership_indicators","public_policy_positions_advocated",b,"web_link",j.target.value),disabled:k,"aria-label":`Web link ${b+1}`})}),a.jsx("td",{children:a.jsxs("select",{value:C.info_in_public_domain||"No",onChange:j=>E("leadership_indicators","public_policy_positions_advocated",b,"info_in_public_domain",j.target.value),disabled:k,"aria-label":`Info in public domain ${b+1}`,children:[a.jsx("option",{value:"No",children:"Not in Public Domain"}),a.jsx("option",{value:"Yes",children:"In Public Domain"})]})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("leadership_indicators","public_policy_positions_advocated",b),className:"remove-button","aria-label":`Remove policy ${b+1}`,children:"Remove"})})]},b))})]}):a.jsx("p",{children:"No public policy positions added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("leadership_indicators","public_policy_positions_advocated",{policy_advocated:null,method_of_advocacy:null,info_in_public_domain:"No",board_review_frequency:null,web_link:null}),className:"add-button",children:"Add Policy Position"})]})]})]}),a.jsxs("div",{className:"form-actions",children:[!s&&a.jsx("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:k||i,children:i?"Saving...":"Save Principle 7"}),s&&a.jsx("p",{children:"This section is part of a submitted report and cannot be edited."})]})]})}const JA={s_no:"",project_details:"",sia_notification_no:"",date_of_notification:"",conducted_by_independent_agency:null,results_in_public_domain:null,relevant_web_link:""},WA={s_no:"",name_of_project_ongoing_rr:"",state:"",district:"",no_of_paf:null,percent_pafs_covered_by_rr:null,amounts_paid_to_pafs_fy_inr:null},eR={negative_social_impact_identified:null,corrective_action_taken:null},tR={s_no:null,state:null,aspirational_district:null,amount_spent_inr:null},nR={s_no:null,ip_based_on_traditional_knowledge:null,owned_acquired:null,benefit_shared_yes_no:null,basis_of_calculating_benefit_share:null},rR={name_of_authority:null,brief_of_case:null,corrective_action_taken:null},aR={s_no:null,csr_project:null,persons_benefitted_from_csr:null,percent_beneficiaries_vulnerable_marginalized:null},ja={essential_indicators:{social_impact_assessments:[],rehab_resettlement_projects:[],community_grievance_mechanisms:"",input_material_sourcing:{current_fy:{directly_from_msme_small_producers_percent:null,directly_from_district_neighbouring_percent:null}}},leadership_indicators:{social_impact_mitigation_actions:[],csr_aspirational_districts_projects:[],preferential_procurement:{has_policy:null,marginalized_vulnerable_groups_procured_from:[],percentage_total_procurement_by_value:null},ip_traditional_knowledge_benefits:[],ip_disputes_traditional_knowledge_actions:[],csr_project_beneficiaries_details:[]}};function sR(){var C,b,j,N,T,z,X,Q,ne,ce;const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(ja),[h,p]=D.useState(""),[m,g]=D.useState("");D.useEffect(()=>{r!=null&&r.sc_p8_inclusive_growth?d(ir(ja,r.sc_p8_inclusive_growth)):d(ja)},[r]);const v=M=>{var W,me;const B=[],I=[],de=M.essential_indicators;if(de.social_impact_assessments&&de.social_impact_assessments.length>0&&de.social_impact_assessments.forEach((ue,O)=>{(!ue.project_details||ue.project_details.trim()==="")&&I.push(`SIA #${O+1}: Project details are required`),(!ue.sia_notification_no||ue.sia_notification_no.trim()==="")&&I.push(`SIA #${O+1}: SIA Notification No. is required`),ue.date_of_notification||I.push(`SIA #${O+1}: Date of notification is required`)}),de.rehab_resettlement_projects&&de.rehab_resettlement_projects.length>0&&de.rehab_resettlement_projects.forEach((ue,O)=>{(!ue.name_of_project_ongoing_rr||ue.name_of_project_ongoing_rr.trim()==="")&&I.push(`R&R Project #${O+1}: Project name is required`),(!ue.state||ue.state.trim()==="")&&I.push(`R&R Project #${O+1}: State is required`),(!ue.district||ue.district.trim()==="")&&I.push(`R&R Project #${O+1}: District is required`),ue.no_of_paf!==null&&ue.no_of_paf<0&&B.push(`R&R Project #${O+1}: Number of PAFs cannot be negative`),ue.percent_pafs_covered_by_rr!==null&&(ue.percent_pafs_covered_by_rr<0||ue.percent_pafs_covered_by_rr>100)&&B.push(`R&R Project #${O+1}: Percentage of PAFs covered must be between 0 and 100`),ue.amounts_paid_to_pafs_fy_inr!==null&&ue.amounts_paid_to_pafs_fy_inr<0&&B.push(`R&R Project #${O+1}: Amount paid cannot be negative`)}),(W=de.input_material_sourcing)!=null&&W.current_fy){const ue=de.input_material_sourcing.current_fy;ue.directly_from_msme_small_producers_percent!==null&&(ue.directly_from_msme_small_producers_percent<0||ue.directly_from_msme_small_producers_percent>100)&&B.push("MSME sourcing percentage must be between 0 and 100"),ue.directly_from_district_neighbouring_percent!==null&&(ue.directly_from_district_neighbouring_percent<0||ue.directly_from_district_neighbouring_percent>100)&&B.push("District sourcing percentage must be between 0 and 100")}const F=M.leadership_indicators;return F.csr_aspirational_districts_projects&&F.csr_aspirational_districts_projects.length>0&&F.csr_aspirational_districts_projects.forEach((ue,O)=>{(!ue.state||ue.state.trim()==="")&&I.push(`CSR Project #${O+1}: State is required`),(!ue.aspirational_district||ue.aspirational_district.trim()==="")&&I.push(`CSR Project #${O+1}: Aspirational district is required`),ue.amount_spent_inr!==null&&ue.amount_spent_inr<0&&B.push(`CSR Project #${O+1}: Amount spent cannot be negative`)}),((me=F.preferential_procurement)==null?void 0:me.percentage_total_procurement_by_value)!==null&&(F.preferential_procurement.percentage_total_procurement_by_value<0||F.preferential_procurement.percentage_total_procurement_by_value>100)&&B.push("Preferential procurement percentage must be between 0 and 100"),{errors:B,warnings:I}},y=D.useCallback((M,B,I,de)=>{d(F=>{try{const W=M.split(".");let me={...F},ue=me;for(let J=0;J<W.length-1;J++)ue[W[J]]=typeof ue[W[J]]=="object"&&ue[W[J]]!==null?{...ue[W[J]]}:{},ue=ue[W[J]];let O=B;return I==="number"?B===""||B===null||B===void 0?O=null:(O=parseFloat(B),isNaN(O)&&(console.warn(`Invalid number value for ${M}: ${B}`),O=null)):I==="checkbox"?O=de:I==="radio"?O=B==="true"?!0:B==="false"?!1:null:B==="true"?O=!0:B==="false"?O=!1:B===""&&(M.includes("has_policy")||M.includes("conducted_by_independent_agency")||M.includes("results_in_public_domain"))?O=null:O=B,ue[W[W.length-1]]=O,me}catch(W){return console.error("Error updating value:",W,{path:M,value:B,type:I}),F}})},[]),E=D.useCallback((M,B,I,de,F)=>{d(W=>{let me,ue;if(ja.essential_indicators.hasOwnProperty(M))ue="essential_indicators",me=W.essential_indicators[M];else if(ja.leadership_indicators.hasOwnProperty(M))ue="leadership_indicators",me=W.leadership_indicators[M];else return console.error(`Array ${M} not found.`),p(`Configuration error: Array ${M} not found.`),W;if(!Array.isArray(me))return console.error(`Expected an array for ${M}, but got:`,me),p(`Data structure error for ${M}.`),W;const O=[...me];if(O[B]){let J=de;return F==="number"?(J=de===""?null:parseFloat(de),isNaN(J)&&(J=null)):de==="true"?J=!0:de==="false"?J=!1:de===""&&(I.endsWith("_yes_no")||I==="conducted_by_independent_agency"||I==="results_in_public_domain"||I==="has_policy")&&(J=null),O[B]={...O[B],[I]:J},{...W,[ue]:{...W[ue],[M]:O}}}return W})},[]),w=D.useCallback((M,B)=>{d(I=>{let de,F;if(ja.essential_indicators.hasOwnProperty(M))de="essential_indicators",F=I.essential_indicators[M]||[];else if(ja.leadership_indicators.hasOwnProperty(M))de="leadership_indicators",F=I.leadership_indicators[M]||[];else return console.error(`Array ${M} not found for adding.`),I;const W={...B,s_no:F.length+1};return{...I,[de]:{...I[de],[M]:[...F,W]}}})},[]),R=D.useCallback((M,B)=>{d(I=>{let de,F;if(ja.essential_indicators.hasOwnProperty(M))de="essential_indicators",F=I.essential_indicators[M]||[];else if(ja.leadership_indicators.hasOwnProperty(M))de="leadership_indicators",F=I.leadership_indicators[M]||[];else return console.error(`Array ${M} not found for removal.`),I;const W=F.filter((me,ue)=>ue!==B).map((me,ue)=>({...me,s_no:ue+1}));return{...I,[de]:{...I[de],[M]:W}}})},[]),A=D.useCallback(async M=>{M.preventDefault(),p(""),g(""),c("");const B=v(o);if(B.errors.length>0){p(`Please fix the following errors before submitting:
${B.errors.join(`
`)}`);return}if(B.warnings.length>0){const de=`The following warnings were found:
${B.warnings.join(`
`)}

Do you want to continue saving?`;if(!window.confirm(de))return}const I={sc_p8_inclusive_growth:o};try{await t(I)?(g("Section C, Principle 8 saved successfully!"),B.warnings.length>0&&g("Section C, Principle 8 saved successfully! (with warnings acknowledged)")):p("Failed to save Section C, Principle 8.")}catch(de){console.error("Error saving P8 form:",de),p("An error occurred while saving. Please try again.")}},[o,t,c,v]);if(!r)return null;const k=s||i;return a.jsxs("form",{onSubmit:A,className:"profile-form section-c-form",children:[a.jsx("h3",{className:"section-title",children:"Section C: Principle-wise Performance"}),a.jsx("h4",{className:"sub-title",children:"Principle 8: Businesses should promote inclusive growth and equitable development."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Essential Indicators"}),"                ",a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"1. Details of Social Impact Assessments (SIA) of projects undertaken by the entity based on applicable laws, in the current financial year:"}),a.jsxs("div",{className:"array-container",children:[(o.essential_indicators.social_impact_assessments||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"Name and Brief Details of Project"}),a.jsx("th",{children:"SIA Notification No."}),a.jsx("th",{children:"Date of Notification"}),a.jsx("th",{children:"Conducted by Independent Agency"}),a.jsx("th",{children:"Results in Public Domain"}),a.jsx("th",{children:"Relevant Web Link"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.essential_indicators.social_impact_assessments.map((M,B)=>a.jsxs("tr",{children:[a.jsx("td",{children:M.s_no||B+1}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Name and brief details of project",value:M.project_details||"",onChange:I=>E("social_impact_assessments",B,"project_details",I.target.value),disabled:k,"aria-label":`SIA ${B+1} project details`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"SIA Notification No.",value:M.sia_notification_no||"",onChange:I=>E("social_impact_assessments",B,"sia_notification_no",I.target.value),disabled:k,"aria-label":`SIA ${B+1} notification number`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"date",value:M.date_of_notification||"",onChange:I=>E("social_impact_assessments",B,"date_of_notification",I.target.value),disabled:k,"aria-label":`SIA ${B+1} notification date`,className:"form-control"})}),a.jsx("td",{children:a.jsxs("select",{value:M.conducted_by_independent_agency===null?"":String(M.conducted_by_independent_agency),onChange:I=>E("social_impact_assessments",B,"conducted_by_independent_agency",I.target.value),disabled:k,"aria-label":`SIA ${B+1} conducted by independent agency`,className:"form-control",children:[a.jsx("option",{value:"",children:"Select Yes/No"}),a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]})}),a.jsx("td",{children:a.jsxs("select",{value:M.results_in_public_domain===null?"":String(M.results_in_public_domain),onChange:I=>E("social_impact_assessments",B,"results_in_public_domain",I.target.value),disabled:k,"aria-label":`SIA ${B+1} results in public domain`,className:"form-control",children:[a.jsx("option",{value:"",children:"Select Yes/No"}),a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]})}),a.jsx("td",{children:a.jsx("input",{type:"url",placeholder:"Relevant Web link",value:M.relevant_web_link||"",onChange:I=>E("social_impact_assessments",B,"relevant_web_link",I.target.value),disabled:k,"aria-label":`SIA ${B+1} web link`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("social_impact_assessments",B),"aria-label":`Remove SIA ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No social impact assessments added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("social_impact_assessments",JA),className:"add-item-button btn btn-primary",children:"Add SIA Details"})]})]}),"                ",a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"2. Provide information on project(s) for which ongoing Rehabilitation and Resettlement (R&R) is being undertaken by your entity, in the following format:"}),a.jsxs("div",{className:"array-container",children:[(o.essential_indicators.rehab_resettlement_projects||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"Name of Project for which R&R is ongoing"}),a.jsx("th",{children:"State"}),a.jsx("th",{children:"District"}),a.jsx("th",{children:"No. of Project Affected Families (PAFs)"}),a.jsx("th",{children:"% of PAFs covered by R&R"}),a.jsx("th",{children:"Amounts paid to PAFs in the FY (In INR)"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.essential_indicators.rehab_resettlement_projects.map((M,B)=>a.jsxs("tr",{children:[a.jsx("td",{children:M.s_no||B+1}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Name of Project for which R&R is ongoing",value:M.name_of_project_ongoing_rr||"",onChange:I=>E("rehab_resettlement_projects",B,"name_of_project_ongoing_rr",I.target.value),disabled:k,"aria-label":`R&R Project ${B+1} name`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"State",value:M.state||"",onChange:I=>E("rehab_resettlement_projects",B,"state",I.target.value),disabled:k,"aria-label":`R&R Project ${B+1} state`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"District",value:M.district||"",onChange:I=>E("rehab_resettlement_projects",B,"district",I.target.value),disabled:k,"aria-label":`R&R Project ${B+1} district`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"number",placeholder:"No. of Project Affected Families (PAFs)",value:M.no_of_paf??"",onChange:I=>E("rehab_resettlement_projects",B,"no_of_paf",I.target.value,"number"),disabled:k,min:"0","aria-label":`R&R Project ${B+1} number of PAFs`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"number",step:"0.01",placeholder:"% of PAFs covered by R&R",value:M.percent_pafs_covered_by_rr??"",onChange:I=>E("rehab_resettlement_projects",B,"percent_pafs_covered_by_rr",I.target.value,"number"),disabled:k,min:"0",max:"100","aria-label":`R&R Project ${B+1} percentage covered`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Amounts paid to PAFs in the FY (In INR)",value:M.amounts_paid_to_pafs_fy_inr??"",onChange:I=>E("rehab_resettlement_projects",B,"amounts_paid_to_pafs_fy_inr",I.target.value,"number"),disabled:k,min:"0","aria-label":`R&R Project ${B+1} amount paid`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("rehab_resettlement_projects",B),"aria-label":`Remove R&R project ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No R&R projects added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("rehab_resettlement_projects",WA),className:"add-item-button btn btn-primary",children:"Add R&R Project"})]})]}),"                ",a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p8_community_grievance_mechanisms",children:"3. Describe the mechanisms to receive and redress grievances of the community:"}),a.jsx("textarea",{id:"p8_community_grievance_mechanisms",value:o.essential_indicators.community_grievance_mechanisms||"",onChange:M=>y("essential_indicators.community_grievance_mechanisms",M.target.value),disabled:k,rows:3,"aria-label":"Community grievance mechanisms description",className:"form-control"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"4. Percentage of input material (inputs to total inputs by value) sourced from suppliers:"}),a.jsxs("fieldset",{children:[a.jsx("legend",{children:"Current Financial Year"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"p8_msme_sourcing_percent",children:"Directly sourced from MSMEs/ small producers (%):"}),a.jsx("input",{type:"number",id:"p8_msme_sourcing_percent",step:"0.01",value:((b=(C=o.essential_indicators.input_material_sourcing)==null?void 0:C.current_fy)==null?void 0:b.directly_from_msme_small_producers_percent)??"",onChange:M=>y("essential_indicators.input_material_sourcing.current_fy.directly_from_msme_small_producers_percent",M.target.value,"number"),disabled:k,min:"0",max:"100","aria-label":"Percentage sourced from MSMEs and small producers",className:"form-control"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"p8_district_sourcing_percent",children:"Sourced directly from within the district and neighbouring districts (%):"}),a.jsx("input",{type:"number",id:"p8_district_sourcing_percent",step:"0.01",value:((N=(j=o.essential_indicators.input_material_sourcing)==null?void 0:j.current_fy)==null?void 0:N.directly_from_district_neighbouring_percent)??"",onChange:M=>y("essential_indicators.input_material_sourcing.current_fy.directly_from_district_neighbouring_percent",M.target.value,"number"),disabled:k,min:"0",max:"100","aria-label":"Percentage sourced from district and neighbouring districts",className:"form-control"})]})]})]})]}),a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),"                ",a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"1. Provide details of actions taken to mitigate any negative social impacts identified in the Social Impact Assessments (Reference: Question 1 of Essential Indicators above):"}),a.jsxs("div",{className:"array-container",children:[(o.leadership_indicators.social_impact_mitigation_actions||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Details of Negative Social Impact Identified"}),a.jsx("th",{children:"Corrective Action Taken"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.leadership_indicators.social_impact_mitigation_actions.map((M,B)=>a.jsxs("tr",{children:["                                        ",a.jsx("td",{children:a.jsx("textarea",{placeholder:"Optional: Details of negative social impact identified",value:M.negative_social_impact_identified||"",onChange:I=>E("social_impact_mitigation_actions",B,"negative_social_impact_identified",I.target.value||null),disabled:k,rows:2,"aria-label":`Social impact ${B+1} identified`,className:"form-control"})}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Optional: Corrective action taken",value:M.corrective_action_taken||"",onChange:I=>E("social_impact_mitigation_actions",B,"corrective_action_taken",I.target.value||null),disabled:k,rows:2,"aria-label":`Corrective action ${B+1}`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("social_impact_mitigation_actions",B),"aria-label":`Remove mitigation action ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No social impact mitigation actions added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("social_impact_mitigation_actions",eR),className:"add-item-button btn btn-primary",children:"Add Mitigation Action"})]})]})]}),a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"2. Provide the following information on CSR projects undertaken by your entity in designated aspirational districts as identified by government bodies:"}),a.jsxs("div",{className:"array-container",children:[(o.leadership_indicators.csr_aspirational_districts_projects||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"State"}),a.jsx("th",{children:"Aspirational District"}),a.jsx("th",{children:"Amount spent (In INR)"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.leadership_indicators.csr_aspirational_districts_projects.map((M,B)=>a.jsxs("tr",{children:[a.jsx("td",{children:M.s_no||B+1}),"                                        ",a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Optional: State",value:M.state||"",onChange:I=>E("csr_aspirational_districts_projects",B,"state",I.target.value||null),disabled:k,"aria-label":`CSR project ${B+1} state`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Optional: Aspirational District",value:M.aspirational_district||"",onChange:I=>E("csr_aspirational_districts_projects",B,"aspirational_district",I.target.value||null),disabled:k,"aria-label":`CSR project ${B+1} aspirational district`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"number",step:"0.01",placeholder:"Amount spent (In INR)",value:M.amount_spent_inr??"",onChange:I=>E("csr_aspirational_districts_projects",B,"amount_spent_inr",I.target.value,"number"),disabled:k,min:"0","aria-label":`CSR project ${B+1} amount spent`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("csr_aspirational_districts_projects",B),"aria-label":`Remove CSR project ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No CSR aspirational district projects added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("csr_aspirational_districts_projects",tR),className:"add-item-button btn btn-primary",children:"Add CSR Project"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p8_preferential_procurement_policy",children:"3. (a) Do you have a preferential procurement policy where you give preference to purchase from suppliers comprising marginalized /vulnerable groups?"}),a.jsxs("select",{id:"p8_preferential_procurement_policy",value:((T=o.leadership_indicators.preferential_procurement)==null?void 0:T.has_policy)===null?"":String((z=o.leadership_indicators.preferential_procurement)==null?void 0:z.has_policy),onChange:M=>y("leadership_indicators.preferential_procurement.has_policy",M.target.value),disabled:k,"aria-label":"Has preferential procurement policy",className:"form-control",children:[a.jsx("option",{value:"",children:"Select Yes/No"}),a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]}),((X=o.leadership_indicators.preferential_procurement)==null?void 0:X.has_policy)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p8_marginalized_groups_procured",children:"From which marginalized /vulnerable groups do you procure?"}),a.jsx("input",{type:"text",id:"p8_marginalized_groups_procured",placeholder:"e.g., MSEs, SC/ST, Women Entrepreneurs (comma separated)",value:((ne=(Q=o.leadership_indicators.preferential_procurement)==null?void 0:Q.marginalized_vulnerable_groups_procured_from)==null?void 0:ne.join(", "))||"",onChange:M=>y("leadership_indicators.preferential_procurement.marginalized_vulnerable_groups_procured_from",M.target.value.split(",").map(B=>B.trim()).filter(B=>B)),disabled:k,"aria-label":"Marginalized and vulnerable groups procured from",className:"form-control"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"p8_procurement_percentage",children:"What percentage of total procurement (by value) does it constitute?"}),a.jsx("input",{type:"number",id:"p8_procurement_percentage",step:"0.01",placeholder:"% of total procurement",value:((ce=o.leadership_indicators.preferential_procurement)==null?void 0:ce.percentage_total_procurement_by_value)??"",onChange:M=>y("leadership_indicators.preferential_procurement.percentage_total_procurement_by_value",M.target.value,"number"),disabled:k,min:"0",max:"100","aria-label":"Percentage of total procurement by value",className:"form-control"})]})]})]}),"            ",a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"4. Details of the benefits derived and shared from the intellectual properties owned or acquired by your entity (in the current financial year), based on traditional knowledge:"}),a.jsxs("div",{className:"array-container",children:[(o.leadership_indicators.ip_traditional_knowledge_benefits||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"Intellectual Property based on traditional knowledge"}),a.jsx("th",{children:"Owned/Acquired"}),a.jsx("th",{children:"Benefit shared (Yes/No)"}),a.jsx("th",{children:"Basis of calculating benefit share"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.leadership_indicators.ip_traditional_knowledge_benefits.map((M,B)=>a.jsxs("tr",{children:[a.jsx("td",{children:M.s_no||B+1}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Optional: Intellectual Property based on traditional knowledge",value:M.ip_based_on_traditional_knowledge||"",onChange:I=>E("ip_traditional_knowledge_benefits",B,"ip_based_on_traditional_knowledge",I.target.value||null),disabled:k,"aria-label":`IP Traditional Knowledge ${B+1} description`,className:"form-control"})}),a.jsx("td",{children:a.jsxs("select",{value:M.owned_acquired||"",onChange:I=>E("ip_traditional_knowledge_benefits",B,"owned_acquired",I.target.value),disabled:k,"aria-label":`IP Traditional Knowledge ${B+1} owned or acquired`,className:"form-control",children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"owned",children:"Owned by entity"}),a.jsx("option",{value:"acquired",children:"Acquired from other sources"})]})}),a.jsx("td",{children:a.jsxs("select",{value:M.benefit_shared_yes_no===null?"":String(M.benefit_shared_yes_no),onChange:I=>E("ip_traditional_knowledge_benefits",B,"benefit_shared_yes_no",I.target.value),disabled:k,"aria-label":`IP Traditional Knowledge ${B+1} benefit shared`,className:"form-control",children:[a.jsx("option",{value:"",children:"Select Yes/No"}),a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]})}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Optional: Basis of calculating benefit share",value:M.basis_of_calculating_benefit_share||"",onChange:I=>E("ip_traditional_knowledge_benefits",B,"basis_of_calculating_benefit_share",I.target.value||null),disabled:k,rows:2,"aria-label":`IP Traditional Knowledge ${B+1} basis of calculation`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("ip_traditional_knowledge_benefits",B),"aria-label":`Remove IP traditional knowledge ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No IP traditional knowledge benefits added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("ip_traditional_knowledge_benefits",nR),className:"add-item-button btn btn-primary",children:"Add IP Benefit"})]})]}),"            ",a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"5. Details of corrective actions taken or underway, based on any adverse order in intellectual property related disputes wherein usage of traditional knowledge is involved:"}),a.jsxs("div",{className:"array-container",children:[(o.leadership_indicators.ip_disputes_traditional_knowledge_actions||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name of Authority"}),a.jsx("th",{children:"Brief of the Case"}),a.jsx("th",{children:"Corrective Action Taken"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.leadership_indicators.ip_disputes_traditional_knowledge_actions.map((M,B)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Optional: Name of authority",value:M.name_of_authority||"",onChange:I=>E("ip_disputes_traditional_knowledge_actions",B,"name_of_authority",I.target.value||null),disabled:k,"aria-label":`IP Dispute ${B+1} authority name`,className:"form-control"})}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Optional: Brief of the Case",value:M.brief_of_case||"",onChange:I=>E("ip_disputes_traditional_knowledge_actions",B,"brief_of_case",I.target.value||null),disabled:k,rows:2,"aria-label":`IP Dispute ${B+1} case brief`,className:"form-control"})}),a.jsx("td",{children:a.jsx("textarea",{placeholder:"Optional: Corrective action taken",value:M.corrective_action_taken||"",onChange:I=>E("ip_disputes_traditional_knowledge_actions",B,"corrective_action_taken",I.target.value||null),disabled:k,rows:2,"aria-label":`IP Dispute ${B+1} corrective action`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("ip_disputes_traditional_knowledge_actions",B),"aria-label":`Remove IP dispute ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No IP disputes added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("ip_disputes_traditional_knowledge_actions",rR),className:"add-item-button btn btn-primary",children:"Add Dispute Action"})]})]}),"            ",a.jsxs("div",{className:"form-group array-group",children:[a.jsx("label",{children:"6. Details of beneficiaries of CSR Projects:"}),a.jsxs("div",{className:"array-container",children:[(o.leadership_indicators.csr_project_beneficiaries_details||[]).length>0?a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"S.No."}),a.jsx("th",{children:"CSR Project"}),a.jsx("th",{children:"No. of persons benefitted from CSR Projects"}),a.jsx("th",{children:"% of beneficiaries from vulnerable and marginalized groups"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:o.leadership_indicators.csr_project_beneficiaries_details.map((M,B)=>a.jsxs("tr",{children:[a.jsx("td",{children:M.s_no||B+1}),a.jsx("td",{children:a.jsx("input",{type:"text",placeholder:"Optional: CSR Project",value:M.csr_project||"",onChange:I=>E("csr_project_beneficiaries_details",B,"csr_project",I.target.value||null),disabled:k,"aria-label":`CSR Beneficiary ${B+1} project name`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"number",placeholder:"No. of persons benefitted from CSR Projects",value:M.persons_benefitted_from_csr??"",onChange:I=>E("csr_project_beneficiaries_details",B,"persons_benefitted_from_csr",I.target.value,"number"),disabled:k,min:"0","aria-label":`CSR Beneficiary ${B+1} number of persons`,className:"form-control"})}),a.jsx("td",{children:a.jsx("input",{type:"number",step:"0.01",placeholder:"% of beneficiaries from vulnerable and marginalized groups",value:M.percent_beneficiaries_vulnerable_marginalized??"",onChange:I=>E("csr_project_beneficiaries_details",B,"percent_beneficiaries_vulnerable_marginalized",I.target.value,"number"),disabled:k,min:"0",max:"100","aria-label":`CSR Beneficiary ${B+1} percentage vulnerable`,className:"form-control"})}),a.jsx("td",{children:!k&&a.jsx("button",{type:"button",onClick:()=>R("csr_project_beneficiaries_details",B),"aria-label":`Remove CSR beneficiary ${B+1}`,className:"remove-item-button btn btn-danger",children:"Remove"})})]},B))})]}):a.jsx("p",{children:"No CSR project beneficiaries added yet."}),!k&&a.jsx("button",{type:"button",onClick:()=>w("csr_project_beneficiaries_details",aR),className:"add-item-button btn btn-primary",children:"Add Beneficiary Details"})]})]}),a.jsx("hr",{}),a.jsx("div",{className:"form-actions",children:a.jsx("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:k||i,children:i?"Saving...":"Save Principle 8"})}),s&&a.jsx("p",{children:"This section is part of a submitted report and cannot be edited."})]})}const dp=[{key:"data_privacy",label:"Data Privacy"},{key:"advertising",label:"Advertising"},{key:"cyber_security",label:"Cyber-security"},{key:"delivery_essential_services",label:"Delivery of essential services"},{key:"restrictive_trade_practices",label:"Restrictive Trade Practices"},{key:"unfair_trade_practices",label:"Unfair Trade Practices"},{key:"other",label:"Other"}],iR={mechanisms_consumer_complaints_feedback:"",turnover_product_services_info:{environmental_social_parameters_turnover_percent:null,safe_responsible_usage_turnover_percent:null,recycling_disposal_turnover_percent:null},consumer_complaints_summary:dp.map(r=>({category:r.key,current_fy:{received_during_year:null,pending_resolution_at_year_end:null,remarks:""}})),product_recalls_safety:{voluntary_recalls:{number:null,reasons_for_recall:""},forced_recalls:{number:null,reasons_for_recall:""}},cyber_security_data_privacy_policy:{has_policy:null,policy_weblink:"",cybersecurity_investment_percent_revenue:null},corrective_actions_details:"",ethical_supply_chain_governance:{has_framework:null,code_of_conduct_followed:""}},lR={product_service_info_channels_platforms:null,steps_inform_educate_safe_responsible_usage:null,mechanisms_inform_risk_disruption_essential_services:null,product_info_display_above_mandate:{displays_yes_no_na:null,details_if_yes:null},consumer_satisfaction_survey_details:{survey_carried_out_yes_no:null},data_breaches_info:{instances_along_with_impact:null,percentage_involving_pii:null}},U_={essential_indicators:iR,leadership_indicators:lR};function oR(){var T,z,X,Q,ne,ce,M,B,I,de,F,W,me,ue,O,J,ge,_e,Ae,Se,le,ke,we,Et,It;const{reportData:r,handleSaveProgress:t,isSubmitted:s,isLoadingSave:i,setError:c}=or(),[o,d]=D.useState(U_),[h,p]=D.useState(""),[m,g]=D.useState(""),[v,y]=D.useState({}),E={width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},w={width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",minHeight:"60px",resize:"vertical"};D.useEffect(()=>{var oe;(oe=r==null?void 0:r.section_c_data)!=null&&oe.principle_9?d(et=>ir(U_,r.section_c_data.principle_9)):d(U_)},[r]);const R=()=>{const oe={};return[{path:"essential_indicators.turnover_product_services_info.environmental_social_parameters_turnover_percent",label:"Environmental and social parameters turnover percentage"},{path:"essential_indicators.turnover_product_services_info.safe_responsible_usage_turnover_percent",label:"Safe and responsible usage turnover percentage"},{path:"essential_indicators.turnover_product_services_info.recycling_disposal_turnover_percent",label:"Recycling and disposal turnover percentage"},{path:"essential_indicators.cyber_security_data_privacy_policy.cybersecurity_investment_percent_revenue",label:"Cybersecurity investment percentage"},{path:"leadership_indicators.data_breaches_info.percentage_involving_pii",label:"Percentage of data breaches involving PII"}].forEach($e=>{const vt=A(o,$e.path);vt!=null&&vt!==""&&(vt<0||vt>100)&&(oe[$e.path]=`${$e.label} must be between 0 and 100`)}),[{path:"essential_indicators.product_recalls_safety.voluntary_recalls.number",label:"Voluntary recalls number"},{path:"essential_indicators.product_recalls_safety.forced_recalls.number",label:"Forced recalls number"}].forEach($e=>{const vt=A(o,$e.path);vt!=null&&vt!==""&&vt<0&&(oe[$e.path]=`${$e.label} cannot be negative`)}),o.essential_indicators.consumer_complaints_summary&&o.essential_indicators.consumer_complaints_summary.forEach(($e,vt)=>{var At,Dt,wt,U,V,ee,ye,pe,fe;const _t=((At=dp.find(Ce=>Ce.key===$e.category))==null?void 0:At.label)||$e.category;((Dt=$e.current_fy)==null?void 0:Dt.received_during_year)!==null&&((wt=$e.current_fy)==null?void 0:wt.received_during_year)<0&&(oe[`complaint_${$e.category}_received`]=`${_t} - Received complaints cannot be negative`),((U=$e.current_fy)==null?void 0:U.pending_resolution_at_year_end)!==null&&((V=$e.current_fy)==null?void 0:V.pending_resolution_at_year_end)<0&&(oe[`complaint_${$e.category}_pending`]=`${_t} - Pending complaints cannot be negative`),((ee=$e.current_fy)==null?void 0:ee.pending_resolution_at_year_end)>((ye=$e.current_fy)==null?void 0:ye.received_during_year)&&((pe=$e.current_fy)==null?void 0:pe.received_during_year)!==null&&((fe=$e.current_fy)==null?void 0:fe.pending_resolution_at_year_end)!==null&&(oe[`complaint_${$e.category}_pending`]=`${_t} - Pending complaints cannot exceed received complaints`)}),y(oe),Object.keys(oe).length===0},A=(oe,et)=>et.split(".").reduce((st,$e)=>st==null?void 0:st[$e],oe),k=(oe,et,st,$e)=>{d(vt=>{const _t=oe.split(".");let At={...vt},Dt=At;for(let U=0;U<_t.length-1;U++)Dt[_t[U]]=typeof Dt[_t[U]]=="object"&&Dt[_t[U]]!==null?{...Dt[_t[U]]}:{},Dt=Dt[_t[U]];let wt=et;return st==="number"?(wt=et===""?null:parseFloat(et),isNaN(wt)&&(wt=null)):st==="checkbox"?wt=$e:et==="true"?wt=!0:et==="false"?wt=!1:et===""&&(oe.endsWith("_yes_no")||oe.endsWith(".has_policy")||oe.endsWith(".has_framework"))&&(wt=null),Dt[_t[_t.length-1]]=wt,v[oe]&&y(U=>{const V={...U};return delete V[oe],V}),At})},C=(oe,et,st,$e="number")=>{d(vt=>{const _t=vt.essential_indicators.consumer_complaints_summary.map(Dt=>{if(Dt.category===oe){let wt;return $e==="number"?wt=st===""?null:parseInt(st,10)||0:wt=st,{...Dt,current_fy:{...Dt.current_fy,[et]:wt}}}return Dt}),At=et==="remarks"?null:`complaint_${oe}_${et==="received_during_year"?"received":"pending"}`;return At&&v[At]&&y(Dt=>{const wt={...Dt};return delete wt[At],wt}),{...vt,essential_indicators:{...vt.essential_indicators,consumer_complaints_summary:_t}}})},b=async oe=>{if(oe.preventDefault(),p(""),g(""),c(""),!R()){p("Please fix the validation errors before submitting.");return}await t({sc_p9_consumer_value:o})?g("Principle 9 data saved successfully!"):p("Failed to save Principle 9 data. Check wizard errors or console.")};if(!r)return a.jsx("p",{children:"Loading Section C, Principle 9 data..."});const j=s||i,N=(oe,et,st,$e)=>a.jsxs("select",{name:$e,value:oe===null?"":String(oe),onChange:et,disabled:st,children:[a.jsx("option",{value:"",children:"Select Yes/No"}),a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]});return a.jsxs("form",{onSubmit:b,className:"profile-form section-c-form",children:[a.jsx("h3",{className:"section-title",children:"Section C: Principle-wise Performance"}),a.jsx("h4",{className:"sub-title",children:"Principle 9: Businesses should engage with and provide value to their consumers in a responsible manner."}),h&&a.jsx("p",{className:"error-message",style:{color:"red"},children:h}),m&&a.jsx("p",{className:"success-message",style:{color:"green"},children:m}),Object.keys(v).length>0&&a.jsxs("div",{className:"validation-errors",style:{backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"4px",padding:"10px",marginBottom:"20px"},children:[a.jsx("h5",{style:{color:"#f44336",margin:"0 0 10px 0"},children:"Please fix the following errors:"}),a.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:Object.values(v).map((oe,et)=>a.jsx("li",{style:{color:"#f44336"},children:oe},et))})]}),a.jsxs("div",{className:"form-section",children:[a.jsx("h5",{children:"Essential Indicators"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Describe the mechanisms in place to receive and respond to consumer complaints and feedback:"}),a.jsx("textarea",{value:o.essential_indicators.mechanisms_consumer_complaints_feedback||"",onChange:oe=>k("essential_indicators.mechanisms_consumer_complaints_feedback",oe.target.value),disabled:j,rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Turnover of products and/ services as a percentage of turnover from all products/service that carry information about:"}),"                ",a.jsxs("div",{style:{marginLeft:"20px"},children:[a.jsx("label",{children:"Environmental and social parameters relevant to the product (As a percentage to total turnover):"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",style:{...E,borderColor:v["essential_indicators.turnover_product_services_info.environmental_social_parameters_turnover_percent"]?"#f44336":E.borderColor},value:((T=o.essential_indicators.turnover_product_services_info)==null?void 0:T.environmental_social_parameters_turnover_percent)??"",onChange:oe=>k("essential_indicators.turnover_product_services_info.environmental_social_parameters_turnover_percent",oe.target.value,"number"),disabled:j,placeholder:"%"}),v["essential_indicators.turnover_product_services_info.environmental_social_parameters_turnover_percent"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["essential_indicators.turnover_product_services_info.environmental_social_parameters_turnover_percent"]}),a.jsx("label",{children:"Safe and responsible usage (As a percentage to total turnover):"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",style:{...E,borderColor:v["essential_indicators.turnover_product_services_info.safe_responsible_usage_turnover_percent"]?"#f44336":E.borderColor},value:((z=o.essential_indicators.turnover_product_services_info)==null?void 0:z.safe_responsible_usage_turnover_percent)??"",onChange:oe=>k("essential_indicators.turnover_product_services_info.safe_responsible_usage_turnover_percent",oe.target.value,"number"),disabled:j,placeholder:"%"}),v["essential_indicators.turnover_product_services_info.safe_responsible_usage_turnover_percent"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["essential_indicators.turnover_product_services_info.safe_responsible_usage_turnover_percent"]}),a.jsx("label",{children:"Recycling and/or safe disposal (As a percentage to total turnover):"}),"                    ",a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",style:{...E,borderColor:v["essential_indicators.turnover_product_services_info.recycling_disposal_turnover_percent"]?"#f44336":E.borderColor},value:((X=o.essential_indicators.turnover_product_services_info)==null?void 0:X.recycling_disposal_turnover_percent)??"",onChange:oe=>k("essential_indicators.turnover_product_services_info.recycling_disposal_turnover_percent",oe.target.value,"number"),disabled:j,placeholder:"%"}),v["essential_indicators.turnover_product_services_info.recycling_disposal_turnover_percent"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["essential_indicators.turnover_product_services_info.recycling_disposal_turnover_percent"]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Number of consumer complaints in respect of the following (Current Financial Year):"}),a.jsxs("table",{className:"brsr-table card",style:{width:"100%",marginBottom:"20px"},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Received during the year (Current FY)"}),a.jsx("th",{children:"Pending resolution at end of year (Current FY)"}),a.jsx("th",{children:"Remarks (Current FY)"})]})}),a.jsxs("tbody",{children:["                        ",(Q=o.essential_indicators.consumer_complaints_summary)==null?void 0:Q.map(oe=>{var et,st,$e,vt;return a.jsxs("tr",{children:[a.jsx("td",{children:(et=dp.find(_t=>_t.key===oe.category))==null?void 0:et.label}),a.jsxs("td",{children:[a.jsx("input",{type:"number",style:{...E,borderColor:v[`complaint_${oe.category}_received`]?"#f44336":E.borderColor},value:((st=oe.current_fy)==null?void 0:st.received_during_year)??"",onChange:_t=>C(oe.category,"received_during_year",_t.target.value,"number"),disabled:j,min:"0"}),v[`complaint_${oe.category}_received`]&&a.jsx("div",{style:{color:"#f44336",fontSize:"0.7em",marginTop:"2px"},children:v[`complaint_${oe.category}_received`]})]}),a.jsxs("td",{children:[a.jsx("input",{type:"number",style:{...E,borderColor:v[`complaint_${oe.category}_pending`]?"#f44336":E.borderColor},value:(($e=oe.current_fy)==null?void 0:$e.pending_resolution_at_year_end)??"",onChange:_t=>C(oe.category,"pending_resolution_at_year_end",_t.target.value,"number"),disabled:j,min:"0"}),v[`complaint_${oe.category}_pending`]&&a.jsx("div",{style:{color:"#f44336",fontSize:"0.7em",marginTop:"2px"},children:v[`complaint_${oe.category}_pending`]})]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:((vt=oe.current_fy)==null?void 0:vt.remarks)||"",onChange:_t=>C(oe.category,"remarks",_t.target.value,"text"),disabled:j})})]},oe.category)})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"4. Details of instances of product recalls on account of safety issues:"}),a.jsxs("div",{style:{marginLeft:"20px"},children:["                    ",a.jsx("label",{children:"Voluntary recalls - Number:"}),a.jsx("input",{type:"number",min:"0",style:{...E,borderColor:v["essential_indicators.product_recalls_safety.voluntary_recalls.number"]?"#f44336":E.borderColor},value:((ce=(ne=o.essential_indicators.product_recalls_safety)==null?void 0:ne.voluntary_recalls)==null?void 0:ce.number)??"",onChange:oe=>k("essential_indicators.product_recalls_safety.voluntary_recalls.number",oe.target.value,"number"),disabled:j}),v["essential_indicators.product_recalls_safety.voluntary_recalls.number"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["essential_indicators.product_recalls_safety.voluntary_recalls.number"]}),a.jsx("label",{children:"Voluntary recalls - Reasons for recall:"}),a.jsx("textarea",{style:w,value:((B=(M=o.essential_indicators.product_recalls_safety)==null?void 0:M.voluntary_recalls)==null?void 0:B.reasons_for_recall)||"",onChange:oe=>k("essential_indicators.product_recalls_safety.voluntary_recalls.reasons_for_recall",oe.target.value),disabled:j,rows:2}),"                    ",a.jsx("label",{children:"Forced recalls - Number:"}),a.jsx("input",{type:"number",min:"0",style:{...E,borderColor:v["essential_indicators.product_recalls_safety.forced_recalls.number"]?"#f44336":E.borderColor},value:((de=(I=o.essential_indicators.product_recalls_safety)==null?void 0:I.forced_recalls)==null?void 0:de.number)??"",onChange:oe=>k("essential_indicators.product_recalls_safety.forced_recalls.number",oe.target.value,"number"),disabled:j}),v["essential_indicators.product_recalls_safety.forced_recalls.number"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["essential_indicators.product_recalls_safety.forced_recalls.number"]}),a.jsx("label",{children:"Forced recalls - Reasons for recall:"}),a.jsx("textarea",{style:w,value:((W=(F=o.essential_indicators.product_recalls_safety)==null?void 0:F.forced_recalls)==null?void 0:W.reasons_for_recall)||"",onChange:oe=>k("essential_indicators.product_recalls_safety.forced_recalls.reasons_for_recall",oe.target.value),disabled:j,rows:2})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"5. Does the entity have a framework/ policy on cyber security and risks related to data privacy? (Yes/No)"}),N((me=o.essential_indicators.cyber_security_data_privacy_policy)==null?void 0:me.has_policy,oe=>k("essential_indicators.cyber_security_data_privacy_policy.has_policy",oe.target.value),j,"cyber_security_policy_has_policy"),((ue=o.essential_indicators.cyber_security_data_privacy_policy)==null?void 0:ue.has_policy)&&a.jsxs(a.Fragment,{children:[a.jsx("label",{children:"If available, provide a web-link of the policy:"}),a.jsx("input",{type:"url",style:E,value:((O=o.essential_indicators.cyber_security_data_privacy_policy)==null?void 0:O.policy_weblink)||"",onChange:oe=>k("essential_indicators.cyber_security_data_privacy_policy.policy_weblink",oe.target.value),disabled:j,placeholder:"https://example.com/policy"})]}),"                ",a.jsx("label",{children:"Cybersecurity Investment as % of Revenue:"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",style:{...E,borderColor:v["essential_indicators.cyber_security_data_privacy_policy.cybersecurity_investment_percent_revenue"]?"#f44336":E.borderColor},value:((J=o.essential_indicators.cyber_security_data_privacy_policy)==null?void 0:J.cybersecurity_investment_percent_revenue)??"",onChange:oe=>k("essential_indicators.cyber_security_data_privacy_policy.cybersecurity_investment_percent_revenue",oe.target.value,"number"),disabled:j,placeholder:"%"}),v["essential_indicators.cyber_security_data_privacy_policy.cybersecurity_investment_percent_revenue"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["essential_indicators.cyber_security_data_privacy_policy.cybersecurity_investment_percent_revenue"]}),a.jsx("p",{style:{fontSize:"0.8em",color:"gray"},children:"Description: Proportion of revenue allocated to cybersecurity."})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"6. Provide details of any corrective actions taken or underway on issues relating to advertising, and delivery of essential services; cyber security and data privacy of customers; re-occurrence of instances of product recalls; penalty / action taken by regulatory authorities on safety of products / services."}),a.jsx("textarea",{style:w,value:o.essential_indicators.corrective_actions_details||"",onChange:oe=>k("essential_indicators.corrective_actions_details",oe.target.value),disabled:j,rows:4})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"7. Does the company implement an Integrated Ethical Supply Chain Governance framework?"}),N((ge=o.essential_indicators.ethical_supply_chain_governance)==null?void 0:ge.has_framework,oe=>k("essential_indicators.ethical_supply_chain_governance.has_framework",oe.target.value),j,"ethical_supply_chain_has_framework"),((_e=o.essential_indicators.ethical_supply_chain_governance)==null?void 0:_e.has_framework)&&a.jsxs(a.Fragment,{children:[a.jsx("label",{children:"If yes, which code of conduct is followed:"}),a.jsx("input",{type:"text",style:E,value:((Ae=o.essential_indicators.ethical_supply_chain_governance)==null?void 0:Ae.code_of_conduct_followed)||"",onChange:oe=>k("essential_indicators.ethical_supply_chain_governance.code_of_conduct_followed",oe.target.value),disabled:j,placeholder:"e.g., RBA, Internal CoC"})]}),a.jsx("p",{style:{fontSize:"0.8em",color:"gray"},children:"Description: Yes & No, if yes which code of conduct is followed."})]})]}),a.jsxs("div",{className:"form-section",children:[a.jsx("hr",{}),a.jsx("h5",{children:"Leadership Indicators"}),a.jsx("p",{className:"leadership-indicators-note",children:a.jsx("em",{children:"Leadership indicators are optional and help demonstrate advanced ESG practices beyond basic compliance."})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"1. Channels / platforms where information on products and services of the entity can be accessed (provide web link, if available)."}),a.jsx("textarea",{style:w,value:o.leadership_indicators.product_service_info_channels_platforms||"",onChange:oe=>k("leadership_indicators.product_service_info_channels_platforms",oe.target.value),disabled:j,rows:3,placeholder:"Optional: e.g., Company Website: https://example.com/products, Mobile App: MyApp, Retail Stores"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"2. Steps taken to inform and educate consumers about safe and responsible usage of products and/or services."}),a.jsx("textarea",{style:w,value:o.leadership_indicators.steps_inform_educate_safe_responsible_usage||"",onChange:oe=>k("leadership_indicators.steps_inform_educate_safe_responsible_usage",oe.target.value),disabled:j,rows:3,placeholder:"Optional: Describe steps taken"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"3. Mechanisms in place to inform consumers of any risk of disruption/discontinuation of essential services."}),a.jsx("textarea",{style:w,value:o.leadership_indicators.mechanisms_inform_risk_disruption_essential_services||"",onChange:oe=>k("leadership_indicators.mechanisms_inform_risk_disruption_essential_services",oe.target.value),disabled:j,rows:3,placeholder:"Optional: Describe mechanisms"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"4. Does the entity display product information on the product over and above what is mandated as per local laws? (Yes/No/Not Applicable)"}),a.jsxs("select",{name:"product_info_above_mandate_select",value:((Se=o.leadership_indicators.product_info_display_above_mandate)==null?void 0:Se.displays_yes_no_na)||"",onChange:oe=>k("leadership_indicators.product_info_display_above_mandate.displays_yes_no_na",oe.target.value),disabled:j,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"Yes",children:"Yes"}),a.jsx("option",{value:"No",children:"No"}),a.jsx("option",{value:"Not Applicable",children:"Not Applicable"})]}),((le=o.leadership_indicators.product_info_display_above_mandate)==null?void 0:le.displays_yes_no_na)==="Yes"&&a.jsxs(a.Fragment,{children:[a.jsx("label",{children:"If yes, provide details in brief:"}),a.jsx("textarea",{style:w,value:((ke=o.leadership_indicators.product_info_display_above_mandate)==null?void 0:ke.details_if_yes)||"",onChange:oe=>k("leadership_indicators.product_info_display_above_mandate.details_if_yes",oe.target.value),disabled:j,rows:2,placeholder:"Optional: Provide details"})]}),a.jsx("label",{style:{marginTop:"15px"},children:"Did your entity carry out any survey with regard to consumer satisfaction relating to the major products / services of the entity, significant locations of operation of the entity or the entity as a whole? (Yes/No)"}),N((we=o.leadership_indicators.consumer_satisfaction_survey_details)==null?void 0:we.survey_carried_out_yes_no,oe=>k("leadership_indicators.consumer_satisfaction_survey_details.survey_carried_out_yes_no",oe.target.value),j,"consumer_satisfaction_survey_conducted")]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"5. Provide the following information relating to data breaches:"}),a.jsxs("div",{style:{marginLeft:"20px"},children:[a.jsx("label",{children:"a. Number of instances of data breaches along-with impact:"}),a.jsx("textarea",{style:w,value:((Et=o.leadership_indicators.data_breaches_info)==null?void 0:Et.instances_along_with_impact)||"",onChange:oe=>k("leadership_indicators.data_breaches_info.instances_along_with_impact",oe.target.value),disabled:j,rows:3,placeholder:"Optional: e.g., 2 instances: Instance 1 - impacted 500 users, data accessed included names and emails. Instance 2 - impacted 1000 users, data accessed included addresses."}),"                    ",a.jsx("label",{children:"b. Percentage of data breaches involving personally identifiable information of customers:"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",style:{...E,borderColor:v["leadership_indicators.data_breaches_info.percentage_involving_pii"]?"#f44336":E.borderColor},value:((It=o.leadership_indicators.data_breaches_info)==null?void 0:It.percentage_involving_pii)??"",onChange:oe=>k("leadership_indicators.data_breaches_info.percentage_involving_pii",oe.target.value,"number"),disabled:j,placeholder:"%"}),v["leadership_indicators.data_breaches_info.percentage_involving_pii"]&&a.jsx("span",{style:{color:"#f44336",fontSize:"0.8em",display:"block"},children:v["leadership_indicators.data_breaches_info.percentage_involving_pii"]})]})]})]}),a.jsx("div",{className:"form-actions",children:a.jsx("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:j||i,children:i?"Saving...":"Save Principle 9"})})]})}const L_="https://esg-calculator-mji3v2td0-sukrits-projects-ec2f3458.vercel.app";function cR(r){const t=[{key:"section-c-p1",label:"Principle 1: Ethics and Transparency",dbKey:"sc_p1_ethical_conduct",requiredFields:["essential_indicators"]},{key:"section-c-p2",label:"Principle 2: Product Lifecycle Sustainability",dbKey:"sc_p2_sustainable_safe_goods",requiredFields:["essential_indicators"]},{key:"section-c-p3",label:"Principle 3: Employee Well-being",dbKey:"sc_p3_employee_wellbeing",requiredFields:["essential_indicators"]},{key:"section-c-p4",label:"Principle 4: Stakeholder Engagement",dbKey:"sc_p4_stakeholder_responsiveness",requiredFields:["essential_indicators"]},{key:"section-c-p5",label:"Principle 5: Human Rights",dbKey:"sc_p5_human_rights",requiredFields:["essential_indicators"]},{key:"section-c-p6",label:"Principle 6: Environment Protection",dbKey:"sc_p6_environment_protection",requiredFields:["essential_indicators"]},{key:"section-c-p7",label:"Principle 7: Policy Advocacy",dbKey:"sc_p7_policy_advocacy",requiredFields:["essential_indicators"]},{key:"section-c-p8",label:"Principle 8: Inclusive Development",dbKey:"sc_p8_inclusive_growth",requiredFields:["essential_indicators"]},{key:"section-c-p9",label:"Principle 9: Customer Value",dbKey:"sc_p9_consumer_value",requiredFields:["essential_indicators"]}];return[{key:"section-a",label:"Section A: General Disclosures",status:uR(r),requiredFields:["sa_business_activities_turnover","sa_product_services_turnover","sa_employee_details","sa_locations_plants_offices"]},{key:"section-b",label:"Section B: Management & Process",status:dR(r),requiredFields:["sb_director_statement","sb_esg_responsible_individual"]},...t.map(i=>({key:i.key,label:i.label,status:fR(r[i.dbKey]),requiredFields:i.requiredFields}))]}function uR(r){return r?!!(r.sa_business_activities_turnover&&Array.isArray(r.sa_business_activities_turnover)&&r.sa_business_activities_turnover.length>0&&r.sa_product_services_turnover&&Array.isArray(r.sa_product_services_turnover)&&r.sa_product_services_turnover.length>0&&r.sa_employee_details&&Object.keys(r.sa_employee_details).length>0&&r.sa_locations_plants_offices&&Object.keys(r.sa_locations_plants_offices).length>0):!1}function dR(r){if(!r)return!1;const t=r.section_b_data||r.sb_policy_management||r;return!!(t.sb_director_statement&&t.sb_director_statement.trim()&&t.sb_esg_responsible_individual&&t.sb_esg_responsible_individual.name&&t.sb_esg_responsible_individual.name.trim()&&t.sb_esg_responsible_individual.designation&&t.sb_esg_responsible_individual.designation.trim()&&Array.isArray(t.sb_principle_policies)&&t.sb_principle_policies.length===9&&t.sb_principle_policies.some(s=>s.has_policy)&&t.sb_sustainability_committee&&typeof t.sb_sustainability_committee.has_committee=="boolean"&&t.sb_ngrbc_company_review&&typeof t.sb_ngrbc_company_review.performance_review_yn=="boolean"&&t.sb_external_policy_assessment&&typeof t.sb_external_policy_assessment.conducted=="boolean")}function fR(r){return!r||typeof r!="object"?!1:Object.keys(r).some(s=>{const i=r[s];return i==null||i===""?!1:typeof i=="object"&&i!==null?Object.values(i).some(c=>c!=null&&c!==""&&c!==!1):i!==!1&&i!==0})}const Ix=({data:r})=>{if(!r)return a.jsx("div",{className:"no-data-message",children:"No data to display for this section."});const t=(c,o)=>{if(c==null||c==="")return a.jsx("span",{className:"empty-value",children:"Not provided"});if(typeof c=="boolean")return a.jsx("span",{className:`boolean-value ${c?"yes":"no"}`,children:c?"Yes":"No"});if(Array.isArray(c))return c.length===0?a.jsx("span",{className:"empty-array",children:"No items"}):a.jsx("div",{className:"array-container",children:c.map((d,h)=>a.jsxs("div",{className:"array-item",children:[a.jsx("div",{className:"array-item-header",children:a.jsxs("span",{className:"item-number",children:["Item ",h+1]})}),a.jsx("div",{className:"array-item-content",children:a.jsx(Ix,{data:d})})]},h))});if(typeof c=="object"&&c!==null)return a.jsx("div",{className:"object-container",children:Object.entries(c).map(([d,h])=>a.jsxs("div",{className:"object-field",children:[a.jsxs("span",{className:"field-label",children:[s(d),":"]}),a.jsx("span",{className:"field-value",children:t(h,d)})]},d))});if(typeof c=="number")return o&&(o.includes("percent")||o.includes("rate"))?a.jsxs("span",{className:"percentage-value",children:[c,"%"]}):o&&(o.includes("amount")||o.includes("inr")||o.includes("turnover"))?a.jsxs("span",{className:"currency-value",children:["₹",c.toLocaleString("en-IN")]}):a.jsx("span",{className:"number-value",children:c.toLocaleString()});if(o&&(o.includes("date")||o.includes("_at"))&&typeof c=="string"){const d=new Date(c);if(!isNaN(d.getTime()))return a.jsx("span",{className:"date-value",children:d.toLocaleDateString("en-IN")})}return typeof c=="string"&&(c.startsWith("http")||c.startsWith("www"))?a.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"url-value",children:c}):a.jsx("span",{className:"text-value",children:String(c)})},s=c=>c.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()).replace(/\bFy\b/g,"FY").replace(/\bInr\b/g,"INR").replace(/\bPaf\b/g,"PAF").replace(/\bRr\b/g,"R&R").replace(/\bCsr\b/g,"CSR").replace(/\bEsg\b/g,"ESG"),i=c=>({section_a_data:"Section A: General Disclosures",section_b_data:"Section B: Management & Process Disclosures",section_c_data:"Section C: Principle-wise Performance Disclosure",essential_indicators:"Essential Indicators",leadership_indicators:"Leadership Indicators",principle_1:"Principle 1: Ethics and Transparency",principle_2:"Principle 2: Product Lifecycle Sustainability",principle_3:"Principle 3: Employee Well-being",principle_4:"Principle 4: Stakeholder Engagement",principle_5:"Principle 5: Human Rights",principle_6:"Principle 6: Environment Protection",principle_7:"Principle 7: Policy Advocacy",principle_8:"Principle 8: Inclusive Development",principle_9:"Principle 9: Customer Value"})[c]||s(c);return a.jsxs("div",{className:"report-summary-viewer",children:[Object.entries(r).map(([c,o])=>a.jsxs("div",{className:"summary-section",children:[a.jsx("div",{className:"section-header",children:a.jsx("h4",{className:"section-title",children:i(c)})}),a.jsx("div",{className:"section-content",children:t(o,c)})]},c)),a.jsx("style",{jsx:!0,children:`
                .report-summary-viewer {
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
                }
                
                .summary-section {
                    margin-bottom: 24px;
                    border: 1px solid #e0e0e0;
                    border-radius: 8px;
                    overflow: hidden;
                }
                
                .section-header {
                    background: linear-gradient(135deg, #1e5f74 0%, #2d7589 100%);
                    padding: 12px 16px;
                }
                
                .section-title {
                    color: white;
                    margin: 0;
                    font-size: 1.1rem;
                    font-weight: 600;
                }
                
                .section-content {
                    padding: 16px;
                    background: #fff;
                }
                
                .object-field {
                    display: flex;
                    margin-bottom: 8px;
                    align-items: flex-start;
                }
                
                .field-label {
                    font-weight: 600;
                    color: #2d7589;
                    min-width: 200px;
                    margin-right: 12px;
                }
                
                .field-value {
                    flex: 1;
                }
                
                .array-container {
                    border-left: 3px solid #e0e0e0;
                    padding-left: 16px;
                    margin-top: 8px;
                }
                
                .array-item {
                    margin-bottom: 16px;
                    padding: 12px;
                    background: #f8f9fa;
                    border-radius: 6px;
                    border: 1px solid #e9ecef;
                }
                
                .array-item-header {
                    margin-bottom: 8px;
                }
                
                .item-number {
                    background: #2d7589;
                    color: white;
                    padding: 4px 8px;
                    border-radius: 4px;
                    font-size: 0.85rem;
                    font-weight: 600;
                }
                
                .empty-value {
                    color: #6c757d;
                    font-style: italic;
                }
                
                .boolean-value.yes {
                    color: #28a745;
                    font-weight: 600;
                }
                
                .boolean-value.no {
                    color: #dc3545;
                    font-weight: 600;
                }
                
                .percentage-value {
                    color: #6f42c1;
                    font-weight: 600;
                }
                
                .currency-value {
                    color: #28a745;
                    font-weight: 600;
                }
                
                .number-value {
                    color: #007bff;
                    font-weight: 600;
                }
                
                .date-value {
                    color: #fd7e14;
                    font-weight: 600;
                }
                
                .url-value {
                    color: #007bff;
                    text-decoration: none;
                    font-weight: 500;
                }
                
                .url-value:hover {
                    text-decoration: underline;
                }
                
                .text-value {
                    color: #212529;
                }
                
                .empty-array {
                    color: #6c757d;
                    font-style: italic;
                }
                
                .no-data-message {
                    padding: 20px;
                    text-align: center;
                    color: #6c757d;
                    font-style: italic;
                    background: #f8f9fa;
                    border-radius: 8px;
                    border: 1px solid #e9ecef;
                }
            `})]})};function hR(){const{reportData:r,reportId:t,isSubmitted:s,setError:i,setReportData:c}=or(),o=wr(),[d,h]=D.useState(!1),[p,m]=D.useState(""),[g,v]=D.useState(!1),[y,E]=D.useState(""),[w,R]=D.useState((r==null?void 0:r.status)||"draft"),[A,k]=D.useState(!1),C=cR(r),b=C.every(z=>z.status);D.useEffect(()=>{r!=null&&r.status&&(R(r.status),r.status==="submitted"&&r.pdf_generated&&E(`${L_}/api/reports/${t}/pdf`))},[r,t]);const j=async()=>{if(t){k(!0);try{const z=await dx(t);c&&c(z),R(z.status||"draft"),z.status==="submitted"&&z.pdf_generated&&E(`${L_}/api/reports/${t}/pdf`)}catch(z){console.error("Failed to refresh report data:",z),i("Failed to refresh report data. Please reload the page.")}finally{k(!1)}}},N=async()=>{var z,X;h(!0),m(""),v(!1),E(""),i("");try{const ne=(await sr.post(`/reports/${t}/submit`)).data;v(!0),E(ne.pdfUrl||`${L_}/api/reports/${t}/pdf`),R("submitted"),await j()}catch(Q){console.error("Submission error:",Q);const ne=((X=(z=Q.response)==null?void 0:z.data)==null?void 0:X.message)||Q.message||"Failed to submit report. Please try again.";m(ne)}finally{h(!1)}},T=w==="submitted";return a.jsxs("div",{className:"review-submit-page",children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h2",{children:"Review & Submit BRSR Report"}),a.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:j,disabled:A,style:{fontSize:"0.875rem"},children:A?"Refreshing...":"🔄 Refresh Data"})]}),a.jsxs("p",{style:{textAlign:"center",marginBottom:"20px"},children:["Report Status: ",a.jsx("strong",{style:{color:T?"green":"orange"},children:w.toUpperCase()})]}),a.jsx("h4",{children:"Section Completion Checklist"}),a.jsx("ul",{style:{listStyle:"none",padding:0},children:C.map(z=>a.jsxs("li",{style:{marginBottom:8,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid #eee",backgroundColor:z.status?"#f8f9fa":"#fff3cd"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("span",{style:{fontWeight:500},children:z.label}),a.jsxs("div",{style:{fontSize:"0.875rem",color:"#6c757d",marginTop:"2px"},children:["Required: ",z.requiredFields.join(", ")]})]}),a.jsx("span",{style:{color:z.status?"green":"red",marginLeft:8,fontWeight:600},children:z.status?"✓ Complete":"⚠ Incomplete"}),!T&&a.jsx("button",{className:"btn btn-sm btn-light",style:{marginLeft:16},onClick:()=>o(`/report-wizard/${t}/${z.key}`),children:"Edit"}),T&&a.jsx("span",{className:"text-muted text-sm",children:"Read-Only"})]},z.key))}),a.jsx("hr",{}),a.jsxs("div",{className:"review-data-summary",style:{maxHeight:"600px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"#f9f9f9",marginBottom:"20px"},children:[a.jsx("h4",{children:"Full Report Data Overview"}),r?a.jsx(Ix,{data:r}):a.jsx("p",{children:"No data loaded for review."})]}),a.jsx("hr",{}),"            ",T?a.jsxs(a.Fragment,{children:[a.jsx("p",{style:{color:"green",fontWeight:"bold",textAlign:"center"},children:"This report has been submitted."}),y?a.jsx("button",{className:"form-button",style:{marginTop:16},onClick:async()=>{try{const z=await sr.get(`/reports/${t}/pdf`,{responseType:"blob"}),X=new Blob([z.data],{type:"application/pdf"}),Q=window.URL.createObjectURL(X),ne=document.createElement("a");ne.href=Q,ne.download=`BRSR_Report_${t}.pdf`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(Q)}catch(z){console.error("PDF download failed:",z),m("Failed to download PDF. Please try again.")}},children:"Download BRSR PDF"}):a.jsx("p",{style:{textAlign:"center",marginTop:"10px"},children:"PDF generation initiated. Please check the history page or try downloading later."})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"form-button",style:{marginTop:16},onClick:N,disabled:!b||d,children:d?"Submitting...":"Submit & Generate PDF"}),"                    ",p&&a.jsx("p",{style:{color:"red",textAlign:"center",marginTop:"10px"},children:p}),g&&y&&a.jsx("button",{className:"form-button",style:{marginTop:16},onClick:async()=>{try{const z=await sr.get(`/reports/${t}/pdf`,{responseType:"blob"}),X=new Blob([z.data],{type:"application/pdf"}),Q=window.URL.createObjectURL(X),ne=document.createElement("a");ne.href=Q,ne.download=`BRSR_Report_${t}.pdf`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(Q)}catch(z){console.error("PDF download failed:",z),m("Failed to download PDF. Please try again.")}},children:"Download BRSR PDF"}),!b&&a.jsx("div",{style:{backgroundColor:"#fff3cd",padding:"12px",borderRadius:"8px",marginTop:"12px",border:"1px solid #ffeaa7"},children:a.jsx("p",{style:{color:"#856404",margin:0,textAlign:"center",fontWeight:500},children:'⚠ Please complete all sections before submitting. Check the items marked as "Incomplete" above.'})})]})]})}const ii=D.createContext(null);function _R(){const[r,t]=D.useState(null),[s,i]=D.useState(!0);return D.useEffect(()=>{console.log("[AppRouter] useEffect started. Initializing auth state..."),(async()=>{console.log("[AppRouter] Fetching initial Supabase session...");try{const{data:{session:d},error:h}=await ni.auth.getSession();h?(console.error("[AppRouter] Error fetching initial session:",h),t(null),await vs()):(console.log("[AppRouter] Initial Supabase session fetched:",d?"valid session":"no session"),d&&El(d),t(d))}catch(d){console.error("[AppRouter] Exception during initial session fetch:",d),t(null),await vs()}finally{i(!1),console.log("[AppRouter] Initial auth loading complete. loadingAuth set to false.")}})();const{data:o}=ni.auth.onAuthStateChange(async(d,h)=>{console.log("[AppRouter] onAuthStateChange triggered. Event:",d,"Session:",h?"exists":"null"),h?(El(h),t(h)):(await vs(),t(null)),s&&(d==="INITIAL_SESSION"||d==="SIGNED_IN"||d==="SIGNED_OUT")&&(i(!1),console.log("[AppRouter] onAuthStateChange set loadingAuth to false. Event:",d))});return console.log("[AppRouter] Supabase onAuthStateChange listener attached."),()=>{o&&o.subscription&&(console.log("[AppRouter] Unsubscribing from onAuthStateChange."),o.subscription.unsubscribe())}},[]),s?(console.log("[AppRouter] Rendering loading state (outer)..."),a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#333",color:"white"},children:a.jsx("h2",{children:"Loading application..."})})):(console.log("[AppRouter] Auth loading finished. Rendering Router. Current session state:",r),a.jsx(ii.Provider,{value:{session:r,loadingAuth:s},children:a.jsx(Rw,{children:a.jsx(sw,{children:a.jsxs(Nt,{path:"/",element:a.jsx(zw,{}),children:[a.jsx(Nt,{index:!0,element:a.jsx(wl,{to:r?"/profile":"/login",replace:!0})}),a.jsx(Nt,{path:"login",element:r?a.jsx(wl,{to:"/profile",replace:!0}):a.jsx(Ek,{})}),a.jsx(Nt,{path:"register",element:r?a.jsx(wl,{to:"/profile",replace:!0}):a.jsx(Ak,{})}),a.jsxs(Nt,{element:a.jsx(Lk,{}),children:[a.jsx(Nt,{path:"profile",element:a.jsx(Dk,{})}),a.jsx(Nt,{path:"profile/edit-disclosures",element:a.jsx(Bk,{})}),a.jsx(Nt,{path:"reports/new",element:a.jsx(Pk,{})}),a.jsx(Nt,{path:"reports/history",element:a.jsx(Uk,{})}),"                            ",a.jsxs(Nt,{path:"report-wizard/:reportId",element:a.jsx(gE,{}),children:[a.jsx(Nt,{index:!0,element:a.jsx(wl,{to:"section-a",replace:!0})})," ",a.jsx(Nt,{path:"section-a",element:a.jsx(EA,{})}),a.jsx(Nt,{path:"section-b",element:a.jsx(OA,{})}),a.jsx(Nt,{path:"section-c-p1",element:a.jsx(LA,{})}),a.jsx(Nt,{path:"section-c-p2",element:a.jsx(VA,{})}),a.jsx(Nt,{path:"section-c-p3",element:a.jsx(GA,{})}),a.jsx(Nt,{path:"section-c-p4",element:a.jsx(ZA,{})}),a.jsx(Nt,{path:"section-c-p5",element:a.jsx(QA,{})}),a.jsx(Nt,{path:"section-c-p6",element:a.jsx(KA,{})}),a.jsx(Nt,{path:"section-c-p7",element:a.jsx(XA,{})}),a.jsx(Nt,{path:"section-c-p8",element:a.jsx(sR,{})}),a.jsx(Nt,{path:"section-c-p9",element:a.jsx(oR,{})}),a.jsx(Nt,{path:"review-submit",element:a.jsx(hR,{})})]})]}),a.jsx(Nt,{path:"*",element:a.jsx(wl,{to:"/",replace:!0})})]})})})}))}fj.createRoot(document.getElementById("root")).render(a.jsx(ot.StrictMode,{children:a.jsx(Mk,{fallback:a.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f8f9fa",color:"#495057",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px"},children:[a.jsx("h2",{style:{marginBottom:"16px"},children:"Something went wrong"}),a.jsx("p",{style:{marginBottom:"24px",maxWidth:"500px"},children:"We apologize for the inconvenience. Please refresh the page to try again."}),a.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Refresh Page"})]}),children:a.jsx(_R,{})})}));export{fp as g};
